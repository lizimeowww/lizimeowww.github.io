<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>lizimeow&#39;s blog</title>
  <subtitle>随手记录</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-03-15T13:27:22.062Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>lizimeow</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>解决Canvas图片跨域问题</title>
    <link href="http://yoursite.com/2017/03/14/2017-03-14-%20%E8%A7%A3%E5%86%B3Canvas%E5%9B%BE%E7%89%87%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98/"/>
    <id>http://yoursite.com/2017/03/14/2017-03-14- 解决Canvas图片跨域问题/</id>
    <published>2017-03-14T12:00:00.000Z</published>
    <updated>2017-03-15T13:27:22.062Z</updated>
    
    <content type="html"><![CDATA[<p>Uncaught DOMException: Failed to execute ‘getImageData’ on ‘CanvasRenderingContext2D’: The canvas has been tainted by cross-origin data.`</p>
<p>在写canvas的时候要获取图像数据，遇到了上面这个错误。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> img = <span class="keyword">new</span> Image()</div><div class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>)</div><div class="line"><span class="keyword">var</span> ctx = canvas.getContext(<span class="string">'2d'</span>)</div><div class="line">img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  ctx.drawImage(img, <span class="number">0</span>, <span class="number">0</span>)</div><div class="line">  img.style.display = <span class="string">'none'</span></div><div class="line">&#125;;</div><div class="line">img.src = <span class="string">'1.png'</span></div><div class="line"><span class="comment">//....省略不重要的代码</span></div><div class="line"><span class="keyword">var</span> pix = ctx.getImageData(x, y, <span class="number">1</span>, <span class="number">1</span>)<span class="comment">//错误的地方</span></div></pre></td></tr></table></figure>
<h3 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h3><p>一般情况下，我们可以不通过CORS就在画布中使用跨域图片，用<code>new Image()</code>加载，然后将这个图片画在canvas上。但是这么做会污染画布，也就是让canvas变成了脏状态，一旦画布被污染，我们就不能读取其数据。譬如toDataUrl、getImageData()等。</p>
<p>​    为了解决这个问题，image新增了一个属性crossOrigin，使得img也走类似XHR的跨域权限机制。设置了crossOrigin的img，即便是跨域图片被画在canvas上，也不会使canvas变为脏状态。</p>
<h3 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h3><ul>
<li><p>给image设置crossOrigin属性   <code>img.crossOrigin=&quot;anonymous&quot;</code></p>
<p>提供资源的服务器也得支持跨域请求  header要设置<code>Access-Control-Allow-Origin:*</code></p>
<p>crossOrigin属性一定要在src之前设置</p>
</li>
<li><p>如果在本地运行报错，可能是因为使用了<code>file://</code></p>
<p>也就是说这个页面需要运行在服务器上，所以我们可以运行一个localhost </p>
<p>Set up localhost的几个方法..</p>
<ul>
<li>丢在 WampServer 里</li>
<li><code>python -m http.server 8080</code>  （Python3）</li>
</ul>
<p>​</p>
</li>
</ul>
<p>stackoverfow 的相关提问 <a href="http://stackoverflow.com/questions/9972049/cross-origin-data-in-html5-canvas" target="_blank" rel="external">canvas CORS</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Uncaught DOMException: Failed to execute ‘getImageData’ on ‘CanvasRenderingContext2D’: The canvas has been tainted by cross-origin data.`
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Canvas 学习笔记</title>
    <link href="http://yoursite.com/2017/03/02/2017-02-30-%20Canvas%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>http://yoursite.com/2017/03/02/2017-02-30- Canvas学习笔记/</id>
    <published>2017-03-02T13:04:13.000Z</published>
    <updated>2017-03-15T13:30:57.286Z</updated>
    
    <content type="html"><![CDATA[<h2 id="虚线"><a href="#虚线" class="headerlink" title="虚线"></a>虚线</h2><p>使用<code>setLineDash</code>和<code>lineDashOffset</code>属性来设置虚线样式</p>
<ul>
<li><p>setLineDash : 接受一个数组来制定虚线里的线段和间隙的长度</p>
<p>如<code>ctx.serLineDash([4,2])</code></p>
</li>
<li><p>lineDashOffset : 设置虚线起始偏移量</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//一个行军蚁的demo</span></div><div class="line"><span class="keyword">var</span> ctx = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>).getContext(<span class="string">'2d'</span>);</div><div class="line"><span class="keyword">var</span> offset = <span class="number">0</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  ctx.clearRect(<span class="number">0</span>,<span class="number">0</span>, canvas.width, canvas.height);</div><div class="line">  ctx.setLineDash([<span class="number">4</span>, <span class="number">2</span>]);</div><div class="line">  ctx.lineDashOffset = -offset;</div><div class="line">  ctx.strokeRect(<span class="number">10</span>,<span class="number">10</span>, <span class="number">100</span>, <span class="number">100</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">march</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  offset++;</div><div class="line">  <span class="keyword">if</span> (offset &gt; <span class="number">16</span>) &#123;</div><div class="line">    offset = <span class="number">0</span>;</div><div class="line">  &#125;</div><div class="line">  draw();</div><div class="line">  setTimeout(march, <span class="number">20</span>);</div><div class="line">&#125;</div><div class="line">march();</div></pre></td></tr></table></figure>
<p><img src="ants.gif" alt="ants"></p>
<h2 id="渐变-Gradients"><a href="#渐变-Gradients" class="headerlink" title="渐变 Gradients"></a>渐变 Gradients</h2><ul>
<li><code>createLinearGradient(x1, y1, x2, y2)</code>  接受 4 个参数，表示渐变的起点 (x1,y1) 与终点 (x2,y2)。</li>
<li><code>createRadialGradient(x1, y1, r1, x2, y2, r2)</code>接受 6 个参数，前三个定义一个以 (x1,y1) 为原点，半径为 r1 的圆，后三个参数则定义另一个以 (x2,y2) 为原点，半径为 r2 的圆。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//让起点稍微偏离终点，达到球状3D渐变效果</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> ctx = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>).getContext(<span class="string">'2d'</span>);</div><div class="line">  <span class="keyword">var</span> radial = ctx.createRadialGradient(<span class="number">45</span>,<span class="number">45</span>,<span class="number">10</span>,<span class="number">52</span>,<span class="number">50</span>,<span class="number">30</span>);</div><div class="line">  radial.addColorStop(<span class="number">0</span>, <span class="string">'#A7D30C'</span>);</div><div class="line">  radial.addColorStop(<span class="number">0.9</span>, <span class="string">'#019F62'</span>);</div><div class="line">  radial.addColorStop(<span class="number">1</span>, <span class="string">'rgba(1,159,98,0)'</span>);</div><div class="line">  <span class="comment">//#019F62和rgba(1,159,98,1)的色值是相等的，最后一个色是透明的。两个值相等可以使过渡柔和。</span></div><div class="line">  ctx.fillStyle = radial;</div><div class="line">  ctx.fillRect(<span class="number">0</span>,<span class="number">0</span>,<span class="number">150</span>,<span class="number">150</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="radialGradient.png" alt="createRadialGradient"></p>
<h2 id="简单动画"><a href="#简单动画" class="headerlink" title="简单动画"></a>简单动画</h2><h3 id="window-requestAnimationFrame"><a href="#window-requestAnimationFrame" class="headerlink" title="window.requestAnimationFrame()"></a>window.requestAnimationFrame()</h3><p><code>window.requestAnimationFrame()</code> 方法告诉浏览器您希望执行动画，并请求浏览器调用指定的函数在下一次重绘之前更新动画。该方法将在重绘之前调用的回调作为参数。</p>
<p>如果想做逐帧动画的时候应该用这个方法，你的动画函数执行会先于浏览器重绘动作。</p>
<p>下面举一个小球的例子</p>
<p><a href="http://codepen.io/lizimeow/pen/GWRaOx" target="_blank" rel="external">codepen地址</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//运动的小球</span></div><div class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>)</div><div class="line"><span class="keyword">var</span> ctx = canvas.getContext(<span class="string">'2d'</span>)</div><div class="line"><span class="keyword">var</span> raf</div><div class="line"><span class="keyword">var</span> ball = &#123;</div><div class="line">  <span class="attr">x</span>: <span class="number">100</span>,</div><div class="line">  <span class="attr">y</span>: <span class="number">100</span>,</div><div class="line">  <span class="attr">vx</span>: <span class="number">5</span>,<span class="comment">//速度矢量</span></div><div class="line">  vy: <span class="number">2</span>,</div><div class="line">  <span class="attr">radius</span>: <span class="number">25</span>,</div><div class="line">  <span class="attr">color</span>: <span class="string">'blue'</span>,</div><div class="line">  <span class="attr">draw</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    ctx.beginPath()</div><div class="line">    ctx.arc(<span class="keyword">this</span>.x,<span class="keyword">this</span>.y,<span class="keyword">this</span>.radius,<span class="number">0</span>,<span class="built_in">Math</span>.PI*<span class="number">2</span>,<span class="literal">true</span>)</div><div class="line">    ctx.closePath()</div><div class="line">    ctx.fillStyle = <span class="keyword">this</span>.color</div><div class="line">    ctx.fill()</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">clear</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="comment">//用clear 清理掉之前帧里旧的圆形。</span></div><div class="line">  <span class="comment">//ctx.clearRect(0,0,canvas.width,canvas.height) </span></div><div class="line">  </div><div class="line">  <span class="comment">//用一个半透明的fillRect函数取代clearRect函数，产生长尾效果</span></div><div class="line">  ctx.fillStyle = <span class="string">'rgba(255,255,255,0.3)'</span>;</div><div class="line">  ctx.fillRect(<span class="number">0</span>,<span class="number">0</span>,canvas.width,canvas.height);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  clear()</div><div class="line">  ball.draw()</div><div class="line">  ball.x+=ball.vx <span class="comment">//球依靠添加速率矢量进行移动</span></div><div class="line">  ball.y+=ball.vy</div><div class="line">  raf = <span class="built_in">window</span>.requestAnimationFrame(draw)</div><div class="line">&#125;</div><div class="line">canvas.addEventListener(<span class="string">"mouseover"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">  raf = <span class="built_in">window</span>.requestAnimationFrame(draw)</div><div class="line">&#125;)</div><div class="line">canvas.addEventListener(<span class="string">"mouseout"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">  <span class="built_in">window</span>.cancelAnimationFrame(raf)</div><div class="line">&#125;)</div><div class="line">ball.draw()</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//在draw()函数里加上边界检测</span></div><div class="line"><span class="keyword">if</span> (ball.y + ball.vy &gt; canvas.height || ball.y + ball.vy &lt; <span class="number">0</span>) &#123;</div><div class="line">  ball.vy = -ball.vy;</div><div class="line">&#125;</div><div class="line"><span class="keyword">if</span> (ball.x + ball.vx &gt; canvas.width || ball.x + ball.vx &lt; <span class="number">0</span>) &#123;</div><div class="line">  ball.vx = -ball.vx;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="ImageData"><a href="#ImageData" class="headerlink" title="ImageData"></a>ImageData</h2><h3 id="ctx-createImageData-width-height"><a href="#ctx-createImageData-width-height" class="headerlink" title="ctx.createImageData(width,height)"></a>ctx.createImageData(width,height)</h3><p>创建一个 新的、空白的、指定大小的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/ImageData" target="_blank" rel="external"><code>ImageData</code></a> 对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</div><div class="line"><span class="keyword">var</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</div><div class="line">ctx.rect(<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">100</span>);</div><div class="line">ctx.fill();</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(ctx.createImageData(<span class="number">100</span>, <span class="number">100</span>)); </div><div class="line"><span class="comment">// ImageData &#123; width: 100, height: 100, data: Uint8ClampedArray[40000] &#125;</span></div></pre></td></tr></table></figure>
<h3 id="ctx-getImageData-left-top-width-height"><a href="#ctx-getImageData-left-top-width-height" class="headerlink" title="ctx.getImageData(left, top, width, height)"></a>ctx.getImageData(left, top, width, height)</h3><p>得到上下文的像素数据</p>
<p>这个方法会返回一个ImageData对像，它代表了画布区域的像素数据，此画布的四个角落分别表示为(left, top), (left + width, top), (left, top + height), 以及(left + width, top + height)四个点。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> imgData = ctx.getImageData(x, y, <span class="number">1</span>, <span class="number">1</span>);</div><div class="line"><span class="keyword">var</span> data = imgData.data;<span class="comment">//可以通过imgData.data 数组数据去获取每个像素点背景颜色 </span></div><div class="line"><span class="keyword">var</span> rgba = <span class="string">'rgba('</span> + data[<span class="number">0</span>] + <span class="string">','</span> + data[<span class="number">1</span>] + <span class="string">','</span> + data[<span class="number">2</span>] + <span class="string">','</span> + data[<span class="number">3</span>] + <span class="string">')'</span></div></pre></td></tr></table></figure>
<h3 id="ctx-putImageData-myImageData-dx-dy"><a href="#ctx-putImageData-myImageData-dx-dy" class="headerlink" title="ctx.putImageData(myImageData, dx, dy)"></a>ctx.putImageData(myImageData, dx, dy)</h3><p>对场景进行像素数据的写入</p>
<p>dx和dy参数表示你希望在场景内左上角绘制的像素数据所得到的设备坐标。</p>
<h3 id="缩放"><a href="#缩放" class="headerlink" title="缩放"></a>缩放</h3><p>drawImage</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> ctx.drawImage(image, dx, dy);</div><div class="line"><span class="keyword">void</span> ctx.drawImage(image, dx, dy, dWidth, dHeight);</div><div class="line"><span class="keyword">void</span> ctx.drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);</div><div class="line"><span class="comment">//iamge:绘制到上下文的元素。允许任何的 canvas 图像源</span></div><div class="line"><span class="comment">//dx,dy:目标画布的左上角在目标 canvas 上 X 轴和 Y 轴的位置</span></div><div class="line"><span class="comment">//dWidth,dHeight:在目标画布上绘制图像的宽度或高度。允许对绘制的图像进行缩放。 如不说明， 在绘制时图片宽度不会缩放。</span></div><div class="line"><span class="comment">//sx,sy:需要绘制到目标上下文中的，源图像的矩形选择框的左上角 X , Y 坐标</span></div><div class="line"><span class="comment">//sWidth,sHeight:需要绘制到目标上下文中的，源图像的矩形选择框的宽度。如不说明，整个矩形从坐标的sx和sy开始，到图像的右下角结束。</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//缩放</span></div><div class="line"><span class="keyword">var</span> img = <span class="keyword">new</span> Image();</div><div class="line">img.src = <span class="string">'https://mdn.mozillademos.org/files/5397/rhino.jpg'</span>;</div><div class="line">img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  draw(<span class="keyword">this</span>);</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params">img</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>);</div><div class="line">  <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</div><div class="line">  ctx.drawImage(img, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">  img.style.display = <span class="string">'none'</span>;</div><div class="line">  <span class="keyword">var</span> zoom = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> x = event.layerX;</div><div class="line">    <span class="keyword">var</span> y = event.layerY;</div><div class="line">    zoomctx.drawImage(canvas,</div><div class="line">                      <span class="built_in">Math</span>.abs(x - <span class="number">5</span>),<span class="built_in">Math</span>.abs(y - <span class="number">5</span>),</div><div class="line">                      <span class="number">10</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">0</span>,</div><div class="line">                      <span class="number">200</span>, <span class="number">200</span>);</div><div class="line">    <span class="comment">//得到鼠标的位置并裁剪出距各边5像素的图片。将裁出的图复制到另一个画布再把图片调整到我们想要的大小。在缩放画布里，我们将10×10像素的对原画布的裁剪调整为 200×200 。</span></div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  canvas.addEventListener(<span class="string">'mousemove'</span>, zoom);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><a href="https://codepen.io/lizimeow/pen/evGNeK" target="_blank" rel="external">在codepen查看缩放效果</a></p>
<h3 id="反锯齿"><a href="#反锯齿" class="headerlink" title="反锯齿"></a>反锯齿</h3><p>因为反锯齿默认是启用的，我们可能想要关闭它以看到清楚的像素</p>
<p>(不同浏览器需要不同前缀)</p>
<p>ctx.imageSmoothingEnabled \ mozImageSmoothingEnabled \ webkitImageSmoothingEnabled \ msImageSmoothingEnabled </p>
<h2 id="canvas的优化"><a href="#canvas的优化" class="headerlink" title="canvas的优化"></a>canvas的优化</h2><ul>
<li>在离屏canvas上预渲染相似的图形或重复的对象</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">myEntity.offscreenCanvas = <span class="built_in">document</span>.createElement(<span class="string">"canvas"</span>);</div><div class="line">myEntity.offscreenCanvas.width = myEntity.width;</div><div class="line">myEntity.offscreenCanvas.height = myEntity.height;</div><div class="line">myEntity.offscreenContext = myEntity.offscreenCanvas.getContext(<span class="string">"2d"</span>);</div><div class="line"></div><div class="line">myEntity.render(myEntity.offscreenContext);</div></pre></td></tr></table></figure>
<ul>
<li><p>避免浮点数的坐标点，用整数取而代之</p>
<p>浏览器为了达到抗锯齿的效果会做额外的运算，所以在调用<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/drawImage" target="_blank" rel="external"><code>drawImage()</code></a>函数时，应该用<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math/floor" target="_blank" rel="external"><code>Math.floor()</code></a>函数对所有的坐标点取整。</p>
</li>
<li><p>在离屏canvas中缓存图片的不同尺寸，而不要用<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/drawImage" target="_blank" rel="external"><code>drawImage()</code></a>去缩放它们</p>
</li>
<li><p>使用多层画布去画一个复杂的场景</p>
</li>
<li><p>用CSS设置大的背景图</p>
<p>如果你有一张静态的背景图，那就用一个静态的div元素，结合background，再将它置于画布元素之后。这么做可以避免在每一帧在画布上绘制大图。</p>
</li>
<li><p>用CSS transforms特性缩放画布。</p>
<p>CSS的transforms特性由于调用GPU，因此更快捷。最好的情况是，不要将小画布放大，而是去将大画布缩小</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> scaleX = canvas.width / <span class="built_in">window</span>.innerWidth;</div><div class="line"><span class="keyword">var</span> scaleY = canvas.height / <span class="built_in">window</span>.innerHeight;</div><div class="line"></div><div class="line"><span class="keyword">var</span> scaleToFit = <span class="built_in">Math</span>.min(scaleX, scaleY);</div><div class="line"><span class="keyword">var</span> scaleToCover = <span class="built_in">Math</span>.max(scaleX, scaleY);</div><div class="line"></div><div class="line">stage.style.transformOrigin = <span class="string">"0 0"</span>; <span class="comment">//scale from top left</span></div><div class="line">stage.style.transform = <span class="string">"scale("</span> + scaleToFit + <span class="string">")"</span>;</div></pre></td></tr></table></figure>
<p>更多关于Canvas性能优化的文章</p>
<ul>
<li><a href="http://www.html5rocks.com/en/tutorials/canvas/performance/#toc-ref" target="_blank" rel="external">Improving HTML5 Canvas Performance – HTML5 Rocks</a></li>
<li><a href="https://hacks.mozilla.org/2013/05/optimizing-your-javascript-game-for-firefox-os/" target="_blank" rel="external">Optimizing your JavaScript game for Firefox OS – Mozilla Hacks</a></li>
</ul>
<p>本文是学习 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API" target="_blank" rel="external">MDN_Canvas_API</a> 的笔记</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;虚线&quot;&gt;&lt;a href=&quot;#虚线&quot; class=&quot;headerlink&quot; title=&quot;虚线&quot;&gt;&lt;/a&gt;虚线&lt;/h2&gt;&lt;p&gt;使用&lt;code&gt;setLineDash&lt;/code&gt;和&lt;code&gt;lineDashOffset&lt;/code&gt;属性来设置虚线样式&lt;/p&gt;
&lt;u
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>【翻译】优化Web中的GIFs</title>
    <link href="http://yoursite.com/2017/02/20/2017-02-20-%E3%80%90%E7%BF%BB%E8%AF%91%E3%80%91%E4%BC%98%E5%8C%96Web%E9%87%8C%E7%9A%84GIF/"/>
    <id>http://yoursite.com/2017/02/20/2017-02-20-【翻译】优化Web里的GIF/</id>
    <published>2017-02-20T06:00:00.000Z</published>
    <updated>2017-02-23T07:12:34.546Z</updated>
    
    <content type="html"><![CDATA[<p>原文地址：<a href="https://bitsofco.de/optimising-gifs/" target="_blank" rel="external">https://bitsofco.de/optimising-gifs/</a></p>
<p>跟很多人一样，我也很喜欢GIF。我喜欢在我的文章里使用它们来说明功能。就像在我 <a href="https://bitsofco.de/challenge-itunes-library/" target="_blank" rel="external">“Recreating the iTunes Library”</a> 这篇文章里的这个GIF一样。</p>
<p><img src="https://bitsofco.de/content/images/2017/01/lossy-compressed.gif" alt="Example GIF Original File"></p>
<p>然而，在文章里使用GIF实在太<em>重</em>了，上面的这个GIF就占了11.4MB（注：上面这张图不是原图，我无法将原图加载到页面上。）最近，我发现我的一些使用了很大的GIF的文章加载速度往往很慢。原因是使用了无损压缩算法，让一个GIF的每帧都作为一张GIF图片存储。这意味着，通过无损压缩，，图片的质量没有任何损耗，这也是为什么GIF这么大的原因了。</p>
<p>为了解决GIF在网页上的性能问题，我们可以采取下列的一些措施。</p>
<h3 id="使用-HTML5-Video"><a href="#使用-HTML5-Video" class="headerlink" title="使用 HTML5  Video"></a>使用 HTML5  Video</h3><p>令人惊讶的是，使用了无损压缩算法的GIF相当于未经优化处理，以至于例如MP4或者WebM的视频格式提供了比GIF更小的文件尺寸。因此，一个解决GIF性能问题的方案就是不去使用GIF，并且用自动循环播放的HTML5 Video来代替它。</p>
<p>通过使用<code>&lt;video&gt;</code>元素中的确定的属性，我们可以模仿GIF的行为，而且文件占用的存储空间更小。我们需要这些属性：</p>
<ul>
<li><code>autoplay</code> ：视频在就绪后马上播放。</li>
<li><code>loop</code>：无限循环播放该视频</li>
<li><code>muted</code>：当设置该属性后，它规定视频的音频输出应该被静音</li>
<li><code>playsinline</code>：在iOS Safari浏览器中确保视频不会被调到全屏模式。</li>
<li><code>poster</code>：规定视频下载时显示的图像，或者在用户点击播放按钮前显示的图像。</li>
</ul>
<p>我们可以使用下面的这个video元素来代替上文介绍中的GIF：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">autoplay</span> <span class="attr">loop</span> <span class="attr">muted</span> <span class="attr">playsinline</span> <span class="attr">poster</span>=<span class="string">"original.jpg"</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">type</span>=<span class="string">"video/webm"</span> <span class="attr">src</span>=<span class="string">"original.webm"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"original.gif"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></div></pre></td></tr></table></figure>
<p>它给了我们一个非常小的视频，只有1MB！</p>
<video autoplay loop muted playsinline="" poster="http://res.cloudinary.com/ireaderinokun/image/upload/v1485711823/lossy-compressed_s9cypz.jpg"><br><br><source type="video/webm" src="http://res.cloudinary.com/ireaderinokun/image/upload/v1485711823/lossy-compressed_s9cypz.webm"><br><img src="https://bitsofco.de/content/images/2017/01/lossy-compressed.gif"><br><br></video>

<p>我们可以使用<a href="https://cloudconvert.com/gif-to-webm" target="_blank" rel="external">CloudConvert</a>来将GIF转换成 WebM 。或者，如果你使用<a href="https://cloudinary.com/" target="_blank" rel="external">Cloudinary</a>，你只需要将<code>.gif</code>的文件后缀改成<code>.webm</code>就可以得到这个视频格式了。</p>
<h3 id="有损优化"><a href="#有损优化" class="headerlink" title="有损优化"></a>有损优化</h3><p>在一些情况下，因为 HTML5 Video 不能作用于任何地方，我们不得不在那儿使用真正的GIF。例如，当一个博客作为HTML 邮件传递时，就必须使用真正的GIF了。所以，我们不得不对GIF自身做一些优化来提高性能。</p>
<p>正如我提到的那样，GIF压缩算法是无损的。然而，也有有损压缩的选项。虽然听起来我们将得到一个低质量的GIF，但是有损压缩做得好的话也不会明显的降低图像的质量。</p>
<p>有许多我们可以使用的有损压缩GIF的工具，譬如 <a href="https://github.com/kohler/gifsicle" target="_blank" rel="external">gifsicle</a> 和 <a href="https://github.com/pornel/giflossy" target="_blank" rel="external">giflossy</a> 就是很流行的用来优化 GIF 的工具 . Gifsicle 是一个用命令行界面来操纵GIF文件的工具， giflossy 是 gifsicle 的一个分支，提供有损压缩的选项（<code>--lossy</code>）</p>
<p><code>gifsicle -O3 --lossy=80 -o compressed.gif original.gif</code></p>
<p><code>-03</code>选项的作用是告诉 gifsicle 尝试去找到最合适的优化方法。<code>--lossy=80</code>选项指定文件要有损压缩多少。你可以根据需要调整这个数字。<code>-o compressed.gif</code>选项指定压缩后输出的 GIF 的命名。最后，我们要写上源 GIF 的地址。</p>
<p>使用上面的这个命令压缩上文提到的 GIF 的例子，我们将11.4MB 的GIF 压缩到 6MB ，减少了47%的文件大小！</p>
<p> <img src="https://bitsofco.de/content/images/2017/01/lossy-compressed.gif" alt="Compressed GIF"></p>
<p>结合上述的两种方法，我们可以在某种程度上使用GIF，并且不会急剧的降低性能。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;原文地址：&lt;a href=&quot;https://bitsofco.de/optimising-gifs/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://bitsofco.de/optimising-gifs/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;跟很多人一样
    
    </summary>
    
    
      <category term="Web" scheme="http://yoursite.com/tags/Web/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript&#39;s bitwise operators</title>
    <link href="http://yoursite.com/2016/12/30/2016-12-30-JavaScript%E2%80%98s%20bitwise%20operators/"/>
    <id>http://yoursite.com/2016/12/30/2016-12-30-JavaScript‘s bitwise operators/</id>
    <published>2016-12-30T06:00:00.000Z</published>
    <updated>2016-12-30T13:04:09.251Z</updated>
    
    <content type="html"><![CDATA[<p>在做codewars的Morse encoding 的题目的时候，发现js的位运算很奇怪_(:зゝ∠)…</p>
<p>然后试了一下</p>
<p><code>console.log((5).toString(2));</code></p>
<p>结果是 <code>101</code></p>
<p><code>console.log(~5)</code></p>
<p>想象中应该是2 或者010</p>
<p>然而结果是<code>-6</code>… </p>
<p><strong>Reason：</strong></p>
<p>The binary representation of numbers in JS is handled in the “Two’s Complement” system. which is just a fancy way of saying that for any given set of bits,the first bit represents the sign (0 for positive,1 for negative) of the number and the rest of the bits represent the “absolute value” of the number according to the follow simple formula:</p>
<ul>
<li>For positive numbers and 0 ,the value tells how “far” from 0 the number is… i.e. 10 in binary(2 in decimal) means “2 above 0” ,so for a 3-bit number in Two’s Complement ,the number 2(decimal) would be represented as “010”</li>
<li>For negative numbers,how far above the smallest possible value that can be represented with the number of bits available ,e.g. with three bits ,the smallest possible number we can represent is -4 ,so “101”(binary) is like saying “01 more than -4” or -3.</li>
</ul>
<p>so in the example above ,when we “flipped” the bits of the number 5,there was the extra “sign bit” on the front that got flipped as well.. so what we thought was “101” was actually “0101” and when we flipped the bits ,we got “1010” i.e. “-6”</p>
<p>即所有的按位操作符的操作数都会被转成补码（two’s complement）形式的有符号32位整数。</p>
<p>所以要考虑在进行位运算的时候一定要考虑符号位..</p>
<p><code>&lt;&lt;</code> 有符号左移</p>
<p><code>&gt;&gt;</code> 有符号右移</p>
<p><code>&lt;&lt;&lt;</code> 无符号左移</p>
<p><code>&gt;&gt;&gt;</code>无符号右移</p>
<h4 id="巧用"><a href="#巧用" class="headerlink" title="巧用"></a>巧用</h4><ul>
<li><p>判断奇偶性</p>
<p><code>n &amp; 1 === 0 //true 为 奇数</code></p>
</li>
<li><p>向下取整</p>
<p><code>(3.14 | 0) === 3 //true</code></p>
<p><code>~~3.14 //3</code></p>
</li>
<li><p>向上取整</p>
<p><code>-~3.14 //4</code></p>
</li>
<li><p>交替变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var a = 1, b = 2;</div><div class="line">a ^= b; // a = a ^ b = 1 ^ 2 = 3</div><div class="line">b ^= a; // b = b ^ (a ^ b) = 2 ^ (1 ^ 2) = 1</div><div class="line">a ^= b; // a = a ^ b = 3 ^ 1 = 2</div></pre></td></tr></table></figure>
</li>
<li><p>求 2 的 N 次方</p>
<p><code>1 &lt;&lt; n</code></p>
</li>
<li><p>判断数字正负</p>
<p><code>(n === (n &gt;&gt;&gt; 0)) ? true : false; //负数返回false</code></p>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;在做codewars的Morse encoding 的题目的时候，发现js的位运算很奇怪_(:зゝ∠)…&lt;/p&gt;
&lt;p&gt;然后试了一下&lt;/p&gt;
&lt;p&gt;&lt;code&gt;console.log((5).toString(2));&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;结果是 &lt;code&gt;101
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>CodeWars - 3kyu - Morse Encoding</title>
    <link href="http://yoursite.com/2016/12/29/2016-12-29-Codewars-3kyu-MorseEncoding/"/>
    <id>http://yoursite.com/2016/12/29/2016-12-29-Codewars-3kyu-MorseEncoding/</id>
    <published>2016-12-29T02:26:49.000Z</published>
    <updated>2016-12-30T03:49:29.461Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.codewars.com/kata/morse-encoding/train/javascript" target="_blank" rel="external">题目</a></p>
<p>这个题目的要求就是让我们写两个方法</p>
<p>The first method <code>Morse.encode</code> will take a String representing the message and will return an array of <strong>signed 32-bit integers</strong> in <strong>big-endian order</strong> and in <strong>two’s complement format</strong>. </p>
<p>The second method <code>Morse.decode</code> will take an array of numbers and return the String representation of the message. </p>
<p>我的代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Morse = &#123;&#125;;</div><div class="line">Morse.alpha = &#123;</div><div class="line">  <span class="string">'A'</span>: <span class="string">'10111'</span>,</div><div class="line">  <span class="string">'B'</span>: <span class="string">'111010101'</span>,</div><div class="line">  <span class="string">'C'</span>: <span class="string">'11101011101'</span>,</div><div class="line">  <span class="string">'D'</span>: <span class="string">'1110101'</span>,</div><div class="line">  <span class="string">'E'</span>: <span class="string">'1'</span>,</div><div class="line">  <span class="string">'F'</span>: <span class="string">'101011101'</span>,</div><div class="line">  <span class="string">'G'</span>: <span class="string">'111011101'</span>,</div><div class="line">  <span class="string">'H'</span>: <span class="string">'1010101'</span>,</div><div class="line">  <span class="string">'I'</span>: <span class="string">'101'</span>,</div><div class="line">  <span class="string">'J'</span>: <span class="string">'1011101110111'</span>,</div><div class="line">  <span class="string">'K'</span>: <span class="string">'111010111'</span>,</div><div class="line">  <span class="string">'L'</span>: <span class="string">'101110101'</span>,</div><div class="line">  <span class="string">'M'</span>: <span class="string">'1110111'</span>,</div><div class="line">  <span class="string">'N'</span>: <span class="string">'11101'</span>,</div><div class="line">  <span class="string">'O'</span>: <span class="string">'11101110111'</span>,</div><div class="line">  <span class="string">'P'</span>: <span class="string">'10111011101'</span>,</div><div class="line">  <span class="string">'Q'</span>: <span class="string">'1110111010111'</span>,</div><div class="line">  <span class="string">'R'</span>: <span class="string">'1011101'</span>,</div><div class="line">  <span class="string">'S'</span>: <span class="string">'10101'</span>,</div><div class="line">  <span class="string">'T'</span>: <span class="string">'111'</span>,</div><div class="line">  <span class="string">'U'</span>: <span class="string">'1010111'</span>,</div><div class="line">  <span class="string">'V'</span>: <span class="string">'101010111'</span>,</div><div class="line">  <span class="string">'W'</span>: <span class="string">'101110111'</span>,</div><div class="line">  <span class="string">'X'</span>: <span class="string">'11101010111'</span>,</div><div class="line">  <span class="string">'Y'</span>: <span class="string">'1110101110111'</span>,</div><div class="line">  <span class="string">'Z'</span>: <span class="string">'11101110101'</span>,</div><div class="line">  <span class="string">'0'</span>: <span class="string">'1110111011101110111'</span>,</div><div class="line">  <span class="string">'1'</span>: <span class="string">'10111011101110111'</span>,</div><div class="line">  <span class="string">'2'</span>: <span class="string">'101011101110111'</span>,</div><div class="line">  <span class="string">'3'</span>: <span class="string">'1010101110111'</span>,</div><div class="line">  <span class="string">'4'</span>: <span class="string">'10101010111'</span>,</div><div class="line">  <span class="string">'5'</span>: <span class="string">'101010101'</span>,</div><div class="line">  <span class="string">'6'</span>: <span class="string">'11101010101'</span>,</div><div class="line">  <span class="string">'7'</span>: <span class="string">'1110111010101'</span>,</div><div class="line">  <span class="string">'8'</span>: <span class="string">'111011101110101'</span>,</div><div class="line">  <span class="string">'9'</span>: <span class="string">'11101110111011101'</span>,</div><div class="line">  <span class="string">'.'</span>: <span class="string">'10111010111010111'</span>,</div><div class="line">  <span class="string">','</span>: <span class="string">'1110111010101110111'</span>,</div><div class="line">  <span class="string">'?'</span>: <span class="string">'101011101110101'</span>,</div><div class="line">  <span class="string">"'"</span>: <span class="string">'1011101110111011101'</span>,</div><div class="line">  <span class="string">'!'</span>: <span class="string">'1110101110101110111'</span>,</div><div class="line">  <span class="string">'/'</span>: <span class="string">'1110101011101'</span>,</div><div class="line">  <span class="string">'('</span>: <span class="string">'111010111011101'</span>,</div><div class="line">  <span class="string">')'</span>: <span class="string">'1110101110111010111'</span>,</div><div class="line">  <span class="string">'&amp;'</span>: <span class="string">'10111010101'</span>,</div><div class="line">  <span class="string">':'</span>: <span class="string">'11101110111010101'</span>,</div><div class="line">  <span class="string">';'</span>: <span class="string">'11101011101011101'</span>,</div><div class="line">  <span class="string">'='</span>: <span class="string">'1110101010111'</span>,</div><div class="line">  <span class="string">'+'</span>: <span class="string">'1011101011101'</span>,</div><div class="line">  <span class="string">'-'</span>: <span class="string">'111010101010111'</span>,</div><div class="line">  <span class="string">'_'</span>: <span class="string">'10101110111010111'</span>,</div><div class="line">  <span class="string">'"'</span>: <span class="string">'101110101011101'</span>,</div><div class="line">  <span class="string">'$'</span>: <span class="string">'10101011101010111'</span>,</div><div class="line">  <span class="string">'@'</span>: <span class="string">'10111011101011101'</span>,</div><div class="line">  <span class="string">' '</span>: <span class="string">'0'</span> <span class="comment">// Technically is 7 0-bits, but we assume that a space will always be between two other characters</span></div><div class="line">&#125;;</div><div class="line">Morse.encode = <span class="function"><span class="keyword">function</span>(<span class="params">message</span>)</span>&#123;</div><div class="line">	<span class="keyword">let</span> k = message.split(<span class="string">''</span>).map(<span class="function"><span class="params">v</span> =&gt;</span> Morse.alpha[v]).join(<span class="string">'000'</span>)</div><div class="line">	k+=<span class="string">"0"</span>.repeat((<span class="number">32</span>-k.length%<span class="number">32</span>)%<span class="number">32</span>)</div><div class="line">	<span class="keyword">return</span> arr = k.match(<span class="regexp">/\d&#123;32&#125;/g</span>).map(<span class="function"><span class="params">v</span> =&gt;</span> -(~<span class="built_in">parseInt</span>(v,<span class="number">2</span>)+<span class="number">1</span>))</div><div class="line">&#125;;</div><div class="line"></div><div class="line">Morse.decode = <span class="function"><span class="keyword">function</span>(<span class="params">integerArray</span>)</span>&#123;</div><div class="line">  	<span class="keyword">return</span> integerArray.map(<span class="function"><span class="params">v</span>=&gt;</span>&#123;</div><div class="line">  		<span class="keyword">if</span>(v&gt;<span class="number">0</span>)&#123;</div><div class="line">  			<span class="keyword">return</span> <span class="string">"0"</span>.repeat((<span class="number">32</span>-v.toString(<span class="number">2</span>).length%<span class="number">32</span>)%<span class="number">32</span>)+v.toString(<span class="number">2</span>)</div><div class="line">  		&#125;<span class="keyword">else</span>&#123;</div><div class="line">  			<span class="keyword">let</span> tem = (~v).toString(<span class="number">2</span>)</div><div class="line">  			tem=<span class="string">"0"</span>.repeat((<span class="number">32</span>-tem.length%<span class="number">32</span>)%<span class="number">32</span>)+tem</div><div class="line">  			<span class="keyword">return</span> tem.split(<span class="string">''</span>).map(<span class="function"><span class="params">v</span>=&gt;</span>&#123;<span class="keyword">return</span> v^<span class="number">1</span>&#125;).join(<span class="string">''</span>)</div><div class="line">  		&#125;</div><div class="line">  	&#125;).join(<span class="string">''</span>).replace(<span class="regexp">/0+$/</span>,<span class="string">''</span>).split(<span class="string">'000'</span>).map(<span class="function"><span class="params">v</span>=&gt;</span> v[<span class="number">0</span>]==<span class="number">0</span>?<span class="string">" "</span>+check(v.substring(<span class="number">1</span>)):check(v)).join(<span class="string">''</span>)</div><div class="line">&#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">check</span>(<span class="params">s</span>)</span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">let</span> v <span class="keyword">in</span> Morse.alpha)&#123;</div><div class="line">		<span class="keyword">if</span>(Morse.alpha[v] == s)</div><div class="line">			<span class="keyword">return</span> v</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>codewars里的票数最高的答案的decode如下</p>
<p>果然还是要学习一个_(:зゝ∠).. 我写的check函数就显得比较冗余而且速度很慢…</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">Morse.decode = <span class="function"><span class="keyword">function</span>(<span class="params">ints</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> bits = ints.map(<span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (<span class="string">'00000000000000000000000000000000'</span> + (i &gt;&gt;&gt; <span class="number">0</span>).toString(<span class="number">2</span>)).slice(<span class="number">-32</span>)</div><div class="line">  &#125;).join(<span class="string">''</span>)</div><div class="line"></div><div class="line">  <span class="keyword">return</span> bits.replace(<span class="regexp">/0+$/</span>, <span class="string">''</span>).split(<span class="string">'0000000'</span>).map(<span class="function"><span class="keyword">function</span>(<span class="params">word</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> word.split(<span class="string">'000'</span>).map(<span class="function"><span class="keyword">function</span>(<span class="params">c</span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> Morse.bits[c]</div><div class="line">    &#125;).join(<span class="string">''</span>)</div><div class="line">  &#125;).join(<span class="string">' '</span>)</div><div class="line">&#125;</div><div class="line">Morse.bits = &#123;&#125;</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> x <span class="keyword">in</span> Morse.alpha) &#123;</div><div class="line">  Morse.bits[Morse.alpha[x]] = x</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>朋神说自动机最快_(:зゝ∠)…（然而我不会… 有空再研究一下….）</p>
<p>上面的bits还可以这样实现↓</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Morse.bits = <span class="built_in">Object</span>.keys(Morse.alpha).reduce(<span class="function">(<span class="params">p, n</span>) =&gt;</span> (p[Morse.alpha[n]] = n,p), &#123;&#125;)</div></pre></td></tr></table></figure>
<p>一年又要过去啦~~</p>
<p>新年快乐~~</p>
<p>QAQ加油呀加油~~</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.codewars.com/kata/morse-encoding/train/javascript&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;题目&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;这个题目的要求就是让我们写两个方法&lt;/p
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>CodeWars - 4kyu - Strip Url Params</title>
    <link href="http://yoursite.com/2016/12/23/2016-12-23-Codewars-4kyu-StripUrlParams/"/>
    <id>http://yoursite.com/2016/12/23/2016-12-23-Codewars-4kyu-StripUrlParams/</id>
    <published>2016-12-23T09:20:20.000Z</published>
    <updated>2016-12-30T03:51:22.226Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.codewars.com/kata/strip-url-params/train/javascript" target="_blank" rel="external">题目</a></p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description:"></a>Description:</h3><h5 id="Complete-the-method-so-that-it-does-the-following"><a href="#Complete-the-method-so-that-it-does-the-following" class="headerlink" title="Complete the method so that it does the following:"></a>Complete the method so that it does the following:</h5><ul>
<li>Removes any duplicate query string parameters from the url</li>
<li>Removes any query string parameters specified within the 2nd argument (optional array)</li>
</ul>
<h5 id="Examples"><a href="#Examples" class="headerlink" title="Examples:"></a>Examples:</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">stripUrlParams(<span class="string">'www.codewars.com?a=1&amp;b=2&amp;a=2'</span>) <span class="comment">// returns 'www.codewars.com?a=1&amp;b=2'</span></div><div class="line">stripUrlParams(<span class="string">'www.codewars.com?a=1&amp;b=2&amp;a=2'</span>, [<span class="string">'b'</span>]) <span class="comment">// returns 'www.codewars.com?a=1'</span></div><div class="line">stripUrlParams(<span class="string">'www.codewars.com'</span>, [<span class="string">'b'</span>]) <span class="comment">// returns 'www.codewars.com'</span></div></pre></td></tr></table></figure>
<p>I coded 10+ lines but the best practices of all solutions is 2 lines… sad ….</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//my solution</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">stripUrlParams</span>(<span class="params">url, paramsToStrip</span>)</span>&#123;</div><div class="line">	<span class="keyword">let</span> params = url.substring(url.indexOf(<span class="string">"?"</span>)+<span class="number">1</span>)</div><div class="line">	<span class="keyword">let</span> k = []</div><div class="line">	<span class="keyword">let</span> j = params.split(<span class="string">"&amp;"</span>).filter(<span class="function">(<span class="params">v,i</span>)=&gt;</span>&#123;</div><div class="line">		<span class="keyword">let</span> tem = v.split(<span class="string">"="</span>)[<span class="number">0</span>]</div><div class="line">		<span class="keyword">if</span> (k.indexOf(tem)==<span class="number">-1</span> &amp;&amp; test(paramsToStrip,tem))&#123;</div><div class="line">			k.push(tem)</div><div class="line">			<span class="keyword">return</span> v</div><div class="line">		&#125;</div><div class="line">	&#125;)</div><div class="line">	<span class="keyword">return</span> url.substring(<span class="number">0</span>,url.indexOf(<span class="string">"?"</span>)+<span class="number">1</span>)+j.join(<span class="string">"&amp;"</span>)</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> test = <span class="function">(<span class="params">arr,p</span>)=&gt;</span>&#123;</div><div class="line">	<span class="keyword">if</span>(arr==<span class="literal">undefined</span> || arr.length==<span class="number">0</span>)</div><div class="line">		<span class="keyword">return</span> <span class="literal">true</span></div><div class="line">	<span class="keyword">return</span> arr.indexOf(p)==<span class="number">-1</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//best practices </span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">stripUrlParams</span>(<span class="params">url, paramsToStrip</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> url.replace(<span class="regexp">/&amp;?([^?=]+)=.+?/g</span>, <span class="function"><span class="keyword">function</span>(<span class="params">m, p1, qPos</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> url.indexOf(p1 + <span class="string">'='</span>) &lt; qPos || (paramsToStrip||[]).indexOf(p1) &gt; <span class="number">-1</span> ? <span class="string">""</span>: m;</div><div class="line">   &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>get了一下replace的小trick..</p>
<p>该好好学学正则了<em>(:зゝ∠)</em>…</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.codewars.com/kata/strip-url-params/train/javascript&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;题目&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Description&quot;&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>Hexo＋GitHub pages＋多说搭建博客</title>
    <link href="http://yoursite.com/2016/11/26/2016-11-26-hexo+GitHub%20pages+%E5%A4%9A%E8%AF%B4%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"/>
    <id>http://yoursite.com/2016/11/26/2016-11-26-hexo+GitHub pages+多说搭建博客/</id>
    <published>2016-11-26T04:46:25.000Z</published>
    <updated>2016-11-26T07:56:33.434Z</updated>
    
    <content type="html"><![CDATA[<h3 id="我的搭建环境"><a href="#我的搭建环境" class="headerlink" title="我的搭建环境"></a>我的搭建环境</h3><blockquote>
<p>OS: Windows_NT 6.3.9600 win32 x64</p>
<p>hexo-cli: 1.0.2</p>
<p>hexo：3.2.2</p>
<p>hexo theme：material</p>
<p>git：2.9.0.windows.1</p>
</blockquote>
<h2 id="Step-1-安装-Node-js"><a href="#Step-1-安装-Node-js" class="headerlink" title="Step 1 安装 Node.js"></a>Step 1 安装 Node.js</h2><p><a href="https://nodejs.org/en/" target="_blank" rel="external">nodejs官网</a></p>
<h2 id="Step-2-安装Hexo"><a href="#Step-2-安装Hexo" class="headerlink" title="Step 2 安装Hexo"></a>Step 2 安装Hexo</h2><p><code>npm install -g hexo</code></p>
<h2 id="Step-3-搭建本地博客"><a href="#Step-3-搭建本地博客" class="headerlink" title="Step 3 搭建本地博客"></a>Step 3 搭建本地博客</h2><ul>
<li><p><strong>新建一个目录,如blog</strong></p>
</li>
<li><p><strong>在该目录下执行</strong><br><code>hexo init</code><br><code>npm install</code><br>此时默认主题默认配置的博客就搭建完成了</p>
</li>
<li><p><strong>安装关于启动服务器的插件</strong><br><code>npm install hexo-server --save</code></p>
</li>
<li><p><strong>启动服务器 默认4000端口</strong><br><code>hexo s</code></p>
</li>
<li><p>5.打开<a href="localhost:4000" target="_blank" rel="external">localhost:4000</a></p>
</li>
</ul>
<h2 id="Step-4-主题和配置"><a href="#Step-4-主题和配置" class="headerlink" title="Step 4 主题和配置"></a>Step 4 主题和配置</h2><p>在 <a href="https://hexo.io/themes/" target="_blank" rel="external">https://hexo.io/themes/</a>选择某个喜欢的主题，以<a href="https://github.com/viosey/hexo-theme-material" target="_blank" rel="external">Material</a>为例，假设当前目录为 “blog”。</p>
<p>前往material主题发布页面下载主题的压缩包</p>
<p>解压并将目录更名为<strong>material</strong></p>
<p> 将<strong>material</strong>目录 移动至 <strong>blog/themes/</strong> 目录下</p>
<p>将 blog 目录下的 <strong>_config.yml</strong> 文件中的 <strong>theme</strong> 属性值改为 <strong>material</strong></p>
<p>此时主题更换成功，可启动 server 验证效果</p>
<p>对于<strong>_config.yml</strong> 中的其他属性可根据情况自行修改</p>
<h2 id="Step-5-将博客部署到Github"><a href="#Step-5-将博客部署到Github" class="headerlink" title="Step 5 将博客部署到Github"></a>Step 5 将博客部署到Github</h2><ul>
<li><p><strong>新建仓库名为 <code>github用户名.github.io</code></strong><br>比如我的就是 <a href="lizimeowww.github.io">lizimeowww.github.io</a><br>然后就可以访问了</p>
</li>
<li><p><strong>安装 hexo 关于git 的组件</strong><br><code>npm install hexo-deployer-git --save</code></p>
</li>
<li><p><strong>在_config.yml 中为 git 添加配置</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">deploy:</div><div class="line">    type: git</div><div class="line">    repository: 你的仓库地址(git@github.com/用户名/用户名.github.io.git)</div><div class="line">    branch: master</div></pre></td></tr></table></figure>
</li>
<li><p><strong>执行</strong><br>  &lt;每次修改都要执行这些命令才能在github pages看到效果&gt;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hexo generate</div><div class="line">hexo deploy</div></pre></td></tr></table></figure>
</li>
</ul>
<p>部署完成之后访问你的如 <code>lizimeowww.github.io</code> 的网址,即可看到和本地一样的效果。</p>
<h2 id="Step-6-删写博客"><a href="#Step-6-删写博客" class="headerlink" title="Step 6 删写博客"></a>Step 6 删写博客</h2><ul>
<li><p><strong>新建博客</strong><br><code>hexo new &quot;文章名&quot;</code><br>或者直接写一个.md文件丢进<code>source/_post</code>这个目录下就可以<br>记得要加上Front-matter </p>
<img src="/2016/11/26/2016-11-26-hexo+GitHub%20pages+多说搭建博客/1.png" alt="image" title="image">
</li>
<li><p><strong>删除文章</strong><br>直接删掉 source/_post 下对应文章的文件，然后重新生成+部署即可。有时可能要多刷新几次才能看到效果。</p>
</li>
</ul>
<h2 id="Step-7-评论系统"><a href="#Step-7-评论系统" class="headerlink" title="Step 7 评论系统"></a>Step 7 评论系统</h2><ul>
<li><p>登录 <a href="http://duoshuo.com/" target="_blank" rel="external">http://duoshuo.com/</a>点击<strong>我要安装</strong>，设置自己的网站信息，获得以下通用代码</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 多说评论框 start --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ds-thread"</span> <span class="attr">data-thread-key</span>=<span class="string">"请将此处替换成文章在你的站点中的ID"</span> <span class="attr">data-title</span>=<span class="string">"请替换成文章的标题"</span> <span class="attr">data-url</span>=<span class="string">"请替换成文章的网址"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 多说评论框 end --&gt;</span></div><div class="line"><span class="comment">&lt;!-- 多说公共JS代码 start (一个网页只需插入一次) --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> duoshuoQuery = &#123;<span class="attr">short_name</span>:<span class="string">"lizimeowww"</span>&#125;;</div><div class="line">	(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="keyword">var</span> ds = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</div><div class="line">		ds.type = <span class="string">'text/javascript'</span>;ds.async = <span class="literal">true</span>;</div><div class="line">		ds.src = (<span class="built_in">document</span>.location.protocol == <span class="string">'https:'</span> ? <span class="string">'https:'</span> : <span class="string">'http:'</span>) + <span class="string">'//static.duoshuo.com/embed.js'</span>;</div><div class="line">		ds.charset = <span class="string">'UTF-8'</span>;</div><div class="line">		(<span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>] </div><div class="line">		 || <span class="built_in">document</span>.getElementsByTagName(<span class="string">'body'</span>)[<span class="number">0</span>]).appendChild(ds);</div><div class="line">	&#125;)();</div><div class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 多说公共JS代码 end --&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>在<code>_config.yml</code>中添加多说的配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">duoshuo: </div><div class="line">  #on: true</div><div class="line">  domain: http://lizimeowww.duoshuo.com</div><div class="line">  # 是否开启多说评论，http://duoshuo.com/create-site/</div><div class="line">  # 使用上面网址登陆你的多说，然后创建站点，在 domain 中填入你设定的域名</div><div class="line">  # http://你的多说域名.duoshuo.com</div></pre></td></tr></table></figure>
</li>
<li><p>打开<code>themes\landscape\layout\_partial\comment.ejs</code>，全选，替换为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;% if (page.comments)&#123; %&gt;  </div><div class="line">&lt;section id=&quot;comment&quot;&gt;  </div><div class="line">  这里要放置多说提供的通用代码  </div><div class="line">&lt;/section&gt;  </div><div class="line">&lt;% &#125; %&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>修改模板</p>
<p>将data-thread-key=”请将此处替换成文章在你的站点中的ID” 替换成data-thread-key=”&lt;%= page.path %&gt;”<br>将data-title=”请替换成文章的标题” 替换成 data-title=”&lt;%= page.title %&gt;”<br>将data-url=”请替换成文章的网址” 替换成 data-url=”&lt;%= page.permalink %&gt;”</p>
<p>​</p>
</li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>看教程不如看官方文档！</p>
<p><a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="external">Hexo的官方文档</a></p>
<p><a href="https://material.vss.im/start/" target="_blank" rel="external">material主题的官方文档</a></p>
<p><del>多说好丑</del></p>
<p>原本接了Travis CI 自动部署 不知道哪里搞错…博客就被我玩坏了😂</p>
<p> 等我考完试再把多说改成Disqus..&amp;重新弄一下自动部署好了…..</p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;我的搭建环境&quot;&gt;&lt;a href=&quot;#我的搭建环境&quot; class=&quot;headerlink&quot; title=&quot;我的搭建环境&quot;&gt;&lt;/a&gt;我的搭建环境&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;OS: Windows_NT 6.3.9600 win32 x64&lt;/p&gt;
&lt;p&gt;
    
    </summary>
    
    
      <category term="教程" scheme="http://yoursite.com/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>解决Ruby gem被墙的问题</title>
    <link href="http://yoursite.com/2016/11/24/2016-11-24-%E8%A7%A3%E5%86%B3Ruby%20gem%E8%A2%AB%E5%A2%99%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <id>http://yoursite.com/2016/11/24/2016-11-24-解决Ruby gem被墙的问题/</id>
    <published>2016-11-24T02:26:49.000Z</published>
    <updated>2016-11-26T07:39:06.154Z</updated>
    
    <content type="html"><![CDATA[<p>gem  install 的时候…..</p>
<p><code>C:\Windows\System32&gt;gem install jekyll ERROR:  Could not find a valid gem &#39;jekyll&#39; (&gt;= 0), here is why:           Unable to download data from https://rubygems.org/ - SSL_connect retur ned=1 errno=0 state=SSLv3 read server certificate B: certificate verif</code></p>
<p>被墙了…</p>
<p>所以只能翻墙或者换源…</p>
<p>之前用SocksCap翻得好好的…今天突然不行了<em>(:зゝ∠)</em>…</p>
<p>所以还是换个源…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ gem sources --remove https://rubygems.org/</div><div class="line">$ gem sources -a https://ruby.taobao.org/</div><div class="line">$ gem sources -l</div><div class="line">*** CURRENT SOURCES ***</div><div class="line"></div><div class="line">https://ruby.taobao.org</div></pre></td></tr></table></figure>
<p>换taobao源的时候报了这个错..- - </p>
<p><code>Error fetching https://ruby.taobao.org/: SSL_connect returned=1 errno=0 stat</code></p>
<p>大概有两种解决方法</p>
<h3 id="第一种方法"><a href="#第一种方法" class="headerlink" title="第一种方法"></a>第一种方法</h3><ul>
<li><p>1、下载<a href="http://pan.baidu.com/s/1sl8fk1f" target="_blank" rel="external">http://pan.baidu.com/s/1sl8fk1f</a> 复制到ruby安装的根目录</p>
</li>
<li><p>2、添加系统环境变量：</p>
<p>SSL_CERT_FILE=ruby的根目录加\cacert.pem（类似c:\Ruby22-x64\cacert.pem）</p>
</li>
<li><p>3、关闭命令行，重新打开，重新键入</p>
<p><code>gem sources -a https://ruby.taobao.org/</code></p>
</li>
</ul>
<h3 id="第二种方法"><a href="#第二种方法" class="headerlink" title="第二种方法"></a>第二种方法</h3><ul>
<li>使用 <a href="http://gems.ruby-china.org/" target="_blank" rel="external">http://gems.ruby-china.org/</a> 做为源</li>
</ul>
<p>（第二种没试..第一种亲测可行…</p>
<p><del>fu*k gfw</del>  </p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;gem  install 的时候…..&lt;/p&gt;
&lt;p&gt;&lt;code&gt;C:\Windows\System32&amp;gt;gem install jekyll ERROR:  Could not find a valid gem &amp;#39;jekyll&amp;#39; (&amp;gt;= 0),
    
    </summary>
    
    
      <category term="杂" scheme="http://yoursite.com/tags/%E6%9D%82/"/>
    
  </entry>
  
  <entry>
    <title>微信小程序的小练手</title>
    <link href="http://yoursite.com/2016/11/23/2016-11-23-wechat-demo/"/>
    <id>http://yoursite.com/2016/11/23/2016-11-23-wechat-demo/</id>
    <published>2016-11-23T11:22:31.000Z</published>
    <updated>2016-11-26T07:38:32.815Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>喵~</p>
</blockquote>
<p>微信小程序是一种不需要下载安装即可使用的应用，它实现了应用“触手可及”的梦想，用户扫一扫或搜一下即可打开应用。用完即走，适合场景化的问题。</p>
<p>微信推了小程序之后大家对它的关注度一直很高。所以就和朋神默默的写了个demo…</p>
<p style="color:#aaa;font-size:14px;">10月底写的小程序…现在11月都快过完了才写博客2333<em>(:зゝ∠)</em>……..</p>

<p><img src="2.gif" alt="2"></p>
<p>考虑了一下小程序用完即走的定位，我们做的这个东西功能十分的简单明确，就是用来进行活动的查看和签到，通过微信提供的位置的api获取坐标进行位置的判断。</p>
<p>因为功能比较简单所以就没有用脚手架….</p>
<h2 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h2><p> <img src="1.png" alt="1"></p>
<p>整个项目的结构大概如图，小程序结构还是比较清晰&amp;好理解的，<code>.js</code>脚本文件，<code>.json</code>配置文件，<code>.wxss</code>样式表文件 </p>
<p>app.json 是对整个小程序的全局配置,可以配置有你的项目哪些页面，tabBar，导航条，网络超时时间等。</p>
<p>app.js是小程序逻辑。在app.js里用<code>App()</code> 函数用来注册一个小程序。指定小程序的生命周期函数等。</p>
<p><strong>tips：</strong></p>
<p><strong>pages里的四个文件必须具有相同的路径与文件名。只能配置最少2个、最多5个 tab</strong> 。</p>
<h3 id="WXML"><a href="#WXML" class="headerlink" title="WXML"></a>WXML</h3><p>有以下几个功能，感觉跟vue差不多-  -….文档写的挺清楚的….没什么好讲的地方…</p>
<p><a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/data.html?t=20161122" target="_blank" rel="external">数据绑定</a>、<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/list.html?t=20161122" target="_blank" rel="external">列表渲染</a>、<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/conditional.html?t=20161122" target="_blank" rel="external">条件渲染</a>、<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/template.html?t=20161122" target="_blank" rel="external">模板</a>、<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/event.html?t=20161122" target="_blank" rel="external">事件</a>、<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/import.html?t=20161122" target="_blank" rel="external">引用</a></p>
<h3 id="WXSS"><a href="#WXSS" class="headerlink" title="WXSS"></a>WXSS</h3><p>跟CSS几乎是一样，多扩展了两个特性，</p>
<ul>
<li><p>rpx（responsive pixel）: 可以根据屏幕宽度进行自适应。</p>
<p>rem（root em）: 规定屏幕宽度为20rem；1rem = (750/20)rpx 。</p>
</li>
<li><p>使用<code>@import</code>语句可以导入外联样式表，<code>@import</code>后跟需要导入的外联样式表的相对路径。</p>
</li>
</ul>
<h2 id="活动的排序"><a href="#活动的排序" class="headerlink" title="活动的排序"></a>活动的排序</h2><p>获取活动的数据，活动有三种状态，正在进行，即将开始，已结束。要令正在进行的活动排在活动列表的最前面，然后按照活动的开始时间进行排序。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">wx.request(&#123;</div><div class="line">        url,</div><div class="line">        <span class="attr">success</span>: <span class="function"><span class="params">resp</span> =&gt;</span> &#123;</div><div class="line">          <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>()</div><div class="line">          <span class="keyword">const</span> a = resp.data.data.map(<span class="function"><span class="params">i</span> =&gt;</span> &#123;</div><div class="line">            i.start = <span class="keyword">new</span> <span class="built_in">Date</span>(i.start)</div><div class="line">            i.end = <span class="keyword">new</span> <span class="built_in">Date</span>(i.end)</div><div class="line">            <span class="keyword">return</span> i</div><div class="line">          &#125;)</div><div class="line">          <span class="built_in">console</span>.log(<span class="string">"resp"</span>,resp)</div><div class="line">          <span class="keyword">const</span> cmp = <span class="function">(<span class="params">a, b</span>) =&gt;</span> b.start - a.start</div><div class="line">          <span class="keyword">const</span> coming = a.filter(<span class="function"><span class="params">i</span> =&gt;</span> i.start &gt; now).sort(cmp).map(<span class="function"><span class="params">i</span> =&gt;</span> (i.statu = <span class="number">0</span>,i))</div><div class="line">          <span class="keyword">const</span> ing = a.filter(<span class="function"><span class="params">i</span> =&gt;</span> i.start &lt; now &amp;&amp; i.end &gt; now).sort(cmp).map(<span class="function"><span class="params">i</span> =&gt;</span> (i.statu = <span class="number">1</span>,i))</div><div class="line">          <span class="keyword">const</span> end = a.filter(<span class="function"><span class="params">i</span> =&gt;</span> i.end &lt; now).sort(cmp).map(<span class="function"><span class="params">i</span> =&gt;</span> (i.statu = <span class="number">2</span>,i))</div><div class="line">          <span class="keyword">const</span> items = [...ing, ...coming, ...end].map(<span class="function"><span class="params">i</span> =&gt;</span> &#123;</div><div class="line">                                                    i.img = u + i.img</div><div class="line">                                                    i.time = util.formatTime(i.start)</div><div class="line">                                                    <span class="keyword">return</span> i</div><div class="line">                                                  &#125;)</div><div class="line">        </div><div class="line">          <span class="keyword">if</span> (items.length) &#123;</div><div class="line">            <span class="keyword">this</span>.setData(&#123;  <span class="attr">items</span>:that.data.items.concat(items), <span class="attr">loading</span>: <span class="literal">true</span> &#125;);</div><div class="line">          &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">this</span>.setData(&#123; <span class="attr">hasMore</span>: <span class="literal">false</span>, <span class="attr">loading</span>: <span class="literal">false</span> &#125;);</div><div class="line">          &#125;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">fail</span>: <span class="function"><span class="params">e</span> =&gt;</span> <span class="built_in">console</span>.log(e)</div><div class="line">      &#125;)</div></pre></td></tr></table></figure>
<p>活动列表的下拉加载遇到了一点坑。。</p>
<p>在wxml的代码里，需要对<code>scroll-view</code>给定一个固定的height，不然他不会有加载的效果，为了适配不同的分辨率，通过<code>wx.getSystemInfo</code>获取用户的窗口高度进行数据绑定。（WXML 中的动态数据均来自对应 Page 的 data）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">scroll-view</span> <span class="attr">scroll-y</span>=<span class="string">"true"</span> <span class="attr">style</span>=<span class="string">"height:&#123;&#123;windowH&#125;&#125;px"</span> <span class="attr">class</span>=<span class="string">"list"</span> <span class="attr">bindscrolltolower</span>=<span class="string">"handleLoadMore"</span> &gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"activity-box"</span>  <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;items&#125;&#125;"</span> <span class="attr">wx:key</span>=<span class="string">"_id"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">"&#123;&#123; item.img &#125;&#125;"</span> <span class="attr">class</span>=<span class="string">"img &#123;&#123; item.statu !== 1 ? 'mask' : '' &#125;&#125; &#123;&#123; item.statu === 0 ? 'coming' : '' &#125;&#125; &#123;&#123; item.statu === 2 ? 'end' : '' &#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">"block"</span>&gt;</span>&#123;&#123; item.title &#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">"block time"</span>&gt;</span>&#123;&#123; item.time &#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"tips"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">"&#123;&#123; hasMore &#125;&#125;"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">"../../image/loading.gif"</span> <span class="attr">mode</span>=<span class="string">"aspectFill"</span>/&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">text</span>&gt;</span>努力加载中_(:зゝ∠)_<span class="tag">&lt;/<span class="name">text</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:else</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">text</span>&gt;</span>没有更多内容了<span class="tag">&lt;/<span class="name">text</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">scroll-view</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></div></pre></td></tr></table></figure>
<p>总而言之，跟vue有一点点像。。&amp;<del>朋神一直在吐槽小程序的api很蠢</del>。。。<em>(:зゝ∠)</em>….</p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;喵~&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;微信小程序是一种不需要下载安装即可使用的应用，它实现了应用“触手可及”的梦想，用户扫一扫或搜一下即可打开应用。用完即走，适合场景化的问题。&lt;/p&gt;
&lt;p&gt;微信推了小程序之后大家对它的关注度一直很高。所
    
    </summary>
    
    
      <category term="Web" scheme="http://yoursite.com/tags/Web/"/>
    
  </entry>
  
  <entry>
    <title>react-native android 在windows下的初体验</title>
    <link href="http://yoursite.com/2015/11/16/2015-11-16-react-native%20android%20%E5%9C%A8windows%E4%B8%8B%E7%9A%84%E5%88%9D%E4%BD%93%E9%AA%8C/"/>
    <id>http://yoursite.com/2015/11/16/2015-11-16-react-native android 在windows下的初体验/</id>
    <published>2015-11-16T03:30:00.000Z</published>
    <updated>2016-11-24T14:26:33.379Z</updated>
    
    <content type="html"><![CDATA[<p>#react-native android 在windows下的初体验#</p>
<h2 id="需要的环境："><a href="#需要的环境：" class="headerlink" title="需要的环境："></a>需要的环境：</h2><ul>
<li>node 4.0以上 （我用的是node5.0）</li>
<li>JDK</li>
<li>android SDK</li>
</ul>
<h3 id="安装node"><a href="#安装node" class="headerlink" title="安装node"></a>安装node</h3><p><a href="https://nodejs.org/en/" target="_blank" rel="external">https://nodejs.org/en/</a></p>
<h3 id="安装JDK"><a href="#安装JDK" class="headerlink" title="安装JDK"></a>安装JDK</h3><p>从<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="external">Java官网</a>选下载最新的JDK并安装</p>
<p>配好环境变量（这里就不赘述了）</p>
<p>配置完毕后，通过cmd运行以下命令：<code>java -version</code>，<code>javac</code> 如果出现返回信息，则设置成功。</p>
<h3 id="下载android-SDK"><a href="#下载android-SDK" class="headerlink" title="下载android SDK"></a>下载android SDK</h3><p>下载地址：<a href="http://developer.android.com/sdk/index.html" target="_blank" rel="external">http://developer.android.com/sdk/index.html</a></p>
<p>Andorid SDK为Android管理开发包工具，提供了Android各级平台的开发包和工具。注意，因为我们是独立安装，不是一体化(集成系列工具)所以需要单独下载SDK。</p>
<p>运行安装文件，并把安装目录下tools文件夹路径设置进PATH环境变量。</p>
<p>到安装目录运行SDK Manager.exe 。<br>把android 4.0以上的包和extra都装了。<br>（可能需要翻一下墙）</p>
<h3 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h3><p><code>npm install -g react-native-cli</code></p>
<p><code>react-native init AwesomeProject</code></p>
<p><code>cd AwesomeProject/</code></p>
<h3 id="运行项目"><a href="#运行项目" class="headerlink" title="运行项目"></a>运行项目</h3><p><code>react-native start</code> </p>
<p>运行成功后，打开另一个命令行窗口，</p>
<p><code>cd AwesomeProject</code></p>
<p>连接好安卓模拟器或者真机（要android5.0以上，不然运行之后会出现Error Type 3）</p>
<p>因为我的安卓模拟器（AVD）超级卡，原先是勾选了Use Host GPU，模拟器启动会加快，但是后来不知道为什么模拟器启动后会自动黑屏。取消勾选Use Host GPU之后模拟器又启动不了，于是我就把自己的小米2s刷成了android 5.0 <em>(:зゝ∠)</em>。</p>
<p>然后</p>
<p><code>adb devices</code></p>
<p>查看自己是否连接上安卓设备，确定连接上后</p>
<p><code>react-native run-android</code></p>
<p>这个时候记得打开你的VPN。。</p>
<p>如果出现了unable to download js bundle，也就是不能reload js，可以尝试<br><code>adb reverse tcp:8081 tcp:8081</code></p>
<p>如果还是不行的话，你可以尝试这篇文章的方法<br><a href="http://www.cnblogs.com/unofficial/p/4843734.html" target="_blank" rel="external">http://www.cnblogs.com/unofficial/p/4843734.html</a></p>
<p>最后的最后，终与可以在手机上看到这个应用啦。</p>
<p>然后你就可以在选定的文本编辑器中打开 index.android.js 并且编辑代码。</p>
<p>摇晃手机或者按菜单键，可以看到reload JS。点击，即可看到修改之后的样子。</p>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>QAQ自带bug体质，几乎每一个坑都踩到了。GFW真是太烦了，下载东西超慢。QAQ。然后在sdk manager下载东西的时候出现了下载了好久最后没有下载下来的情况，<br>好在舍友在玩安卓，从他那儿复制了extra的整个包才得以继续。还有一个坑就是在手机上安装完之后出现了红色的页面，就是不能reload js，谷歌百度之后尝试了各种方法，最后才跑了起来。<br>QAQ痛心疾首，感觉下一台电脑必须是mac了。<br>_(:зゝ∠)</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;#react-native android 在windows下的初体验#&lt;/p&gt;
&lt;h2 id=&quot;需要的环境：&quot;&gt;&lt;a href=&quot;#需要的环境：&quot; class=&quot;headerlink&quot; title=&quot;需要的环境：&quot;&gt;&lt;/a&gt;需要的环境：&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;node
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>关于impress.js的学习小结</title>
    <link href="http://yoursite.com/2015/09/22/2015-09-22-%E5%85%B3%E4%BA%8Eimpress.js%E7%9A%84%E5%AD%A6%E4%B9%A0%E5%B0%8F%E7%BB%93/"/>
    <id>http://yoursite.com/2015/09/22/2015-09-22-关于impress.js的学习小结/</id>
    <published>2015-09-21T16:40:03.000Z</published>
    <updated>2016-11-26T07:37:48.822Z</updated>
    
    <content type="html"><![CDATA[<p>因为工作室要办宣讲会 打算用impress.js做几个ppt</p>
<p>所以我就临时的学了一下 边做边学</p>
<p>感觉这个东西的难点大概就是对三维空间的利用吧 </p>
<p>标准格式如下</p>
<p><code>&lt;div class=&quot;step&quot; data-属性=&quot;500&quot; data-y=&quot;-400&quot;&gt;</code></p>
<h3 id="常用属性"><a href="#常用属性" class="headerlink" title="常用属性"></a>常用属性</h3><p><code>data-x data-y data-z</code> 定义元素中心在画布的坐标，默认为0 。</p>
<p><code>data-scale = &quot;5&quot;</code> 这个元素就会被放大成原来的5倍。如果从这个场景退出，它会被还原原来的大小（缩小5倍）。</p>
<p><code>data-rotate = &quot;360&quot;</code>顺时针旋转360度</p>
<p><code>data-rotate-x = &quot;100&quot;</code> 绕x轴旋转100度。</p>
<p><code>data-rotate-y = &quot;100&quot;</code> 绕y轴旋转100度。</p>
<p><code>data-rotate-z = &quot;100&quot;</code> 绕z轴旋转100度。</p>
<p><code>data-transition-duration=&quot;2000&quot;</code> 改变切换场景的速度，默认的话是1000（也就是1秒）。</p>
<p><code>data-perspective=&quot;500&quot;</code>来改变透视的深度，默认是1000。</p>
<h4 id="还需要使用-impress-init-函数来初始化impress-js"><a href="#还需要使用-impress-init-函数来初始化impress-js" class="headerlink" title="还需要使用 impress().init() 函数来初始化impress.js"></a>还需要使用 <code>impress().init()</code> 函数来初始化impress.js</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;script src=&quot;js/impress.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;impress().init()&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>如果空间布局合理的话 最后用</p>
<p><code>&lt;div id=&quot;overview&quot; class=&quot;step&quot; data-x=&quot;3000&quot; data-y=&quot;1500&quot; data-scale=&quot;10&quot;&gt;</code></p>
<p>会有很酷炫的效果</p>
<p>也可以使用GUI工具<a href="https://github.com/tantaman/Strut" target="_blank" rel="external">Strut</a>进行可视化的制作…</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;因为工作室要办宣讲会 打算用impress.js做几个ppt&lt;/p&gt;
&lt;p&gt;所以我就临时的学了一下 边做边学&lt;/p&gt;
&lt;p&gt;感觉这个东西的难点大概就是对三维空间的利用吧 &lt;/p&gt;
&lt;p&gt;标准格式如下&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;div class=&amp;quot;step
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>sublime的一些常用快捷键</title>
    <link href="http://yoursite.com/2015/08/09/2015-08-09-%E5%85%B3%E4%BA%8Esublime%E7%9A%84%E4%B8%80%E4%BA%9B%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
    <id>http://yoursite.com/2015/08/09/2015-08-09-关于sublime的一些快捷键/</id>
    <published>2015-08-08T17:07:03.000Z</published>
    <updated>2016-11-24T14:27:52.574Z</updated>
    
    <content type="html"><![CDATA[<ul>
<li><code>Alt</code>：调出菜单</li>
<li><code>Ctrl + Shift + P</code>：调出命令板（Command Palette）</li>
<li><code>Ctrl + ` </code>：调出控制台<br><br></li>
<li><code>Shift+右键拖动</code>：多光标，用来更改或插入列内容</li>
<li><code>Ctrl + Enter</code>：在当前行下面新增一行然后跳至该行</li>
<li><code>Ctrl + Shift + Enter</code>：在当前行上面增加一行并跳至该行</li>
<li><code>Ctrl + ←/→</code>：进行逐词移动</li>
<li><code>Ctrl + Shift + ←/→</code>:进行逐词选择</li>
<li><code>Ctrl + ↑/↓</code>:移动当前显示区域</li>
<li><code>Ctrl + L</code>：选择当前行</li>
<li><code>Ctrl + Shift + ↑/↓</code>：移动当前行<br><br></li>
<li><code>Ctrl + D</code>：选择当前光标所在的词并高亮该词所有出现的位置，再次Ctrl + D选择该词出现的下一个位置</li>
<li><code>F3</code>：跳至当前关键字下一个位置</li>
<li><code>Shift + F3</code>：跳到当前关键字上一个位置</li>
<li><code>Alt+F3</code>：选择所有相同的词<br><br></li>
<li><code>Ctrl + Shift + L</code>：将当前选中区域打散</li>
<li><code>Ctrl + J</code>：把当前选中区域合并为一行</li>
<li><code>Ctrl + M</code>：在起始括号和结尾括号间切换</li>
<li><code>Ctrl + Shift + Space</code>：快速选择当前作用域的内容<br><br></li>
<li><code>Ctrl + F/H</code>：进行标准查找/替换，之后：<ul>
<li><code>Alt + C</code>：切换大小写敏感（Case-sensitive）模式</li>
<li><code>Alt + W</code>：切换整字匹配（Whole matching）模式</li>
<li><code>Alt + R</code>：切换正则匹配（Regex matching）模式</li>
<li><code>Ctrl + Shift + H</code>：替换当前关键字</li>
<li><code>Ctrl + Alt + Enter</code>：替换所有关键字匹配</li>
<li><code>Ctrl + Shift + F</code>：多文件搜索&amp;替换<br><br></li>
</ul>
</li>
<li><code>Ctrl + P</code>：跳转到指定文件，输入文件名后可以：<ul>
<li><code>@</code> :符号跳转：输入@symbol跳转到symbol符号所在的位置<ul>
<li><code>#</code> :关键字跳转：输入#keyword跳转到keyword所在的位置</li>
<li><code>:</code> :行号跳转：输入:12跳转到文件的第12行。</li>
</ul>
</li>
</ul>
</li>
<li><code>Ctrl + R</code>：跳转到指定符号</li>
<li><code>Ctrl + G</code>：跳转到指定行号<br><br></li>
<li><code>Ctrl+Tab</code> 按文件浏览过的顺序，切换当前窗口的标签页。</li>
<li><code>Ctrl+PageDown</code> 向左切换当前窗口的标签页。</li>
<li><code>Ctrl+PageUp</code> 向右切换当前窗口的标签页。</li>
<li><code>Alt+Shift+1</code> 窗口分屏，恢复默认1屏（非小键盘的数字）</li>
<li><code>Alt+Shift+2</code> 左右分屏-2列</li>
<li><code>Alt+Shift+3</code> 左右分屏-3列</li>
<li><code>Alt+Shift+4</code> 左右分屏-4列</li>
<li><code>Alt+Shift+5</code> 等分4屏</li>
<li><code>Alt+Shift+8</code> 垂直分屏-2屏</li>
<li><code>Alt+Shift+9</code> 垂直分屏-3屏<br>分屏之后，使用Ctrl + 数字键跳转到指定屏，使用Ctrl + Shift + 数字键将当前屏移动到指定屏</li>
<li><code>Ctrl+K+B</code> 开启/关闭侧边栏。</li>
<li><code>F11</code> 全屏模式</li>
<li><code>Shift+F11</code> 免打扰模式 </li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;&lt;code&gt;Alt&lt;/code&gt;：调出菜单&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl + Shift + P&lt;/code&gt;：调出命令板（Command Palette）&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl + ` &lt;/code&gt;：调出控制台&lt;br&gt;&lt;br&gt;&lt;/
    
    </summary>
    
    
  </entry>
  
</feed>
