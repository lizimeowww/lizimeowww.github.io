<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>lizimeow&#39;s blog</title>
  <subtitle>éšæ‰‹è®°å½•</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-10-24T15:33:19.099Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>lizimeow</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>RxJSå­¦ä¹ -(2)-åŸºæœ¬çš„ operators (äºŒ)</title>
    <link href="http://yoursite.com/2017/10/01/2017-10-01-%20RxJS%E5%AD%A6%E4%B9%A0-(2)-%E5%9F%BA%E6%9C%AC%E7%9A%84%20operators%20(%E4%BA%8C)/"/>
    <id>http://yoursite.com/2017/10/01/2017-10-01- RxJSå­¦ä¹ -(2)-åŸºæœ¬çš„ operators (äºŒ)/</id>
    <published>2017-10-01T12:00:00.000Z</published>
    <updated>2017-10-24T15:33:19.099Z</updated>
    
    <content type="html"><![CDATA[<h3 id="scan"><a href="#scan" class="headerlink" title="scan"></a>scan</h3><p>scan å…¶å®æ˜¯ Observable ç‰ˆæœ¬çš„ reduce</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> source = Rx.Observable.from(<span class="string">'hello'</span>)</div><div class="line">				.zip(Rx.Observable.interval(<span class="number">600</span>), (x, y) =&gt; x)</div><div class="line"><span class="keyword">const</span> example = source.scan(<span class="function">(<span class="params">origin, next</span>) =&gt;</span> origin + next, <span class="string">''</span>)</div><div class="line">example.subscribe(&#123;</div><div class="line">    <span class="attr">next</span>: <span class="function"><span class="params">value</span> =&gt;</span> <span class="built_in">console</span>.log(value),</div><div class="line">  	<span class="attr">error</span>: <span class="function"><span class="params">err</span> =&gt;</span> <span class="built_in">console</span>.log(err),</div><div class="line">  	<span class="attr">complete</span>: <span class="function"><span class="params">_</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'complete!'</span>)</div><div class="line">&#125;)</div><div class="line"><span class="comment">// h</span></div><div class="line"><span class="comment">// he</span></div><div class="line"><span class="comment">// hel</span></div><div class="line"><span class="comment">// hell</span></div><div class="line"><span class="comment">// hello</span></div><div class="line"><span class="comment">// complete!</span></div></pre></td></tr></table></figure>
<p>Marble Diagram</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">source : ----h----e----l----l----o|</div><div class="line">    scan(<span class="function">(<span class="params">origin, next</span>) =&gt;</span> origin + next, <span class="string">''</span>)</div><div class="line">example: ----h----(he)----(hel)----(hell)----(hello)|</div></pre></td></tr></table></figure>
<p>scan è·Ÿ reduce æœ€å¤§çš„å·®åˆ«æ˜¯ scan ä¸€å®šä¼šå›ä¼ ä¸€ä¸ª observable å®ä¾‹, è€Œ reduce æœ€åå›ä¼ çš„å€¼æœ‰å¯èƒ½æ˜¯ä»»ä½•ç±»å‹,å¿…é¡»çœ‹ä¼ å…¥çš„ callback æ‰èƒ½ç¡®å®š reduce æœ€åçš„è¿”å›å€¼</p>
<h3 id="buffer"><a href="#buffer" class="headerlink" title="buffer"></a>buffer</h3><p>buffer æœ‰äº”ä¸ªç›¸å…³çš„ operators</p>
<ul>
<li>buffer</li>
</ul>
<ul>
<li>bufferCount</li>
<li>bufferTime</li>
<li>bufferToggle</li>
<li>bufferWhen</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.interval(<span class="number">300</span>);</div><div class="line"><span class="keyword">var</span> source2 = Rx.Observable.interval(<span class="number">1000</span>);</div><div class="line"><span class="keyword">var</span> example = source.buffer(source2);</div><div class="line"></div><div class="line">example.subscribe(&#123;</div><div class="line">    <span class="attr">next</span>: <span class="function"><span class="params">value</span> =&gt;</span> <span class="built_in">console</span>.log(value),</div><div class="line">    <span class="attr">error</span>: <span class="function"><span class="params">err</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'Error: '</span> + err),</div><div class="line">    <span class="attr">complete</span>: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'complete'</span>)</div><div class="line">&#125;);</div><div class="line"><span class="comment">// [0,1,2]</span></div><div class="line"><span class="comment">// [3,4,5]</span></div><div class="line"><span class="comment">// [6,7,8]...</span></div></pre></td></tr></table></figure>
<p>buffer è¦ä¼ å…¥ä¸€ä¸ª source2, ä»–ä¼šæŠŠåŸæœ¬çš„ source é€å‡ºçš„å…ƒç´ ç¼“å­˜åœ¨é˜Ÿåˆ—ä¸­, ç›´åˆ° source2 é€å‡ºå…ƒç´ æ—¶. å°±ä¼šè§¦å‘æŠŠç¼“å­˜çš„å…ƒç´ é€å‡º</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">source : -<span class="number">-0</span>-<span class="number">-1</span>-<span class="number">-2</span>-<span class="number">-3</span>-<span class="number">-4</span>-<span class="number">-5</span>-<span class="number">-6</span>-<span class="number">-7.</span>.</div><div class="line">source2: --------<span class="number">-0</span>--------<span class="number">-1</span>--------...</div><div class="line">            buffer(source2)</div><div class="line">example: ---------([<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>])---------([<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</div></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„èŒƒä¾‹å¯ä»¥å¯ä»¥æ”¹æˆ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.interval(<span class="number">300</span>);</div><div class="line"><span class="keyword">var</span> example = source.bufferTime(<span class="number">1000</span>);</div></pre></td></tr></table></figure>
<p>å³æ¯éš”ä¸€ç§’é€å‡ºä¸€ä¸ªå…ƒç´ </p>
<p>é™¤äº†ç”¨æ—¶é—´åšé—´éš”, è¿˜å¯ä»¥ç”¨æ•°é‡åšé—´éš”</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.interval(<span class="number">300</span>);</div><div class="line"><span class="keyword">var</span> example = source.bufferCount(<span class="number">3</span>);</div></pre></td></tr></table></figure>
<p>æ¯éš”ä¸‰ä¸ªæ•°è¾“å‡ºä¸€æ¬¡, ä»¥ä¸Šä¸‰ä¸ªä¾‹å­çš„è¾“å‡ºéƒ½ç›¸åŒ</p>
<p>ä¸¾ä¸ªğŸŒ°</p>
<p>æˆ‘ä»¬å¯ä»¥ç”¨ buffer åšæŸä¸ªäº‹ä»¶çš„è¿‡æ»¤, æ¯”å¦‚è¯´500æ¯«ç§’å†…è¿ç‚¹ä¸¤ä¸‹æ‰èƒ½æˆåŠŸå°å‡º<code>&#39;success&#39;</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> click = Rx.Observable.fromEvent(<span class="built_in">document</span>.body, <span class="string">'click'</span>)</div><div class="line"><span class="keyword">const</span> example = click</div><div class="line">	.bufferTime(<span class="number">500</span>)</div><div class="line">	.filter(<span class="function"><span class="params">arr</span> =&gt;</span> arr.length &gt;= <span class="number">2</span>)</div><div class="line">example.subscribe(&#123;</div><div class="line">    <span class="attr">next</span>: <span class="function"><span class="params">v</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'success'</span>),</div><div class="line">  	<span class="attr">error</span>: <span class="function"><span class="params">err</span> =&gt;</span> &#123; <span class="built_in">console</span>.log(<span class="string">'Error: '</span> + err); &#125;,</div><div class="line">    <span class="attr">complete</span>: <span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="built_in">console</span>.log(<span class="string">'complete'</span>); &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>UI å¤§æ¦‚æ˜¯æ‰€æœ‰éåŒæ­¥è¡Œä¸ºä¸­æœ€ä¸å¥½å¤„ç†çš„, ä¸åªæ˜¯å› ä¸ºä»–ç›´æ¥å½±å“äº†ç”¨æˆ·çš„ä½“éªŒ, æ›´å¤§çš„é—®é¢˜æ˜¯ UI äº’åŠ¨å¸¸å¸¸æ˜¯é«˜é¢‘ç‡è§¦å‘çš„äº‹ä»¶, delay å’Œ delayWhen éƒ½æ˜¯è·Ÿ UI äº’åŠ¨æ¯”è¾ƒç›¸å…³çš„</p>
<h3 id="delay"><a href="#delay" class="headerlink" title="delay"></a>delay</h3><p>delay å¯ä»¥å»¶è¿Ÿ observable ä¸€å¼€å§‹å‘é€å…ƒç´ çš„æ—¶é—´ç‚¹</p>
<p>delay é™¤äº†å¯ä»¥ä¼ å…¥æ¯«ç§’ä¹‹å¤–, ä¹Ÿå¯ä»¥ä¼ å…¥ Date ç±»å‹çš„å‚æ•°</p>
<h3 id="delayWhen"><a href="#delayWhen" class="headerlink" title="delayWhen"></a>delayWhen</h3><p> delayWhen è·Ÿ delay æœ€å¤§çš„å·®åˆ«æ˜¯: delayWhen å¯ä»¥å½±å“æ¯ä¸ªå…ƒç´ , è€Œä¸” éœ€è¦ä¼ ä¸€ä¸ª callback å¹¶å›ä¼ ä¸€ä¸ª observable, ğŸŒ°å¦‚ä¸‹:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> source = Rx.Observable.interval(<span class="number">300</span>).take(<span class="number">5</span>)</div><div class="line"><span class="keyword">const</span> example = source.delayWhen(<span class="function"><span class="params">x</span> =&gt;</span> Rx.observable.empty().delay(<span class="number">100</span> * x * x))</div><div class="line"><span class="comment">// è¿™é‡Œä¼ è¿›æ¥çš„ x å°±æ˜¯ source é€å‡ºçš„æ¯ä¸ªå€¼,è¿™æ ·æˆ‘ä»¬å°±èƒ½å¯¹æ¯ä¸€ä¸ªåšå»¶è¿Ÿ</span></div><div class="line">example.subscribe(&#123;</div><div class="line">    <span class="attr">next</span>: <span class="function"><span class="params">value</span> =&gt;</span> <span class="built_in">console</span>.log(value),</div><div class="line">    <span class="attr">error</span>: <span class="function"><span class="params">err</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'Error: '</span> + err),</div><div class="line">    <span class="attr">complete</span>: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'complete'</span>)</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="debounce"><a href="#debounce" class="headerlink" title="debounce"></a>debounce</h3><p>Rx æœ‰ debounce è·Ÿ debounceTime , ä¸€ä¸ªæ˜¯ä¼ å…¥ observable å¦ä¸€ä¸ªåˆ™æ˜¯ä¼ å…¥æ¯«ç§’ï¼Œæ¯”è¼ƒå¸¸ç”¨åˆ°çš„æ˜¯ debounceTime, ğŸŒ°:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> source = Rx.Observable.interval(<span class="number">300</span>).take(<span class="number">5</span>)</div><div class="line"><span class="keyword">const</span> example = source.debounceTime(<span class="number">1000</span>)</div><div class="line">example.subscribe(&#123;</div><div class="line">  <span class="attr">next</span>: <span class="function"><span class="params">v</span> =&gt;</span> <span class="built_in">console</span>.log(v),</div><div class="line">  <span class="attr">error</span>: <span class="function"><span class="params">err</span> =&gt;</span> <span class="built_in">console</span>.log(err),</div><div class="line">  <span class="attr">complete</span>: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'complete'</span>)</div><div class="line">&#125;)</div><div class="line"><span class="comment">// 4</span></div><div class="line"><span class="comment">// complete</span></div></pre></td></tr></table></figure>
<p>æ¯æ¬¡æ”¶åˆ°å…ƒç´ , ä¼šå…ˆæŠŠå…ƒç´  cache ä½å¹¶ç­‰å¾…ä¸€æ®µæ—¶é—´, å¦‚æœè¿™æ®µæ—¶é—´å†…å·²ç»æ²¡æœ‰æ”¶åˆ°ä»»ä½•å…ƒç´ , åˆ™æŠŠå…ƒç´ é€å‡º, å¦‚æœè¿™æ®µæ—¶é—´å†…æœ‰æ”¶åˆ°æ–°çš„å…ƒç´ , åˆ™ä¼šæŠŠåŸæœ¬ cache ä½çš„å…ƒç´ é‡Šæ”¾æ‰å¹¶é‡æ–°è®¡æ—¶, ä¸æ–­åå¤</p>
<h3 id="throttle"><a href="#throttle" class="headerlink" title="throttle"></a>throttle</h3><p>debonce è·Ÿ throttle è™½ç„¶éƒ½æ˜¯è¦é™ä½äº‹ä»¶çš„è§¦å‘é¢‘ç‡, ä½†æ˜¯è¡Œä¸ºä¸Šæœ‰å¾ˆå¤§ä¸åŒ</p>
<p>Rx æœ‰ throttle å’Œ throttleTime, ä¸€ä¸ªæ˜¯ä¼ å…¥ observable å¦ä¸€ä¸ªåˆ™æ˜¯ä¼ å…¥æ¯«ç§’ï¼Œæ¯”è¼ƒå¸¸ç”¨åˆ°çš„æ˜¯ debounceTime, ğŸŒ°:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> source = Rx.Observable.interval(<span class="number">300</span>).take(<span class="number">5</span>)</div><div class="line"><span class="keyword">const</span> example = source.throttleTime(<span class="number">1000</span>)</div><div class="line">example.subscribe(&#123;</div><div class="line">  <span class="attr">next</span>: <span class="function"><span class="params">v</span> =&gt;</span> <span class="built_in">console</span>.log(v),</div><div class="line">  <span class="attr">error</span>: <span class="function"><span class="params">err</span> =&gt;</span> <span class="built_in">console</span>.log(err),</div><div class="line">  <span class="attr">complete</span>: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'complete'</span>)</div><div class="line">&#125;)</div><div class="line"><span class="comment">// 0</span></div><div class="line"><span class="comment">// 4</span></div><div class="line"><span class="comment">// complete</span></div></pre></td></tr></table></figure>
<p>è·Ÿ debounce ä¸åŒçš„æ˜¯ throttle ä¼šå…ˆé€å‡ºå…ƒç´ , ç­‰åˆ°æœ‰å…ƒç´ è¢«é€å‡ºå°±ä¼šæ²‰é»˜ä¸€æ®µæ—¶é—´,ç­‰æ—¶é—´è¿‡äº†åˆä¼šé€å‡ºå…ƒç´ </p>
<p>throttle æ¯”è¾ƒé€‚åˆç”¨åœ¨è¿ç»­æ€§è¡Œä¸º,æ¯”å¦‚è¯´ UI åŠ¨ç”»çš„è¿ç®—è¿‡ç¨‹,åƒä¹‹å‰åšæ‹–æ‹‰çš„æ—¶å€™,å°±å¯ä»¥åŠ ä¸Š throttleTime(12)è®© mousemove äº‹ä»¶ä¸è¦å‘é€çš„å¤ªå¿«.</p>
<blockquote>
<p> æµè§ˆå™¨æœ‰ä¸€ä¸ª <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/requestAnimationFrame" target="_blank" rel="external">requestAnimationFrame</a> API æ˜¯ä¸“é—¨ç”¨æ¥åš UI è¿ç®—çš„ï¼Œé€šå¸¸ç”¨é€™ä¸ªçš„æ•ˆæœä¼šæ¯” throttle å¥½ã€‚</p>
</blockquote>
<h3 id="distinct"><a href="#distinct" class="headerlink" title="distinct"></a>distinct</h3><p>é¡¾åæ€ä¹‰, distinct å¯ä»¥ç”¨æ¥å»é‡<br>( å…¶å®æœ‰å¥½å¤š API éƒ½æ˜¯è¿™æ · çœ‹åå­—å°±èƒ½å¤§æ¦‚çŒœåˆ°æ˜¯å¹²å•¥çš„..</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> source = Rx.Observable.from([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>])</div><div class="line">            .zip(Rx.Observable.interval(<span class="number">300</span>), (x, y) =&gt; x);</div><div class="line"><span class="keyword">const</span> example = source.distinct()</div><div class="line">example.subscribe(&#123;</div><div class="line">  <span class="attr">next</span>: <span class="function"><span class="params">v</span> =&gt;</span> <span class="built_in">console</span>.log(v),</div><div class="line">  <span class="attr">error</span>: <span class="function"><span class="params">err</span> =&gt;</span> <span class="built_in">console</span>.log(err),</div><div class="line">  <span class="attr">complete</span>: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'complete'</span>)</div><div class="line">&#125;)</div><div class="line"><span class="comment">// a b c complete</span></div></pre></td></tr></table></figure>
<p>distinct è¿˜å¯ä»¥ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°, è¿™ä¸ªå›è°ƒå‡½æ•°ä¼šä¼ å…¥ä¸€ä¸ªæ¥æ”¶åˆ°çš„å…ƒç´ , å¹¶ä¼ å›æˆ‘ä»¬çœŸæ­£å¸Œæœ›æ¯”å¯¹çš„å€¼: ğŸŒ°:</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> source = Rx.Observable.from([&#123; <span class="attr">value</span>: <span class="string">'a'</span>&#125;, &#123; <span class="attr">value</span>: <span class="string">'b'</span> &#125;, &#123; <span class="attr">value</span>: <span class="string">'c'</span> &#125;, &#123; <span class="attr">value</span>: <span class="string">'a'</span> &#125;, &#123; <span class="attr">value</span>: <span class="string">'c'</span> &#125;]))</div><div class="line">            .zip(Rx.Observable.interval(<span class="number">300</span>), (x, y) =&gt; x);</div><div class="line"><span class="keyword">const</span> example = source.distinct(<span class="function"><span class="params">x</span> =&gt;</span> x.value)</div><div class="line">example.subscribe(&#123;</div><div class="line">  <span class="attr">next</span>: <span class="function"><span class="params">v</span> =&gt;</span> <span class="built_in">console</span>.log(v),</div><div class="line">  <span class="attr">error</span>: <span class="function"><span class="params">err</span> =&gt;</span> <span class="built_in">console</span>.log(err),</div><div class="line">  <span class="attr">complete</span>: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'complete'</span>)</div><div class="line">&#125;)</div><div class="line"><span class="comment">// &#123;value: "a"&#125;</span></div><div class="line"><span class="comment">// &#123;value: "b"&#125;</span></div><div class="line"><span class="comment">// &#123;value: "c"&#125;</span></div><div class="line"><span class="comment">// complete</span></div></pre></td></tr></table></figure>
<h3 id="distinctUntilChanged"><a href="#distinctUntilChanged" class="headerlink" title="distinctUntilChanged"></a>distinctUntilChanged</h3><p>distinctUntilChanged è·Ÿ distinct ä¸€æ ·ä¼šæŠŠç›¸åŒçš„å…ƒç´ è¿‡æ»¤æ‰ï¼Œä½† distinctUntilChanged åªä¼šè·Ÿæœ€åä¸€æ¬¡é€å‡ºçš„å…ƒç´ æ¯”è¾ƒï¼Œä¸ä¼šæ¯ä¸ªéƒ½æ¯”ï¼ŒğŸŒ°:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> source = Rx.Observable.from([<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'c'</span>, <span class="string">'b'</span>])</div><div class="line">            .zip(Rx.Observable.interval(<span class="number">300</span>), (x, y) =&gt; x);</div><div class="line"><span class="keyword">const</span> example = source.distinctUntilChanged()</div><div class="line">example.subscribe(&#123;</div><div class="line">  <span class="attr">next</span>: <span class="function"><span class="params">v</span> =&gt;</span> <span class="built_in">console</span>.log(v),</div><div class="line">  <span class="attr">error</span>: <span class="function"><span class="params">err</span> =&gt;</span> <span class="built_in">console</span>.log(err),</div><div class="line">  <span class="attr">complete</span>: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'complete'</span>)</div><div class="line">&#125;)</div><div class="line"><span class="comment">// a</span></div><div class="line"><span class="comment">// b</span></div><div class="line"><span class="comment">// c</span></div><div class="line"><span class="comment">// b</span></div><div class="line"><span class="comment">// complete</span></div></pre></td></tr></table></figure>
<p>è¿™é‡Œ distinctUntilChanged åªä¼šæš‚å­˜ä¸€å€‹å…ƒç´ ï¼Œå¹¶åœ¨æ”¶åˆ°å…ƒç´ æ—¶è·Ÿæš‚å­˜çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¸€æ ·å°±ä¸é€å‡ºï¼Œå¦‚æœä¸ä¸€æ ·å°±æŠŠæš‚å­˜çš„å…ƒç´ æ¢æˆåˆšæ¥æ”¶åˆ°çš„æ–°å…ƒç´ å¹¶é€å‡ºã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">source : --a--b--c--c--b|</div><div class="line">            distinctUntilChanged()</div><div class="line">example: --a--b--c-----b|</div></pre></td></tr></table></figure>
<p>å¾ Marble Diagram ä¸­å¯ä»¥çœ‹åˆ°ï¼Œç¬¬äºŒä¸ª c é€å‡ºæ—¶åˆšå¥½ä¸Šä¸€ä¸ªå°±æ˜¯ c æ‰€ä»¥å°±è¢«æ»¤æ‰äº†ï¼Œä½†æœ€åä¸€ä¸ª b åˆ™è·Ÿä¸Šä¸€ä¸ªä¸åŒæ‰€ä»¥æ²’è¢«æ»¤æ‰</p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;scan&quot;&gt;&lt;a href=&quot;#scan&quot; class=&quot;headerlink&quot; title=&quot;scan&quot;&gt;&lt;/a&gt;scan&lt;/h3&gt;&lt;p&gt;scan å…¶å®æ˜¯ Observable ç‰ˆæœ¬çš„ reduce&lt;/p&gt;
&lt;figure class=&quot;highlight ja
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>RxJSå­¦ä¹ -(1)-åŸºæœ¬çš„ operators (ä¸€)</title>
    <link href="http://yoursite.com/2017/05/25/2017-05-25-%20RxJS%E5%AD%A6%E4%B9%A0-(1)-%E5%9F%BA%E6%9C%AC%E7%9A%84%20operators%20(%E4%B8%80)/"/>
    <id>http://yoursite.com/2017/05/25/2017-05-25- RxJSå­¦ä¹ -(1)-åŸºæœ¬çš„ operators (ä¸€)/</id>
    <published>2017-05-25T02:00:00.000Z</published>
    <updated>2017-10-24T15:31:43.861Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Operators-ä¸€"><a href="#Operators-ä¸€" class="headerlink" title="Operators (ä¸€)"></a>Operators (ä¸€)</h2><p><strong>take(n)</strong></p>
<p>å–å‰nä¸ªå…ƒç´ </p>
<p><strong>first()</strong></p>
<p>first ä¼šå– observable é€å‡ºçš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹åå°±ç»“æŸï¼Œç›¸å½“äºtake(1)</p>
<p><strong>takeUntil( observable )</strong></p>
<p>åœ¨æŸä»¶äº‹æƒ…å‘ç”Ÿæ—¶ï¼Œè®©ä¸€ä¸ª observable ç›´æ¥å‘å‡ºå®Œæˆä¿¡æ¯ï¼Œä¾‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.interval(<span class="number">1000</span>)</div><div class="line"><span class="keyword">var</span> click = Rx.Observable.fromEvent(<span class="built_in">document</span>.body, <span class="string">'click'</span>)</div><div class="line"><span class="keyword">var</span> example = source.takeUntil(click) <span class="comment">//å½“ç‚¹å‡»æ—¶ï¼Œç»“æŸsourseäº‹ä»¶</span></div><div class="line">example.subscrible(&#123;</div><div class="line">  <span class="attr">next</span>: <span class="function">(<span class="params">value</span>) =&gt;</span> <span class="built_in">console</span>.log(value),</div><div class="line">  <span class="attr">error</span>: <span class="function">(<span class="params">err</span>) =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'err'</span>,err),</div><div class="line">  <span class="attr">complete</span>: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'done'</span>)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="æ‹–æ‹½å®ä¾‹"><a href="#æ‹–æ‹½å®ä¾‹" class="headerlink" title="æ‹–æ‹½å®ä¾‹"></a>æ‹–æ‹½å®ä¾‹</h3><ol>
<li><p>åœ¨é¡µé¢ä¸Šç”»ä¸€ä¸ªbox (#box)</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*&lt;div id="box"&gt;&lt;/div&gt;*/</span></div><div class="line"><span class="selector-tag">body</span>&#123;</div><div class="line">  <span class="attribute">position</span>: relative;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#box</span>&#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">80px</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">80px</span>;</div><div class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(1,1,1,0.2);</div><div class="line">  <span class="attribute">position</span>: absolute;</div><div class="line">  <span class="attribute">cursor</span>: all-scroll;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>è·å–è¦ç›‘å¬çš„ DOM å…ƒç´ </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> box = <span class="built_in">document</span>.querySelector(<span class="string">'#box'</span>)</div><div class="line"><span class="keyword">const</span> body = <span class="built_in">document</span>.body</div></pre></td></tr></table></figure>
<p>ç›‘å¬ box ä¸Šçš„ mousedown ï¼Œç›‘å¬ body ä¸Šçš„ mousemove å’Œ mouseup </p>
</li>
<li><p>ç”¨ <code>fromEvent</code> æ¥å–å¾—å„ä¸ªçš„ observable</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> mouseDown = Rx.Observable.fromEvent(box, <span class="string">'mousedown'</span>)</div><div class="line"><span class="keyword">const</span> mouseMove = Rx.Observable.fromEvent(body, <span class="string">'mousemove'</span>)</div><div class="line"><span class="keyword">const</span> mouseUp = Rx.Observable.fromEvent(body, <span class="string">'mouseup'</span>)</div></pre></td></tr></table></figure>
</li>
</ol>
<blockquote>
<p>è¿˜æ²¡ subscribe ä¹‹å‰éƒ½ä¸ä¼šå¼€å§‹ç›‘å¬ï¼Œç›´åˆ° subscribe ä¹‹å observable æ‰ä¼šå¼€å§‹é€å€¼</p>
</blockquote>
<ol>
<li><p>å½“é¼ æ ‡åœ¨å…ƒç´  (#box) ä¸ŠæŒ‰ä¸‹å·¦é”® (mousedown) æ—¶ï¼Œå¼€å§‹ç›‘å¬é¼ æ ‡ç§»åŠ¨ (mousemove) çš„ä½ç½®ï¼›å½“é¼ æ ‡å·¦é”®æ”¾æ‰(mouseup)æ™‚ï¼Œç»“æŸç›‘å¬é¼ æ ‡ç§»åŠ¨ï¼›å½“é¼ æ ‡ç§»åŠ¨(mousemove)è¢«ç›‘å¬æ—¶ï¼Œä¿®æ”¹å…ƒç´ çš„æ ·å¼</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">mouseDown</div><div class="line">  .map(<span class="function"><span class="params">e</span> =&gt;</span> mouseMove.takeUntil(mouseUp)) <span class="comment">//å½“ mouseDown æ—¶ï¼Œè½¬æˆ mouseMove äº‹ä»¶</span></div><div class="line">  .concatAll()</div><div class="line">  .map(<span class="function"><span class="params">e</span> =&gt;</span> (&#123;<span class="attr">x</span>:e.clientX, <span class="attr">y</span>:e.clientY&#125;)) <span class="comment">//ç”¨ map æŠŠ mousemove event è½¬æˆ x,y çš„ä½ç½®</span></div><div class="line">  .subscribe(<span class="function"><span class="params">pos</span> =&gt;</span> &#123;</div><div class="line">    box.style.left = pos.x - <span class="number">40</span> + <span class="string">'px'</span></div><div class="line">    box.style.top = pos.y - <span class="number">40</span> + <span class="string">'px'</span></div><div class="line">  &#125;)</div></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="Operators-äºŒ"><a href="#Operators-äºŒ" class="headerlink" title="Operators (äºŒ)"></a>Operators (äºŒ)</h2><p> <strong>skip(n)</strong></p>
<p>ç•¥è¿‡å‰nä¸ªå…ƒç´ </p>
<p> <strong>takeLast(n)</strong></p>
<p>take å–å‰å‡ ä¸ªï¼ŒtakeLast å–æœ€åå‡ ä¸ªã€‚ takeLast å¿…é¡»ç­‰åˆ°æ•´ä¸ª observable å®Œæˆ(complete)ï¼Œæ‰èƒ½çŸ¥é“æœ€åçš„å…ƒç´ æœ‰å“ªäº›ï¼Œä¸¦ä¸”<strong>åŒæ­¥é€å‡º</strong>ï¼Œå¦‚æœç”¨ Marble Diagram è¡¨ç¤ºå¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">source : ----0----1----2----3----4----5|</div><div class="line">                takeLast(2)</div><div class="line">example: ------------------------------(45)|</div></pre></td></tr></table></figure>
<p> <strong>last()</strong></p>
<p>è·Ÿ <code>take(1)</code> ç›¸åŒï¼Œæˆ‘å€‘æœ‰ä¸€ä¸ª <code>takeLast(1)</code> çš„ç®€åŒ–å†™æ³•ï¼Œå°±æ˜¯ <code>last()</code> ç”¨ä¾†å–æœ€åä¸€ä¸ªå…ƒç´ </p>
<p><strong>concat</strong></p>
<p><code>concat</code> å¯ä»¥æŠŠå¤šå€‹ observable å®ä¾‹åˆå¹¶æˆä¸€ä¸ª</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.interval(<span class="number">1000</span>).take(<span class="number">3</span>);</div><div class="line"><span class="keyword">var</span> source2 = Rx.Observable.of(<span class="number">3</span>)</div><div class="line"><span class="keyword">var</span> source3 = Rx.Observable.of(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</div><div class="line"><span class="keyword">var</span> example = source.concat(source2, source3);</div><div class="line"><span class="comment">//concat ä¹Ÿå¯ä»¥å½“åšé™æ€æ–¹æ³•</span></div><div class="line"><span class="comment">//var example = Rx.Observable.concat(source, source2, source3);</span></div></pre></td></tr></table></figure>
<p>è·Ÿ concatAll ä¸€æ ·ï¼Œå¿…é¡»ç­‰å‰ä¸€ä¸ª observable <strong>å®Œæˆ ( complete ) </strong>ï¼Œæ‰ä¼šç»§ç»­ä¸‹ä¸€ä¸ª</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">source : ---<span class="number">-0</span>---<span class="number">-1</span>---<span class="number">-2</span>|</div><div class="line">source2: (<span class="number">3</span>)|</div><div class="line">source3: (<span class="number">456</span>)|</div><div class="line">            concat()</div><div class="line">example: ---<span class="number">-0</span>---<span class="number">-1</span>---<span class="number">-2</span>(<span class="number">3456</span>)|</div></pre></td></tr></table></figure>
<p><strong>startWith</strong></p>
<p>startWith å¯ä»¥åœ¨ observable çš„æœ€å¼€å§‹åŠ å…¥è¦å‘é€çš„å…ƒç´ ï¼Œæœ‰ç‚¹åƒ concat ï¼Œä½†å‚æ•°ä¸æ˜¯ observable ï¼Œè€Œæ˜¯è¦å‘é€çš„å…ƒç´ </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">source : ---<span class="number">-0</span>---<span class="number">-1</span>---<span class="number">-2</span>---<span class="number">-3</span>--...</div><div class="line">                startWith(<span class="number">0</span>)</div><div class="line">example: (<span class="number">0</span>)---<span class="number">-0</span>---<span class="number">-1</span>---<span class="number">-2</span>---<span class="number">-3</span>--...</div></pre></td></tr></table></figure>
<p><code>startWith</code> çš„å€¼æ—¶ä¸€å¼€å§‹å°±åŒæ­¥å‘å‡ºï¼Œè¿™ä¸ª operator ç»å¸¸ç”¨æ¥<strong>ä¿å­˜ç¨‹åºçš„èµ·å§‹çŠ¶æ€</strong></p>
<p><strong>merge</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.interval(<span class="number">500</span>).take(<span class="number">3</span>);</div><div class="line"><span class="keyword">var</span> source2 = Rx.Observable.interval(<span class="number">300</span>).take(<span class="number">6</span>);</div><div class="line"><span class="keyword">var</span> example = source.merge(source2);</div><div class="line"><span class="comment">//ä¹Ÿå¯ä»¥ var example = Rx.Observable.merge(source, source2)</span></div><div class="line">example.subscribe(&#123;</div><div class="line">    <span class="attr">next</span>: <span class="function">(<span class="params">value</span>) =&gt;</span> &#123; <span class="built_in">console</span>.log(value); &#125;,</div><div class="line">    <span class="attr">error</span>: <span class="function">(<span class="params">err</span>) =&gt;</span> &#123; <span class="built_in">console</span>.log(<span class="string">'Error: '</span> + err); &#125;,</div><div class="line">    <span class="attr">complete</span>: <span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="built_in">console</span>.log(<span class="string">'complete'</span>); &#125;</div><div class="line">&#125;);</div><div class="line"><span class="comment">// 0</span></div><div class="line"><span class="comment">// 0</span></div><div class="line"><span class="comment">// 1</span></div><div class="line"><span class="comment">// 2</span></div><div class="line"><span class="comment">// 1</span></div><div class="line"><span class="comment">// 3</span></div><div class="line"><span class="comment">// 2</span></div><div class="line"><span class="comment">// 4</span></div><div class="line"><span class="comment">// 5</span></div><div class="line"><span class="comment">// complete</span></div></pre></td></tr></table></figure>
<p>ç”±ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºæ¥ï¼Œ<code>merge</code> æŠŠå¤šä¸ª observable åŒæ—¶å¤„ç†ï¼Œä¹Ÿå°±æ˜¯æŒ‰ç…§<strong>æ—¶é—´é¡ºåº</strong>å¤„ç†ï¼Œè¿™è·Ÿ <code>concat</code> ä¸€æ¬¡å¤„ç†ä¸€ä¸ª observable æ˜¯å®Œå…¨ä¸ä¸€æ ·çš„ï¼Œmerge çš„ Marble Diagram å¦‚ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">source : ---<span class="number">-0</span>---<span class="number">-1</span>---<span class="number">-2</span>|</div><div class="line">source2: -<span class="number">-0</span>-<span class="number">-1</span>-<span class="number">-2</span>-<span class="number">-3</span>-<span class="number">-4</span>-<span class="number">-5</span>|</div><div class="line">            merge()</div><div class="line">example: -<span class="number">-0</span><span class="number">-01</span>-<span class="number">-21</span><span class="number">-3</span>--(<span class="number">24</span>)-<span class="number">-5</span>|</div></pre></td></tr></table></figure>
<p>merge çš„ é€»è¾‘æœ‰ç‚¹åƒ or(||) ï¼Œå°±æ˜¯å½“ä¸¤ä¸ª observable å…¶ä¸­ä¸€ä¸ªè¢«è§¦å‘æ—¶éƒ½å¯ä»¥è¢«å¤„ç†ï¼Œè¿™å¾ˆå¸¸ç”¨åœ¨ä¸€ä¸ªä»¥ä¸Šçš„æŒ‰é’®å…·æœ‰éƒ¨åˆ†ç›¸åŒçš„è¡Œä¸ºã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªè§†é¢‘æ’­æ”¾å™¨æœ‰ä¸¤ä¸ªæŒ‰é’®ï¼Œä¸€ä¸ªæ˜¯æš‚åœï¼Œä¸€ä¸ªæ˜¯ç»“æŸã€‚è¿™ä¸¤ä¸ªæŒ‰é’®çš„ç›¸åŒè¡Œä¸ºå°±æ˜¯è§†é¢‘ä¼šè¢«æš‚åœï¼Œåªæ˜¯ç»“æŸä¼šè®©è§†é¢‘å›åˆ° 00 ç§’ã€‚è¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥æŠŠè¿™ä¸¤ä¸ªæŒ‰é’®çš„äº‹ä»¶ merge èµ·æ¥å¤„ç†è§†é¢‘æš‚åœè¿™ä»¶äº‹ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> stopVideo = Rx.Observable.merge(stopButton, endButton)</div><div class="line">stopVidep.subScribe(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">  <span class="comment">//æš‚åœ</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="operators-ä¸‰-â€”åˆå¹¶"><a href="#operators-ä¸‰-â€”åˆå¹¶" class="headerlink" title="operators(ä¸‰) â€”åˆå¹¶"></a>operators(ä¸‰) â€”åˆå¹¶</h2><p><strong>combineLatest</strong></p>
<p><code>combineLatest</code> ä¼šå–å¾—å„ä¸ª observable <strong>æœ€å</strong> é€å‡ºçš„å€¼ï¼Œå†è¾“å‡ºæˆä¸€ä¸ªå€¼ï¼Œæ —å­å¦‚ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.interval(<span class="number">500</span>).take(<span class="number">3</span>);</div><div class="line"><span class="keyword">var</span> newest = Rx.Observable.interval(<span class="number">300</span>).take(<span class="number">6</span>);</div><div class="line"><span class="keyword">var</span> example = source.combineLatest(newest, (x, y) =&gt; x + y);</div></pre></td></tr></table></figure>
<p>Marble Diagram å¦‚ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">source : ---<span class="number">-0</span>---<span class="number">-1</span>---<span class="number">-2</span>|</div><div class="line">newest : -<span class="number">-0</span>-<span class="number">-1</span>-<span class="number">-2</span>-<span class="number">-3</span>-<span class="number">-4</span>-<span class="number">-5</span>|</div><div class="line"></div><div class="line">    combineLatest(newest, (x, y) =&gt; x + y);</div><div class="line"></div><div class="line">example: ---<span class="number">-01</span>-<span class="number">-23</span><span class="number">-4</span>--(<span class="number">56</span>)-<span class="number">-7</span>|</div></pre></td></tr></table></figure>
<p><code>comblineLatest</code>å¯ä»¥æ¥æ”¶å¤šä¸ª observable ï¼Œæœ€åä¸€ä¸ªå‚æ•°æ˜¯ callback function ï¼Œè¿™ä¸ªcallback function æ¥æ”¶çš„å‚æ•°æ•°é‡è·Ÿåˆå¹¶çš„ observable æ•°é‡ç›¸åŒï¼Œä¾ç…§èŒƒä¾‹æ¥è¯´ï¼Œå› ä¸ºæˆ‘ä»¬è¿™é‡Œåˆå¹¶äº†ä¸¤ä¸ª observable ï¼Œæ‰€æœ‰åé¢çš„ callback function å°±æ¥æ”¶ x,y ä¸¤ä¸ªå‚æ•°ï¼Œx ä¼šæ¥æ”¶ä» source å‘å‡ºæ¥çš„å€¼ï¼Œy ä¼šæ¥æ”¶ä» newest å‘é€å‡ºæ¥çš„å€¼ã€‚ </p>
<p><strong>æœ€åä¸€ä¸ªé‡ç‚¹æ˜¯ï¼Œä¸€å®šä¼šç­‰ä¸¤ä¸ª observable <u>éƒ½æœ‰é€å€¼</u>å‡ºæ¥æ‰ä¼šè°ƒç”¨ callbackï¼ï¼</strong> ï¼Œæ‰€ä»¥è¿™æ®µç¨‹åºæ˜¯è¿™æ ·è¿è¡Œçš„ï¼š</p>
<ul>
<li>newest é€å‡ºäº† 0 ï¼Œæ­¤æ—¶source æ²¡æœ‰é€å‡ºä»»ä½•å€¼ï¼Œæ‰€ä»¥ä¸æ‰§è¡Œcallback</li>
<li>source é€å‡ºäº† 0 ï¼Œæ­¤æ—¶ newest æœ€åä¸€æ¬¡é€å‡ºçš„å€¼ä¸º 0 ï¼Œ æŠŠè¿™ä¸¤ä¸ªæ•°ä¼ å…¥ callback å¾—åˆ° 0</li>
<li>newest é€å‡ºäº† 1 ï¼Œæ­¤æ—¶ source æœ€åä¸€æ¬¡çš„é€å‡ºå€¼ä¸º 0 ï¼Œå¾—åˆ° 1</li>
<li>newest é€å‡ºäº† 2 ï¼Œæ­¤æ—¶ source æœ€åä¸€æ¬¡çš„é€å‡ºå€¼ä¸º 0 ï¼Œå¾—åˆ° 2</li>
<li>source é€å‡ºäº† 1 ï¼Œæ­¤æ—¶ newest æœ€åä¸€æ¬¡é€å‡ºçš„å€¼ä¸º 2 ï¼Œå¾—åˆ° 3</li>
<li>newest é€å‡ºäº† 3 ï¼Œæ­¤æ—¶ source æœ€åä¸€æ¬¡çš„é€å‡ºå€¼ä¸º 1 ï¼Œå¾—åˆ° 4</li>
<li>source é€å‡ºäº† 2 ï¼Œæ­¤æ—¶ newest æœ€åä¸€æ¬¡çš„é€å‡ºå€¼ä¸º 3 ï¼Œå¾—åˆ° 5</li>
<li>newest é€å‡ºäº† 4 ï¼Œæ­¤æ—¶ source æœ€åä¸€æ¬¡çš„é€å‡ºå€¼ä¸º 2 ï¼Œå¾—åˆ° 6</li>
<li>newest é€å‡ºäº† 5 ï¼Œæ­¤æ—¶ source æœ€åä¸€æ¬¡çš„é€å‡ºå€¼ä¸º 2 ï¼Œå¾—åˆ° 7</li>
<li>newest çµæŸï¼Œå› ä¸º source ä¹Ÿç»“æŸäº†ï¼Œæ‰€ä»¥ å…¨éƒ¨ç»“æŸã€‚</li>
</ul>
<p>ä¸ç®¡æ˜¯ source è¿˜æ˜¯ newest äº§ç”Ÿäº†å€¼ï¼Œåªè¦å¦ä¸€æ–¹æ›¾æœ‰å€¼(æœ€åçš„å€¼)ï¼Œå°±ä¼šæ‰§è¡Œ callback å¹¶é€å‡ºæ–°çš„å€¼ã€‚è¿™å°±æ˜¯<code>combineLatest</code></p>
<p><code>combineLatest</code> å¸¸ç”¨åœ¨è¿ç®—å¤šä¸ªå› å­çš„ç»“æœï¼Œå¦‚æœ€å¸¸è§çš„ BMI è®¡ç®—ï¼Œæˆ‘ä»¬èº«é«˜å˜åŠ¨æ—¶å°±æ‹¿ä¸Šä¸€æ¬¡çš„ä½“é‡è®¡ç®—æ–°çš„ BMI ï¼Œå½“ä½“é‡å˜åŠ¨æ—¶åˆ™æ‹¿ä¸Šä¸€æ¬¡çš„èº«é«˜è®¡ç®— BMI , è¿™å°±å¾ˆé€‚åˆç”¨ combineLatest æ¥å¤„ç†</p>
<p><strong>zip</strong></p>
<p>zipä¼šå–æ¯ä¸ª<strong>ç›¸åŒä½ç½®</strong>çš„å…ƒç´ å¹¶ä¼ å…¥ callback ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ª observable çš„ç¬¬nä¸ªå…ƒç´ ä¼šä¸€èµ·è¢«ä¼ å…¥ callback ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.interval(<span class="number">500</span>).take(<span class="number">3</span>);</div><div class="line"><span class="keyword">var</span> newest = Rx.Observable.interval(<span class="number">300</span>).take(<span class="number">6</span>);</div><div class="line"><span class="keyword">var</span> example = source.zip(newest, (x, y) =&gt; x + y);</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">source : ---<span class="number">-0</span>---<span class="number">-1</span>---<span class="number">-2</span>|</div><div class="line">newest : -<span class="number">-0</span>-<span class="number">-1</span>-<span class="number">-2</span>-<span class="number">-3</span>-<span class="number">-4</span>-<span class="number">-5</span>|</div><div class="line">    zip(newest, (x, y) =&gt; x + y)</div><div class="line">example: ---<span class="number">-0</span>---<span class="number">-2</span>---<span class="number">-4</span>|</div></pre></td></tr></table></figure>
<p>è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>newest é€å‡ºç¬¬ä¸€ä¸ªå€¼ä¸º0ï¼Œæ­¤æ—¶ source æ²¡æœ‰é€å‡ºç¬¬ä¸€ä¸ªå€¼ï¼Œæ‰€ä»¥ä¸ä¼šæ‰§è¡Œ callback </li>
<li>source é€å‡ºç¬¬ä¸€ä¸ªå€¼ä¸º0ï¼Œnewest ä¹‹å‰çš„ç¬¬ä¸€ä¸ªå€¼æ˜¯ 0ï¼Œæ‰€ä»¥æ‰§è¡Œ callbackï¼Œå¾—åˆ°0</li>
<li>newest é€å‡ºç¬¬äºŒä¸ªå€¼ä¸º1ï¼Œæ­¤æ—¶ source æ²¡æœ‰é€å‡ºç¬¬äºŒä¸ªå€¼ï¼Œæ‰€ä»¥ä¸ä¼šæ‰§è¡Œ callback </li>
<li>newest é€å‡ºç¬¬ä¸‰ä¸ªå€¼ä¸º2ï¼Œæ­¤æ—¶ source æ²¡æœ‰é€å‡ºç¬¬äºŒä¸ªå€¼ï¼Œæ‰€ä»¥ä¸ä¼šæ‰§è¡Œ callback </li>
<li>source é€å‡ºç¬¬äºŒä¸ªå€¼ä¸º1ï¼Œ newest ä¹‹å‰çš„ç¬¬äºŒä¸ªå€¼æ˜¯ 1ï¼Œæ‰€ä»¥æ‰§è¡Œ callback ï¼Œå¾—åˆ°2</li>
<li>newest é€å‡ºç¬¬å››ä¸ªå€¼ä¸º3ï¼Œæ­¤æ—¶ source æ²¡æœ‰é€å‡ºç¬¬å››ä¸ªå€¼ï¼Œæ‰€ä»¥ä¸ä¼šæ‰§è¡Œ callback </li>
<li>source é€å‡ºç¬¬ä¸‰ä¸ªå€¼ä¸º2ï¼Œ newest ä¹‹å‰çš„ç¬¬ä¸‰ä¸ªå€¼æ˜¯ 2ï¼Œæ‰€ä»¥æ‰§è¡Œ callback ï¼Œå¾—åˆ°4</li>
<li>source ç»“æŸ example å°±ç›´æ¥ç»“æŸï¼Œå› ä¸º source è·Ÿ newest ä¸ä¼šå†æœ‰å¯¹åº”ä½ç½®çš„å€¼</li>
</ul>
<blockquote>
<p>å»ºè®®å¹³æ—¶ä¸è¦ä¹±ç”¨ zip ï¼Œé™¤éçœŸçš„éœ€è¦ã€‚å› ä¸º zip å¿…é¡» cache æ²¡å¤„ç†çš„å…ƒç´ ï¼Œå½“ä¸¤ä¸ª observable ä¸€ä¸ªå¿«ä¸€ä¸ªæ…¢æ—¶ä¼š cache éå¸¸å¤šå…ƒç´ ã€‚æœ‰å¯èƒ½é€ æˆå†…å­˜ç›¸å…³çš„é—®é¢˜</p>
</blockquote>
<p><strong>withLatestFrom</strong></p>
<p>withLatestFrom çš„è¿ä½œæ–¹å¼è·Ÿ combineLatest æœ‰ç‚¹åƒï¼Œåªæ˜¯ä»–æœ‰ä¸»ä»å…³ç³»ï¼Œåªæœ‰åœ¨<strong>ä¸»è¦çš„ observable é€å‡ºæ–°å€¼æ—¶</strong>ï¼Œ æ‰ä¼šæ‰§è¡Œcallbackï¼Œ å¦ä¸€ä¸ª observable åªæ˜¯åœ¨èƒŒæ™¯ä¸‹è¿è¡Œã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> main = Rx.Observable.from(<span class="string">'hello'</span>).zip(Rx.Observable.interval(<span class="number">500</span>), (x, y) =&gt; x);</div><div class="line"><span class="keyword">var</span> some = Rx.Observable.from([<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>]).zip(Rx.Observable.interval(<span class="number">300</span>), (x, y) =&gt; x);</div><div class="line"><span class="keyword">var</span> example = main.withLatestFrom(some, (x, y) =&gt; &#123;</div><div class="line">    <span class="keyword">return</span> y === <span class="number">1</span> ? x.toUpperCase() : x;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>Marble Diagram</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">main   : ----h----e----l----l----o|</div><div class="line">some   : -<span class="number">-0</span>-<span class="number">-1</span>-<span class="number">-0</span>-<span class="number">-0</span>-<span class="number">-0</span>-<span class="number">-1</span>|</div><div class="line"></div><div class="line">withLatestFrom(some, (x, y) =&gt;  y === <span class="number">1</span> ? x.toUpperCase() : x);</div><div class="line"></div><div class="line">example: ----h----e----l----L----O|</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Operators-ä¸€&quot;&gt;&lt;a href=&quot;#Operators-ä¸€&quot; class=&quot;headerlink&quot; title=&quot;Operators (ä¸€)&quot;&gt;&lt;/a&gt;Operators (ä¸€)&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;take(n)&lt;/strong&gt;&lt;/p&gt;
&lt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>RxJSå­¦ä¹ -(0)-ä»å…¥é—¨åˆ°å…¥é—¨</title>
    <link href="http://yoursite.com/2017/05/17/2017-05-17-%20RxJS%E5%AD%A6%E4%B9%A0-(0)-%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%85%A5%E9%97%A8/"/>
    <id>http://yoursite.com/2017/05/17/2017-05-17- RxJSå­¦ä¹ -(0)-ä»å…¥é—¨åˆ°å…¥é—¨/</id>
    <published>2017-05-17T10:00:00.000Z</published>
    <updated>2017-10-24T15:31:18.404Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>RxJS å…¥é—¨è¦çŸ¥é“çš„åŸºç¡€çŸ¥è¯†</p>
</blockquote>
<p>RxJS æ˜¯ä¸€ä¸ªç”± <strong>Observable sequences</strong> ä¾†ç»„åˆ<strong>éåŒæ­¥è¡Œä¸º</strong>å’Œ<strong>äº‹ä»¶åŸºç¡€</strong>ç¨‹åºçš„åº“</p>
<p>RxJS æä¾›äº†ä¸€å¥—å®Œæ•´çš„éåŒæ­¥è§£å†³æ–¹æ¡ˆï¼Œè®©æˆ‘ä»¬åœ¨é¢å¯¹å„ç§éåŒæ­¥æ“ä½œæ—¶ï¼Œä¸ç®¡æ˜¯ Event, AJAX, è¿˜æ˜¯Animation ç­‰ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ç›¸åŒçš„ API è¿›è¡Œæ“ä½œ</p>
<p>é€™ä¹Ÿè¢«ç§°ä¸º Functional Reactive Programmingï¼Œæ›´ç¡®åˆ‡çš„è¯´æ˜¯æŒ‡ Functional Programming åŠ Reactive Programming ä¸¤ä¸ªç¼–ç¨‹æ€æƒ³çš„ç»“åˆã€‚</p>
<h3 id="Functional-Programming-é‡è¦ç‰¹æ€§"><a href="#Functional-Programming-é‡è¦ç‰¹æ€§" class="headerlink" title="Functional Programming  é‡è¦ç‰¹æ€§"></a>Functional Programming  é‡è¦ç‰¹æ€§</h3><p>å‡½æ•°å¼ç¼–ç¨‹éƒ½æ˜¯<strong>è¡¨è¾¾å¼ï¼ˆexpressionï¼‰ </strong>ä¸ä¼šæ˜¯é™ˆè¿°å¼ï¼ˆstatementï¼‰</p>
<ul>
<li>è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªè¿ç®—è¿‡ç¨‹ï¼Œä¸€å®šä¼šæœ‰è¿”å›å€¼ï¼Œä¾‹å¦‚æ‰§è¡Œä¸€ä¸ªfunction <code>add(1,2)</code></li>
<li>é™ˆè¿°å¼åˆ™æ˜¯è¡¨ç°æŸä¸ªè¡Œä¸ºï¼Œè­¬å¦‚èµ‹å€¼ç»™å˜é‡<code>a = 1;</code></li>
</ul>
<p><strong>Pure function æ˜¯æŒ‡ ç»™ä¸€ä¸ª function ç›¸åŒçš„å‚æ•°ï¼Œæ°¸è¿œä¼šè¿”å›ç›¸åŒçš„è¿”å›å€¼ï¼Œå¹¶ä¸”æ²’æœ‰ä»»ä½•å‰¯ä½œç”¨(Side Effect)</strong></p>
<p>å‰ç«¯å¸¸è§çš„side effectï¼š</p>
<ul>
<li>å‘é€http request</li>
<li>åœ¨ç”»é¢å°å‡ºå€¼æˆ–è€…log</li>
<li>è·å¾—ç”¨æˆ·çš„input</li>
<li>æŸ¥è¯¢ DOM å¯¹è±¡</li>
</ul>
<h3 id="Observable"><a href="#Observable" class="headerlink" title="Observable"></a>Observable</h3><p>Observalue å¯ä»¥è¢«è®¢é˜…ï¼ˆsubscribeï¼‰ï¼Œè®¢é˜… Observalue çš„å¯¹è±¡åˆç§°ä¸ºè§‚å¯Ÿè€…ï¼ˆobserverï¼‰ã€‚è§‚å¯Ÿè€…æ˜¯ä¸€ä¸ªå…·æœ‰ä¸‰ä¸ªæ–¹æ³•çš„å¯¹è±¡ï¼Œæ¯å½“ Observable å‘ç”Ÿäº‹ä»¶æ—¶ï¼Œè§‚å¯Ÿè€…ä¾¿ä¼šè°ƒç”¨ç›¸å¯¹åº”çš„æ–¹æ³•</p>
<p><strong>è§€å¯Ÿè€…çš„ä¸‰å€‹æ–¹æ³•(method)ï¼š</strong></p>
<ul>
<li>nextï¼šæ¯å½“ Observable å‘å‡ºæ–°çš„å€¼æ—¶ï¼Œnext æ–¹æ³•å°±ä¼šè¢«è°ƒç”¨</li>
<li>completeï¼šå½“ Observable æ²¡æœ‰å…¶ä»–çš„å€¼å¯ä»¥å–æ—¶ï¼Œcomplete æ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ï¼Œcomplete è°ƒç”¨ä¹‹åï¼Œnext æ–¹æ³•ä¸ä¼šå†èµ·ä½œç”¨</li>
<li>errorï¼šæ¯å½“ Observable å‘ç”Ÿé”™è¯¯æ—¶</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> observable = Rx.Observable</div><div class="line">	.create(<span class="function">(<span class="params">observer</span>)=&gt;</span>&#123;</div><div class="line">      observer.next(<span class="string">'Jerry'</span>)</div><div class="line">      observer.next(<span class="string">'Anna'</span>)</div><div class="line">      observer.complete()</div><div class="line">      observer.next(<span class="string">'not work'</span>)</div><div class="line">	&#125;)</div><div class="line"><span class="comment">//å®šä¹‰ä¸€ä¸ªè§‚å¯Ÿè€…ï¼Œå…·å¤‡ä¸‰ä¸ªæ–¹æ³•</span></div><div class="line"><span class="keyword">var</span> observer = &#123;</div><div class="line">  <span class="attr">next</span>: <span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(value)</div><div class="line">  &#125;</div><div class="line">  error: <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(error)</div><div class="line">  &#125;</div><div class="line">  complete: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'complete'</span>)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//ç”¨å®šä¹‰å¥½çš„è§‚å¯Ÿè€…æ¥è®¢é˜…è¿™ä¸ªobservable</span></div><div class="line">observable.subscribute(observer)</div><div class="line"><span class="comment">//ç»“æœä¼šè¾“å‡º</span></div><div class="line"><span class="comment">/*Jerry</span></div><div class="line">Anna</div><div class="line">complete*/</div></pre></td></tr></table></figure>
<p>è§‚å¯Ÿè€…å¯ä»¥æ˜¯ä¸å®Œæ•´çš„ï¼Œå¯ä»¥åªå…·æœ‰ä¸€ä¸ªnextæ–¹æ³•</p>
<p>ä¹Ÿå¯ä»¥ç›´æ¥æŠŠä¸‰ä¸ªæ–¹æ³•æŒ‰é¡ºåºä¼ å…¥</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">observable.subscribe(</div><div class="line">    <span class="function"><span class="params">value</span> =&gt;</span> &#123; <span class="built_in">console</span>.log(value); &#125;,</div><div class="line">    error =&gt; &#123; <span class="built_in">console</span>.log(<span class="string">'Error: '</span>, error); &#125;,</div><div class="line">    () =&gt; &#123; <span class="built_in">console</span>.log(<span class="string">'complete'</span>) &#125;</div><div class="line">)</div></pre></td></tr></table></figure>
<h3 id="Observable-åˆ›å»ºå®ä¾‹çš„å‡ ä¸ªå¸¸ç”¨æ–¹æ³•"><a href="#Observable-åˆ›å»ºå®ä¾‹çš„å‡ ä¸ªå¸¸ç”¨æ–¹æ³•" class="headerlink" title="Observable åˆ›å»ºå®ä¾‹çš„å‡ ä¸ªå¸¸ç”¨æ–¹æ³•"></a>Observable åˆ›å»ºå®ä¾‹çš„å‡ ä¸ªå¸¸ç”¨æ–¹æ³•</h3><ul>
<li><p>create</p>
<p>åŒä¸Š</p>
</li>
<li><p>of</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//è¿™ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªlist</span></div><div class="line"><span class="keyword">var</span> sourse = Rx.Observable.of(<span class="string">'Jerry'</span>, <span class="string">'Anna'</span>)</div></pre></td></tr></table></figure>
</li>
<li><p>from</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="string">'Jerry'</span>, <span class="string">'Anna'</span>, <span class="number">2016</span>, <span class="number">2017</span>, <span class="string">'30 days'</span>] </div><div class="line"><span class="keyword">var</span> sourse = Rx.Observable.from(arr)</div><div class="line"><span class="comment">//è¿™ä¸ªå‚æ•°å¯ä»¥æ˜¯Array, Set, WeakSet, Iterator ,String, Promise ç­‰..  </span></div><div class="line"><span class="comment">//å¦‚æœæ˜¯å­—ç¬¦ä¸²çš„è¯ï¼Œä¼šæŠŠå­—ç¬¦ä¸²é‡Œçš„å­—ç¬¦ä¸€ä¸ªä¸ªè¯»å–</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ä¼ å…¥ Promise å®ä¾‹ï¼Œå½“æ­£å¸¸å›ä¼  (resolve) ä¼šä¼ å…¥ nextï¼Œæœ‰é”™è¯¯ (reject) å°±ä¼ åˆ° error</span></div><div class="line"><span class="keyword">var</span> source = Rx.Observable</div><div class="line">  .from(<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123; <span class="comment">//é€™è£¡çš„ form ä¹Ÿå¯ä»¥æ”¹æˆ fromPromise ï¼Œçµæœç›¸åŒ</span></div><div class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">      resolve(<span class="string">'Hello RxJS!'</span>);</div><div class="line">    &#125;,<span class="number">3000</span>)</div><div class="line">  &#125;))</div></pre></td></tr></table></figure>
</li>
<li><p>fromEvent</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.fromEvent(<span class="built_in">document</span>.body, <span class="string">'click'</span>)</div><div class="line"><span class="comment">//ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ DOM å…ƒç´ ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦ç›‘å¬çš„äº‹ä»¶åç§°</span></div></pre></td></tr></table></figure>
</li>
<li><p>fromEventPattern</p>
</li>
<li><p>empty</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.empty();</div><div class="line"><span class="comment">//empty æœƒçµ¦æˆ‘å€‘ä¸€å€‹ç©ºçš„ observableï¼Œå¦‚æœæˆ‘å€‘è¨‚é–±é€™å€‹ observable ,æœƒç«‹å³é€å‡º complete çš„è¨Šæ¯ï¼</span></div></pre></td></tr></table></figure>
</li>
<li><p>never</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.never();</div><div class="line"><span class="comment">//never æœƒçµ¦æˆ‘å€‘ä¸€å€‹ç„¡çª®çš„ observableï¼Œå¦‚æœæˆ‘å€‘è¨‚é–±å®ƒåˆ™...ä»€éº¼äº‹éƒ½ä¸æœƒç™¼ç”Ÿï¼Œå®ƒå°±æ˜¯ä¸€å€‹ä¸€ç›´å­˜åœ¨ä½†å»ä»€éº¼éƒ½ä¸åšçš„ observable</span></div></pre></td></tr></table></figure>
</li>
<li><p>throw</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.throw(<span class="string">'Oop!'</span>);</div><div class="line"><span class="comment">//æŠ›é”™è¯¯</span></div></pre></td></tr></table></figure>
</li>
<li><p>interval</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.interval(<span class="number">1000</span>);</div><div class="line"><span class="comment">//interval æœ‰ä¸€å€‹å‚æ•°å¿…é¡»æ˜¯æ•°å€¼(Number)ï¼Œé€™ä¸ªæ•°å€¼ä»£è¡¨å‘å‡ºè®¯å·çš„é—´éš”æ—¶é—´(ms)ã€‚</span></div><div class="line"><span class="comment">//è¿™æ®µç¨‹åºä¼šæŒç»­æ¯éš”ä¸€ç§’å‘å‡ºä¸€å€‹ä»0å¼€å§‹é€’å¢çš„æ•°å€¼</span></div></pre></td></tr></table></figure>
</li>
<li><p>timer</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.timer(<span class="number">1000</span>, <span class="number">5000</span>);</div><div class="line"><span class="comment">//ç¬¬ä¸€ä¸ªå‚æ•°ä»£è¡¨å‘å‡ºç¬¬ä¸€ä¸ªå€¼ç­‰å¾…çš„æ—¶é—´(ms)ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºç¬¬ä¸€æ¬¡ä¹‹åå‘é€å€¼çš„æ—¶é—´é—´éš”ï¼Œæ‰€ä»¥ä¸Šé¢è¿™æ®µç¨‹åºä¼šå…ˆç­‰1sé€å‡º0ä¹‹åï¼Œæ¯éš”5sé€å‡º1,2,3,4,5....</span></div><div class="line"><span class="comment">//timerçš„ç¬¬ä¸€ä¸ªå‚æ•°è¿˜å¯ä»¥æ˜¯æ—¥æœŸ(Date)ï¼Œå°±ä¼šç­‰åˆ°æŒ‡å®šçš„æ—¶é—´å†å‘é€ç¬¬ä¸€ä¸ªå€¼</span></div><div class="line"><span class="comment">//ä¹Ÿå¯ä»¥åªæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œç­‰ä¸€ç§’é€å‡º0åŒæ—¶ç»“æŸé€šçŸ¥</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Sbuscription"><a href="#Sbuscription" class="headerlink" title="Sbuscription"></a>Sbuscription</h3><p>åœ¨è®¢é˜… observable ä¹‹åï¼Œä¼šè¿”å›ä¸€ä¸ª subscription å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å…·æœ‰é‡Šæ”¾èµ„æºçš„ unsubscribe æ–¹æ³•</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.timer(<span class="number">1000</span>, <span class="number">1000</span>)</div><div class="line"><span class="keyword">var</span> subscription = source.subscribe(&#123;</div><div class="line">  <span class="attr">next</span>: <span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(value)</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">complete</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'complete'</span>)</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">  subscription.unsubscribe()</div><div class="line">&#125;, <span class="number">5000</span>)</div><div class="line"><span class="comment">//0</span></div><div class="line"><span class="comment">//1</span></div><div class="line"><span class="comment">//2</span></div><div class="line"><span class="comment">//3</span></div><div class="line"><span class="comment">//4</span></div></pre></td></tr></table></figure>
<p>Events observable ç›¡é‡ä¸è¦ç”¨ <code>unsubscribe</code> ï¼Œé€šå¸¸æˆ‘å€‘æœƒä½¿ç”¨ <code>takeUntil</code>ï¼Œåœ¨æŸå€‹äº‹ä»¶ç™¼ç”Ÿå¾Œä¾†å®Œæˆ Event observable</p>
<h3 id="operator"><a href="#operator" class="headerlink" title="operator"></a>operator</h3><p>operators å°±æ˜¯ä¸€ä¸ªä¸ªè¢«é™„åŠ åˆ° Observable å¯¹è±¡çš„å‡½æ•°ï¼Œåƒmap, filterâ€¦ ç­‰ç­‰ã€‚è¿™äº›å‡½æ•°ä¼šæ”¶åˆ°åŸæœ¬çš„observable å¹¶å›ä¼ ä¸€ä¸ªæ–°çš„ observable</p>
<ul>
<li><strong>map</strong></li>
</ul>
<ul>
<li><strong>filter</strong></li>
<li><strong>mapTo</strong> å¯ä»¥æŠŠå‚³é€²ä¾†çš„å€¼æ”¹æˆä¸€å€‹å›ºå®šçš„å€¼</li>
<li>â€¦â€¦â€¦..</li>
<li><a href="https://github.com/Reactive-Extensions/RxJS/blob/master/doc/libraries/main/rx.md" target="_blank" rel="external">æ›´å¤š</a></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.interval(<span class="number">1000</span>);</div><div class="line"><span class="keyword">var</span> newest = source.mapTo(<span class="number">2</span>); </div><div class="line">newest.subscribe(<span class="built_in">console</span>.log);</div><div class="line"><span class="comment">// 2</span></div><div class="line"><span class="comment">// 2</span></div><div class="line"><span class="comment">// 2</span></div><div class="line"><span class="comment">// 2..</span></div></pre></td></tr></table></figure>
<h3 id="Marble-diagrams"><a href="#Marble-diagrams" class="headerlink" title="Marble diagrams"></a>Marble diagrams</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.interval(<span class="number">1000</span>);</div><div class="line"><span class="keyword">var</span> newest = source.map(<span class="function"><span class="params">x</span> =&gt;</span> x + <span class="number">1</span>);</div></pre></td></tr></table></figure>
<p>é€™æ™‚ Marble diagrams å°±æœƒé•·åƒé€™æ¨£</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">source: -----0-----1-----2-----3--...</div><div class="line">	map(x =&gt; x + 1)</div><div class="line">newest: -----1-----2-----3-----4--...</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;RxJS å…¥é—¨è¦çŸ¥é“çš„åŸºç¡€çŸ¥è¯†&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;RxJS æ˜¯ä¸€ä¸ªç”± &lt;strong&gt;Observable sequences&lt;/strong&gt; ä¾†ç»„åˆ&lt;strong&gt;éåŒæ­¥è¡Œä¸º&lt;/strong&gt;å’Œ&lt;strong&gt;äº‹ä»¶åŸºç¡€&lt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>æµè§ˆå™¨ç¼“å­˜</title>
    <link href="http://yoursite.com/2017/04/10/2017-04-10-%20%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98/"/>
    <id>http://yoursite.com/2017/04/10/2017-04-10- æµè§ˆå™¨ç¼“å­˜/</id>
    <published>2017-04-10T12:00:00.000Z</published>
    <updated>2017-05-30T14:30:57.919Z</updated>
    
    <content type="html"><![CDATA[<p><img src="cache.jpg" alt="img"></p>
<h3 id="Last-Modified"><a href="#Last-Modified" class="headerlink" title="Last-Modified"></a>Last-Modified</h3><p>æµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼ŒæœåŠ¡å™¨ç«¯çš„è¿”å›çŠ¶æ€ä¼šæ˜¯200ï¼Œå†…å®¹æ˜¯ä½ è¯·æ±‚çš„èµ„æºï¼ŒåŒæ—¶æœ‰ä¸€ä¸ª<code>Last-Modified</code>çš„å±æ€§æ ‡è®°<strong>(HttpResponse Header)</strong>ï¼šæ­¤æ–‡ä»¶åœ¨æœåŠ¡å™¨ç«¯æœ€åè¢«ä¿®æ”¹çš„æ—¶é—´ï¼Œæ ¼å¼ï¼š<code>Last-Modified:Tue, 24 Feb 2017 08:01:04 GMT</code></p>
<p>å®¢æˆ·ç«¯ç¬¬äºŒæ¬¡è¯·æ±‚è¯¥URLæ—¶ï¼Œæµè§ˆå™¨ä¼šå‘æœåŠ¡å™¨ä¼ é€<code>If-Modified-Since</code>æŠ¥å¤´<strong>(HttpRequest Header)</strong>,è¯¢é—®è¯¥æ—¶é—´ä¹‹åæ–‡ä»¶æ˜¯å¦æœ‰è¢«ä¿®æ”¹è¿‡ã€‚æ ¼å¼ï¼š<code>If-Modified-Since:Tue, 24 Feb 2017 08:01:04 GMT</code>.å¦‚æœæœåŠ¡å™¨ç«¯çš„èµ„æºæ²¡æœ‰å˜åŒ–ï¼Œåˆ™è‡ªåŠ¨è¿”å›304ï¼Œå†…å®¹ä¸ºç©ºã€‚å½“æœåŠ¡å™¨ç«¯ä»£ç å‘ç”Ÿå˜åŒ–æˆ–è€…é‡å¯æœåŠ¡å™¨æ—¶ï¼Œåˆ™é‡æ–°å‘å‡ºèµ„æº,è¿”å›å’Œç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ç±»ä¼¼ã€‚</p>
<h3 id="Etag"><a href="#Etag" class="headerlink" title="Etag"></a>Etag</h3><p>Etagä¸ºâ€œè¢«è¯·æ±‚å˜é‡çš„å®ä½“æ ‡è®°â€ã€‚å³æœåŠ¡å™¨å“åº”æ—¶ç»™è¯·æ±‚URLæ ‡è®°ã€‚å¹¶åœ¨å“åº”å¤´ä¸­å°†å…¶ä¼ é€åˆ°å®¢æˆ·ç«¯ï¼Œæ ¼å¼ï¼š<code>Etag:&quot;5d8c72a5edda8d6a:3239&quot;</code> </p>
<p>å®¢æˆ·ç«¯æŸ¥è¯¢æ›´æ–°çš„æ ¼å¼æ˜¯ï¼š<code>If-None-Match:&quot;5d8c72a5edda8d6a:3239&quot;</code>,è‹¥Etagæ²¡å˜ï¼Œåˆ™è¿”å›304</p>
<h3 id="Expires"><a href="#Expires" class="headerlink" title="Expires"></a>Expires</h3><p>Expiresï¼šè¿‡æœŸæ—¶é—´ã€‚éœ€å’Œ<code>Last-Modified</code>ç»“åˆä½¿ç”¨ï¼Œç”¨äºæ§åˆ¶è¯·æ±‚æ–‡ä»¶çš„æœ‰æ•ˆæ—¶é—´ã€‚æ ¼å¼ï¼š<code>Expires:Thu, 02 Apr 2017 05:14:08 GMT</code> ã€‚è¿‡äº†è¿™ä¸ªæ—¶é—´ï¼Œç¼“å­˜å™¨å°±ä¼šå‘æºæœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œæ£€æŸ¥æ–‡æ¡£æ˜¯å¦è¢«ä¿®æ”¹ã€‚</p>
<h3 id="Cache-Control"><a href="#Cache-Control" class="headerlink" title="Cache-Control"></a>Cache-Control</h3><p><strong>General Header</strong></p>
<p><strong>å¯ç¼“å­˜æ€§</strong></p>
<ul>
<li><p><code>public</code></p>
<p>è¡¨æ˜å“åº”å¯ä»¥è¢«ä»»ä½•å¯¹è±¡ï¼ˆåŒ…æ‹¬ï¼šå‘é€è¯·æ±‚çš„å®¢æˆ·ç«¯ï¼Œä»£ç†æœåŠ¡å™¨ï¼Œç­‰ç­‰ï¼‰ç¼“å­˜ã€‚</p>
</li>
<li><p><code>private</code></p>
<p>è¡¨æ˜å“åº”åªèƒ½è¢«å•ä¸ªç”¨æˆ·ç¼“å­˜ï¼Œä¸èƒ½ä½œä¸ºå…±äº«ç¼“å­˜ï¼ˆå³ä»£ç†æœåŠ¡å™¨ä¸èƒ½ç¼“å­˜å®ƒï¼‰ã€‚</p>
</li>
<li><p><code>no-cache</code></p>
<p> å¼ºåˆ¶æ‰€æœ‰ç¼“å­˜äº†è¯¥å“åº”çš„ç¼“å­˜ç”¨æˆ·ï¼Œåœ¨ä½¿ç”¨å·²å­˜å‚¨çš„ç¼“å­˜æ•°æ®å‰ï¼Œå‘é€å¸¦éªŒè¯å™¨çš„è¯·æ±‚åˆ°åŸå§‹æœåŠ¡å™¨</p>
</li>
<li><p><code>only-if-cached</code></p>
<p>è¡¨æ˜å¦‚æœç¼“å­˜å­˜åœ¨ï¼Œåªä½¿ç”¨ç¼“å­˜ï¼Œæ— è®ºåŸå§‹æœåŠ¡å™¨æ•°æ®æ˜¯å¦æœ‰æ›´æ–°ã€‚</p>
</li>
</ul>
<p><strong>åˆ°æœŸ</strong></p>
<ul>
<li><p><code>max-age=&lt;seconds&gt;</code></p>
<p>è®¾ç½®ç¼“å­˜å­˜å‚¨çš„æœ€å¤§å‘¨æœŸï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´ç¼“å­˜è¢«è®¤ä¸ºè¿‡æœŸ(å•ä½ç§’)ã€‚ä¸Expiresç›¸åï¼Œæ—¶é—´æ˜¯ç›¸å¯¹äºè¯·æ±‚çš„æ—¶é—´ã€‚</p>
</li>
</ul>
<p><strong>é‡æ–°éªŒè¯</strong></p>
<ul>
<li><p><code>must-revalidate</code></p>
<p>ç¼“å­˜å¿…é¡»åœ¨ä½¿ç”¨ä¹‹å‰éªŒè¯æ—§èµ„æºçš„çŠ¶æ€ï¼Œå¹¶ä¸”ä¸å¯ä½¿ç”¨è¿‡æœŸèµ„æº</p>
</li>
</ul>
<p><strong>å…¶ä»–</strong></p>
<ul>
<li><p><code>no-cache</code></p>
<p>ä¸ç®¡æ˜¯è¯·æ±‚è¿˜æ˜¯å“åº”ï¼Œç¼“å­˜éƒ½ä¸åº”å­˜å‚¨ä»»ä½•å†…å®¹</p>
</li>
</ul>
<p><u>ç¦æ­¢ç¼“å­˜ : </u></p>
<p><code>Cache-Control: no-cache, no-store, must-revalidate</code></p>
<p><u>ç¼“å­˜é™æ€èµ„æº : </u></p>
<p><code>Cache-Control:public, max-age=31536000</code></p>
<h3 id="Expires-å’Œ-Cache-Controlæ¯”è¾ƒ"><a href="#Expires-å’Œ-Cache-Controlæ¯”è¾ƒ" class="headerlink" title="Expires å’Œ Cache-Controlæ¯”è¾ƒ"></a>Expires å’Œ Cache-Controlæ¯”è¾ƒ</h3><p><code>Expires = æ ¼æ—å¨æ²»æ—¶é—´</code>ï¼ŒHTTP 1.0 ç‰ˆæœ¬ï¼Œç¼“å­˜çš„è¿‡æœŸæ—¶é—´ï¼Œå…è®¸å®¢æˆ·ç«¯åœ¨è¿™ä¸ªæ—¶é—´ä¹‹å‰ä¸å»æ£€æŸ¥ï¼ˆå‘è¯·æ±‚ï¼‰</p>
<p><code>max-age = ç§’</code>ï¼ŒHTTP 1.1ç‰ˆæœ¬ï¼ŒæŒ‡èµ„æºåœ¨æœ¬åœ°ç¼“å­˜å¤šå°‘ç§’</p>
<p>å¦‚æœ<code>max-age</code>å’Œ<code>Expires</code>åŒæ—¶å­˜åœ¨ï¼Œåˆ™è¢«<code>Cache-Control</code>çš„<code>max-age</code>è¦†ç›–</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;cache.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;Last-Modified&quot;&gt;&lt;a href=&quot;#Last-Modified&quot; class=&quot;headerlink&quot; title=&quot;Last-Modified&quot;&gt;&lt;/a&gt;Last-Mod
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>å‰ç«¯æ¨¡å—åŒ–</title>
    <link href="http://yoursite.com/2017/04/01/2017-04-01-%20%E5%89%8D%E7%AB%AF%E6%A8%A1%E5%9D%97%E5%8C%96/"/>
    <id>http://yoursite.com/2017/04/01/2017-04-01- å‰ç«¯æ¨¡å—åŒ–/</id>
    <published>2017-04-01T12:00:00.000Z</published>
    <updated>2017-05-14T05:37:54.423Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸ºäº†æ›´å¥½çš„ç®¡ç†ç½‘é¡µçš„ä¸šåŠ¡é€»è¾‘ï¼Œäº§ç”Ÿäº†æ¨¡å—åŒ–ç¼–ç¨‹çš„ç†å¿µã€‚</p>
<p>å¸¸ç”¨çš„ JavaScript çš„æ¨¡å—åŒ–è§„èŒƒæœ‰ CommonJS ã€ AMD ã€CMD</p>
<h3 id="CommonJS-è§„èŒƒ"><a href="#CommonJS-è§„èŒƒ" class="headerlink" title="CommonJS è§„èŒƒ"></a>CommonJS è§„èŒƒ</h3><blockquote>
<p>æœåŠ¡å™¨ç«¯çš„ Node.js éµå¾ª CommonJS è§„èŒƒ</p>
</blockquote>
<p>CommonJSå®šä¹‰çš„æ¨¡å—åˆ†ä¸º:<code>æ¨¡å—å¼•ç”¨(require)</code>  <code>æ¨¡å—å®šä¹‰(exports)</code>  <code>æ¨¡å—æ ‡è¯†(module)</code> </p>
<p><code>require()</code>ç”¨æ¥å¼•å…¥å¤–éƒ¨æ¨¡å—ï¼Œè¯¥æ–¹æ³•è¯»å–ä¸€ä¸ªæ–‡ä»¶å¹¶æ‰§è¡Œï¼Œæœ€åè¿”å›æ–‡ä»¶å†…éƒ¨çš„ <code>exports</code> å¯¹è±¡ï¼›<code>exports</code>å¯¹è±¡ç”¨äºå¯¼å‡ºå½“å‰æ¨¡å—çš„æ–¹æ³•æˆ–å˜é‡ï¼Œå”¯ä¸€çš„å¯¼å‡ºå£ï¼›ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œ<code>module</code>å¯¹è±¡å°±ä»£è¡¨æ¨¡å—æœ¬èº«ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>(<span class="string">"moduleA"</span>)</div><div class="line"><span class="built_in">require</span>(<span class="string">"../file.js"</span>)</div><div class="line">exports.func = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</div><div class="line"><span class="built_in">module</span>.exports = moduleB</div></pre></td></tr></table></figure>
<p><strong>ä¼˜ç‚¹</strong></p>
<p>CommonJS è§„èŒƒåŠ è½½æ¨¡å—æ˜¯<strong>åŒæ­¥</strong>çš„ï¼Œåªæœ‰åŠ è½½å®Œæˆï¼Œæ‰èƒ½æ‰§è¡Œåé¢çš„æ“ä½œã€‚è¿™ç§å†™æ³•é€‚åˆæœåŠ¡ç«¯ï¼Œå› ä¸ºåœ¨æœåŠ¡å™¨è¯»å–æ¨¡å—éƒ½æ˜¯åœ¨æœ¬åœ°ç£ç›˜ï¼ŒåŠ è½½é€Ÿåº¦å¾ˆå¿«ã€‚</p>
<p><strong>ç¼ºç‚¹</strong></p>
<p>å¦‚æœåœ¨å®¢æˆ·ç«¯ï¼ŒåŠ è½½æ¨¡å—çš„æ—¶å€™æœ‰å¯èƒ½å‡ºç°â€œå‡æ­»â€çŠ¶å†µã€‚ä¸èƒ½éé˜»å¡çš„å¹¶è¡ŒåŠ è½½å¤šä¸ªæ¨¡å—</p>
<h3 id="AMD-è§„èŒƒ"><a href="#AMD-è§„èŒƒ" class="headerlink" title="AMD è§„èŒƒ"></a>AMD è§„èŒƒ</h3><blockquote>
<p>å¼‚æ­¥æ¨¡å—å®šä¹‰è§„èŒƒï¼Œä¾èµ–å‰ç½®ï¼Œé€‚ç”¨äºå®¢æˆ·ç«¯ç¯å¢ƒï¼Œå¹¶ä¸”èƒ½å…¼å®¹æœåŠ¡å™¨ç«¯æ¨¡å—çš„ä¸€ç§æ¨¡å—è§„èŒƒ</p>
</blockquote>
<p>AMD å…¶å®åªæœ‰ä¸€ä¸ªä¸»è¦æ¥å£ <code>define(id?, dependenncies?, factory)</code>ï¼Œè¦åœ¨å£°æ˜æ¨¡å—çš„æ—¶å€™æŒ‡å®šæ‰€æœ‰çš„ä¾èµ–<code>dependencies</code>ï¼Œä¾èµ–ä½œä¸ºå½¢å‚ä¼ åˆ°<code>factory</code>ä¸­ï¼Œå¯¹äºä¾èµ–çš„æ¨¡å—æå‰æ‰§è¡Œã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">define(<span class="string">"moduleA"</span>, [<span class="string">"dep1"</span>, <span class="string">"dep2"</span>], <span class="function"><span class="keyword">function</span>(<span class="params">d1, d2</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> someExportedValue;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>AMDä¹Ÿç”¨<code>require()</code>è¯­å¥æ¥åŠ è½½æ¨¡å—ï¼Œä½†æ˜¯ä»–è¦æ±‚æœ‰ä¸¤ä¸ªå‚æ•°<code>require([module], callback)</code></p>
<p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé‡Œé¢çš„æˆå‘˜å°±æ˜¯è¦åŠ è½½çš„æ¨¡å—ï¼Œç¬¬äºŒä¸ªå‚æ•°callbackï¼Œåˆ™æ˜¯åŠ è½½æˆåŠŸä¹‹åçš„å›è°ƒå‡½æ•°</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>([<span class="string">'package/moduleA'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">moduleA</span>) </span>&#123;</div><div class="line">  moduleA.add(<span class="number">2</span>,<span class="number">3</span>)</div><div class="line">&#125;)</div><div class="line"><span class="comment">//modleA.add()ä¸moduleAæ¨¡å—åŠ è½½ä¸æ˜¯åŒæ­¥çš„,ååˆ†é€‚åˆæµè§ˆå™¨çš„ç¯å¢ƒ</span></div></pre></td></tr></table></figure>
<p><strong>ä¼˜ç‚¹</strong></p>
<p>AMD è¿è¡Œæ—¶æ ¸å¿ƒæ€æƒ³æ˜¯ã€ŒEarly Executingã€ï¼Œä¹Ÿå°±æ˜¯æå‰æ‰§è¡Œä¾èµ–ï¼Œæå‰æ‰§è¡Œä¾èµ–é€šå¸¸å¯ä»¥å¸¦æ¥æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œä¹Ÿå¯ä»¥å°½æ—©å‘ç°é”™è¯¯</p>
<p>é€‚åˆåœ¨æµè§ˆå™¨ç¯å¢ƒä¸­å¼‚æ­¥åŠ è½½æ¨¡å—ï¼Œå¯ä»¥å¹¶è¡ŒåŠ è½½å¤šä¸ªæ¨¡å—</p>
<p><strong>ç¼ºç‚¹</strong></p>
<p>è‹¥æå‰æ‰§è¡Œçš„ä¾èµ–æœªè¢«ä½¿ç”¨ï¼Œå°±æµªè´¹äº†å¸¦å®½å’Œå†…å­˜å¼€é”€</p>
<p>ä¸ç¬¦åˆé€šç”¨çš„æ¨¡å—åŒ–æ€ç»´æ–¹å¼ï¼Œæ˜¯ä¸€ç§å¦¥åçš„å®ç°</p>
<h3 id="CMD-è§„èŒƒ"><a href="#CMD-è§„èŒƒ" class="headerlink" title="CMD è§„èŒƒ"></a>CMD è§„èŒƒ</h3><blockquote>
<p>é€šç”¨æ¨¡å—å®šä¹‰è§„èŒƒï¼Œä¾èµ–å°±è¿‘ï¼Œç”¨çš„æ—¶å€™å†require ï¼Œå¼‚æ­¥åŠ è½½æ¨¡å—</p>
</blockquote>
<p>CMD å’Œ AMD å¾ˆç›¸ä¼¼</p>
<p>AMDå’ŒCMDæœ€å¤§çš„åŒºåˆ«æ˜¯å¯¹ä¾èµ–æ¨¡å—çš„æ‰§è¡Œæ—¶æœºå¤„ç†ä¸åŒï¼ŒAMD æ˜¯æå‰æ‰§è¡Œï¼ŒCMD æ˜¯å»¶è¿Ÿæ‰§è¡Œã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">define(<span class="function"><span class="keyword">function</span>(<span class="params">require, exports, module</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> $ = <span class="built_in">require</span>(<span class="string">'jquery'</span>);</div><div class="line">  <span class="keyword">var</span> Spinning = <span class="built_in">require</span>(<span class="string">'./spinning'</span>);</div><div class="line">  exports.doSomething = ...</div><div class="line">  module.exports = ...</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="ES6-æ¨¡å—"><a href="#ES6-æ¨¡å—" class="headerlink" title="ES6 æ¨¡å—"></a>ES6 æ¨¡å—</h3><p>ES6 æ¨¡å—çš„è®¾è®¡æ€æƒ³ï¼Œæ˜¯å°½é‡çš„<strong>é™æ€åŒ–</strong>ï¼Œä½¿å¾—<strong>ç¼–è¯‘æ—¶</strong>å°±èƒ½ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼Œä»¥åŠè¾“å…¥å’Œè¾“å‡ºçš„å˜é‡ã€‚CommonJS å’Œ AMD æ¨¡å—éƒ½åªèƒ½åœ¨è¿è¡Œæ—¶ç¡®å®šè¿™äº›ä¸œè¥¿ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> <span class="string">"jquery"</span>;</div><div class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">func</span>(<span class="params"></span>) </span>&#123;&#125;</div><div class="line"><span class="built_in">module</span> <span class="string">"localModule"</span> &#123;&#125;</div></pre></td></tr></table></figure>
<ul>
<li>åœ¨ES6æ¨¡å—ä¸­ï¼Œæ— è®ºä½ æ˜¯å¦åŠ å…¥<code>use strict</code>è¯­å¥ï¼Œé»˜è®¤æƒ…å†µä¸‹æ¨¡å—éƒ½æ˜¯åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹è¿è¡Œã€‚</li>
<li>å½“è¿è¡Œçš„æ¨¡å—ä¸­åŒ…å«ä¸€æ¡<code>import</code>å£°æ˜æ—¶ï¼Œé¦–å…ˆä¼šåŠ è½½è¢«å¯¼å…¥çš„æ¨¡å—ï¼›ç„¶åä¾èµ–å›¾çš„æ·±åº¦ä¼˜å…ˆéå†æŒ‰é¡ºåºæ‰§è¡Œæ¯ä¸€ä¸ªæ¨¡å—çš„ä¸»ä½“ä»£ç ï¼›ä¸ºäº†é¿å…å½¢æˆå›ç¯ï¼Œæ‰€æœ‰å·²æ‰§è¡Œçš„æ¨¡å—éƒ½ä¼šè¢«å¿½ç•¥ã€‚</li>
</ul>
<h5 id="é‡å‘½åimport-å’Œ-export"><a href="#é‡å‘½åimport-å’Œ-export" class="headerlink" title="é‡å‘½åimport å’Œ export"></a>é‡å‘½åimport å’Œ export</h5><p>å¦‚æœå¯¼å‡ºçš„åç§°ä¸éœ€è¦ä½¿ç”¨çš„å…¶å®ƒåç§°äº§ç”Ÿå†²çªï¼Œå¯ä»¥ä½¿ç”¨é‡å‘½åçš„æ–¹æ³•ï¼Œå¦‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;flip <span class="keyword">as</span> flipOmelet&#125; <span class="keyword">from</span> <span class="string">"eggs.js"</span>;</div><div class="line"><span class="keyword">import</span> &#123;flip <span class="keyword">as</span> flipHouse&#125; <span class="keyword">from</span> <span class="string">"real-estate.js"</span>;</div></pre></td></tr></table></figure>
<p>åœ¨å¯¼å‡ºçš„æ—¶å€™ä¹Ÿå¯ä»¥é‡å‘½å</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">v1</span>(<span class="params"></span>) </span>&#123; ... &#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">v2</span>(<span class="params"></span>) </span>&#123; ... &#125;</div><div class="line"></div><div class="line"><span class="keyword">export</span> &#123;</div><div class="line">  v1 <span class="keyword">as</span> streamV1,</div><div class="line">  v2 <span class="keyword">as</span> streamV2,</div><div class="line">  v2 <span class="keyword">as</span> streamLatestVersion</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h5 id="default-exports"><a href="#default-exports" class="headerlink" title="default exports"></a>default exports</h5><p><code>import _ from &quot;lodash&quot;;</code></p>
<p>è¿™ç§ç®€ç•¥çš„è¡¨è¾¾æ–¹æ³•ç­‰ä»·äº<code>import {default as _} from &quot;lodash&quot;;</code>ã€‚åœ¨ES6çš„æ¨¡å—ä¸­å¯¼å…¥çš„CommonJSæ¨¡å—å’ŒAMDæ¨¡å—éƒ½æœ‰ä¸€ä¸ª<code>é»˜è®¤çš„</code>å¯¼å‡ºï¼Œå¦‚æœä½ ç”¨<code>require()</code>åŠ è½½è¿™äº›æ¨¡å—ä¹Ÿä¼šå¾—åˆ°ç›¸åŒçš„ç»“æœâ€”â€”<code>exports</code>å¯¹è±¡ã€‚</p>
<h5 id="æ¨¡å—å¯¹è±¡"><a href="#æ¨¡å—å¯¹è±¡" class="headerlink" title="æ¨¡å—å¯¹è±¡"></a>æ¨¡å—å¯¹è±¡</h5><p><code>import * as cows from &quot;cows&quot;;</code></p>
<p>å½“<code>import *</code>æ—¶ï¼Œå¯¼å…¥çš„æ˜¯ä¸€ä¸ªæ¨¡å—å‘½åç©ºé—´å¯¹è±¡ï¼Œæ¨¡å—å°†å®ƒçš„æ‰€æœ‰å±æ€§éƒ½å¯¼å‡ºäº†ã€‚æ‰€ä»¥å¦‚æœâ€œcowsâ€æ¨¡å—å¯¼å‡ºä¸€ä¸ªåä¸º<code>moon()</code>çš„å‡½æ•°ï¼Œç„¶åç”¨ä¸Šé¢è¿™ç§æ–¹æ³•â€œcowsâ€å°†å…¶å…¨éƒ¨å¯¼å…¥åï¼Œå°±å¯ä»¥è¿™æ ·è°ƒç”¨å‡½æ•°<code>cows.moo()</code></p>
<p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>å®¹æ˜“è¿›è¡Œé™æ€åˆ†æ</li>
<li>é¢å‘æœªæ¥çš„ ECMAScript æ ‡å‡†</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>åŸç”Ÿæµè§ˆå™¨ç«¯è¿˜æ²¡æœ‰å®ç°è¯¥æ ‡å‡†</li>
<li>å…¨æ–°çš„å‘½ä»¤å­—ï¼Œæ–°ç‰ˆçš„ Node.jsæ‰æ”¯æŒ</li>
</ul>
<p><strong>å®ç°</strong></p>
<p><a href="https://babeljs.io/" target="_blank" rel="external">babel</a></p>
<h3 id="å‰ç«¯æ¨¡å—åŒ–å·¥å…·"><a href="#å‰ç«¯æ¨¡å—åŒ–å·¥å…·" class="headerlink" title="å‰ç«¯æ¨¡å—åŒ–å·¥å…·"></a>å‰ç«¯æ¨¡å—åŒ–å·¥å…·</h3><p><a href="https://webpack.github.io/docs/" target="_blank" rel="external">webpack</a></p>
<p>webpack æ˜¯å½“ä¸‹æœ€çƒ­é—¨çš„å‰ç«¯èµ„æºæ¨¡å—åŒ–ç®¡ç†å·¥å…·ã€‚é€šè¿‡ loader çš„è½¬æ¢ï¼Œä»»ä½•å½¢å¼çš„èµ„æºéƒ½å¯ä»¥è§†ä½œæ¨¡å—ã€‚å¦‚ commonJS æ¨¡å—ã€AMD æ¨¡å—ã€ES6æ¨¡å—ã€CSSã€å›¾ç‰‡ç­‰â€¦</p>
<p>webpack å°†æ ¹æ®æ¨¡å—çš„<strong>ä¾èµ–å…³ç³»</strong>è¿›è¡Œé™æ€åˆ†æï¼Œç„¶åå°†è¿™äº›æ¨¡å—æŒ‰ç…§æŒ‡å®šçš„è§„åˆ™ç”Ÿæˆå¯¹åº”çš„é™æ€èµ„æºã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸ºäº†æ›´å¥½çš„ç®¡ç†ç½‘é¡µçš„ä¸šåŠ¡é€»è¾‘ï¼Œäº§ç”Ÿäº†æ¨¡å—åŒ–ç¼–ç¨‹çš„ç†å¿µã€‚&lt;/p&gt;
&lt;p&gt;å¸¸ç”¨çš„ JavaScript çš„æ¨¡å—åŒ–è§„èŒƒæœ‰ CommonJS ã€ AMD ã€CMD&lt;/p&gt;
&lt;h3 id=&quot;CommonJS-è§„èŒƒ&quot;&gt;&lt;a href=&quot;#CommonJS-è§„èŒƒ&quot; class=&quot;head
    
    </summary>
    
    
      <category term="Web" scheme="http://yoursite.com/tags/Web/"/>
    
  </entry>
  
  <entry>
    <title>Pythonç¬”è®°</title>
    <link href="http://yoursite.com/2017/03/29/2017-04-02-%20Python%E7%AC%94%E8%AE%B0/"/>
    <id>http://yoursite.com/2017/03/29/2017-04-02- Pythonç¬”è®°/</id>
    <published>2017-03-29T10:00:00.000Z</published>
    <updated>2017-04-27T14:05:26.533Z</updated>
    
    <content type="html"><![CDATA[<h3 id="è¾“å‡º"><a href="#è¾“å‡º" class="headerlink" title="è¾“å‡º"></a>è¾“å‡º</h3><p>ç”¨<code>r&#39;&#39;</code>è¡¨ç¤º<code>&#39;&#39;</code>å†…éƒ¨çš„å­—ç¬¦ä¸²é»˜è®¤ä¸è½¬ä¹‰</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">print(<span class="string">'\\\t\\'</span>)</div><div class="line"><span class="comment">#\       \</span></div><div class="line">print(<span class="string">r'\\\t\\'</span>)</div><div class="line"><span class="comment">#\\\t\\</span></div></pre></td></tr></table></figure>
<p>ç”¨<code>&#39;&#39;&#39;...&#39;&#39;&#39;</code>çš„æ ¼å¼è¡¨ç¤ºå¤šè¡Œå†…å®¹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">print(<span class="string">'''line1</span></div><div class="line">line2</div><div class="line">line3''')</div></pre></td></tr></table></figure>
<h3 id="ç¼–ç "><a href="#ç¼–ç " class="headerlink" title="ç¼–ç "></a>ç¼–ç </h3><p>å¯¹äºå•ä¸ªå­—ç¬¦çš„ç¼–ç ï¼ŒPythonæä¾›äº†<code>ord()</code>å‡½æ•°è·å–å­—ç¬¦çš„æ•´æ•°è¡¨ç¤ºï¼Œ<code>chr()</code>å‡½æ•°æŠŠç¼–ç è½¬æ¢ä¸ºå¯¹åº”çš„å­—ç¬¦</p>
<p><code>%</code>è¿ç®—ç¬¦ç”¨æ¥æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œè‹¥å­—ç¬¦ä¸²é‡Œé¢çš„<code>%</code>æ˜¯ä¸€ä¸ªæ™®é€šå­—ç¬¦çš„è¯ï¼Œç”¨<code>%%</code>æ¥è¡¨ç¤ºä¸€ä¸ª<code>%</code></p>
<h3 id="listçš„æ–¹æ³•"><a href="#listçš„æ–¹æ³•" class="headerlink" title="listçš„æ–¹æ³•"></a>listçš„æ–¹æ³•</h3><ul>
<li>append()</li>
<li>pop(index) //æ²¡æœ‰å‚æ•°åˆ™åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ </li>
<li>insert(index,element)</li>
</ul>
<h3 id="tuple"><a href="#tuple" class="headerlink" title="tuple"></a>tuple</h3><p>listå’Œtupleæ˜¯Pythonå†…ç½®çš„æœ‰åºé›†åˆï¼Œä¸€ä¸ªå¯å˜ï¼Œä¸€ä¸ªä¸å¯å˜ã€‚æ ¹æ®éœ€è¦æ¥é€‰æ‹©ä½¿ç”¨å®ƒä»¬ã€‚</p>
<h3 id="å¾ªç¯"><a href="#å¾ªç¯" class="headerlink" title="å¾ªç¯"></a>å¾ªç¯</h3><p><code>range()</code>: å¯ä»¥ç”Ÿæˆä¸€ä¸ªæ•´æ•°åºåˆ—ï¼Œå¦‚<code>range(5)</code>ç”Ÿæˆ0,1,2,3,4</p>
<h3 id="dictï¼ˆå­—å…¸ï¼‰"><a href="#dictï¼ˆå­—å…¸ï¼‰" class="headerlink" title="dictï¼ˆå­—å…¸ï¼‰"></a>dictï¼ˆå­—å…¸ï¼‰</h3><p>é¿å…keyä¸å­˜åœ¨çš„é”™è¯¯</p>
<ul>
<li><p>ç”¨inåˆ¤æ–­keyæ˜¯å¦å­˜åœ¨ <code>&#39;Thomas&#39; in d</code></p>
</li>
<li><p>äºŒæ˜¯é€šè¿‡dictæä¾›çš„getæ–¹æ³•ï¼Œå¦‚æœkeyä¸å­˜åœ¨ï¼Œå¯ä»¥è¿”å›Noneï¼Œæˆ–è€…è‡ªå·±æŒ‡å®šçš„valueï¼š</p>
<p>  <code>d.get(&#39;thomas&#39;)æˆ–d.get(&#39;thomas&#39;,-1)</code></p>
</li>
<li><p>è¦åˆ é™¤ä¸€ä¸ªkeyï¼Œç”¨<code>pop(key)</code>æ–¹æ³•ï¼Œå¯¹åº”çš„valueä¹Ÿä¼šä»dictä¸­åˆ é™¤</p>
</li>
</ul>
<h3 id="set"><a href="#set" class="headerlink" title="set"></a>set</h3><p>è¦åˆ›å»ºä¸€ä¸ªsetï¼Œéœ€è¦æä¾›ä¸€ä¸ªlistä½œä¸ºè¾“å…¥é›†åˆ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>s = set([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s</div><div class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</div><div class="line"><span class="comment">#ä¼ å…¥çš„å‚æ•°[1, 2, 3]æ˜¯ä¸€ä¸ªlistï¼Œè€Œæ˜¾ç¤ºçš„&#123;1, 2, 3&#125;åªæ˜¯å‘Šè¯‰ä½ è¿™ä¸ªsetå†…éƒ¨æœ‰1ï¼Œ2ï¼Œ3è¿™3ä¸ªå…ƒç´ ï¼Œæ˜¾ç¤ºçš„é¡ºåºä¹Ÿä¸è¡¨ç¤ºsetæ˜¯æœ‰åºçš„</span></div></pre></td></tr></table></figure>
<p>é‡å¤çš„å…ƒç´ åœ¨setä¸­ä¼šè¢«è‡ªåŠ¨è¿‡æ»¤</p>
<ul>
<li><code>add(key)</code>å¯ä»¥æ·»åŠ å…ƒç´ åˆ°setä¸­</li>
<li><code>remove(key)</code> åˆ é™¤å…ƒç´ </li>
</ul>
<p>ä¸¤ä¸ªsetå¯ä»¥åšæ•°å­¦æ„ä¹‰ä¸Šçš„äº¤é›†ã€å¹¶é›†ç­‰æ“ä½œ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>s1 = set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s2 = set([<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s1 &amp; s2</div><div class="line">&#123;<span class="number">2</span>, <span class="number">3</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>s1 | s2</div><div class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</div></pre></td></tr></table></figure>
<h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><h5 id="å†…ç½®å‡½æ•°"><a href="#å†…ç½®å‡½æ•°" class="headerlink" title="å†…ç½®å‡½æ•°"></a>å†…ç½®å‡½æ•°</h5><p><a href="https://docs.python.org/3/library/functions.html#built-in-functions" target="_blank" rel="external">https://docs.python.org/3/library/functions.html#built-in-functions</a></p>
<h5 id="å®šä¹‰å‡½æ•°"><a href="#å®šä¹‰å‡½æ•°" class="headerlink" title="å®šä¹‰å‡½æ•°"></a>å®šä¹‰å‡½æ•°</h5><p>å®šä¹‰å‡½æ•°æ—¶ï¼Œéœ€è¦ç¡®å®šå‡½æ•°åå’Œå‚æ•°ä¸ªæ•°ï¼›</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_abs</span><span class="params">(x)</span>:</span></div><div class="line">    <span class="keyword">if</span>(x&gt;=<span class="number">0</span>):</div><div class="line">        <span class="keyword">return</span> x</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">    	<span class="keyword">return</span> -x</div></pre></td></tr></table></figure>
<p><code>pass</code>è¯­å¥ä»€ä¹ˆéƒ½ä¸åšï¼Œå¯ä»¥ç”¨æ¥ä½œä¸ºå ä½ç¬¦ï¼Œæ¯”å¦‚ç°åœ¨è¿˜æ²¡æƒ³å¥½æ€ä¹ˆå†™å‡½æ•°çš„ä»£ç ï¼Œå°±å¯ä»¥å…ˆæ”¾ä¸€ä¸ª<code>pass</code></p>
<h5 id="ç±»å‹æ£€æŸ¥"><a href="#ç±»å‹æ£€æŸ¥" class="headerlink" title="ç±»å‹æ£€æŸ¥"></a>ç±»å‹æ£€æŸ¥</h5><p>å¦‚æœæœ‰å¿…è¦ï¼Œå¯ä»¥å…ˆå¯¹å‚æ•°çš„æ•°æ®ç±»å‹åšæ£€æŸ¥ï¼›</p>
<p>æ•°æ®ç±»å‹æ£€æŸ¥å¯ä»¥ç”¨å†…ç½®å‡½æ•°<code>isinstance()</code>å®ç°ï¼š</p>
<p><code>raise</code>è¯­å¥ç”¨æ¥æŠ›å‡ºä¸€ä¸ªé”™è¯¯</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> <span class="keyword">not</span> isinstance(x, (int, float)):</div><div class="line">	<span class="keyword">raise</span> TypeError(<span class="string">'bad operand type'</span>)</div></pre></td></tr></table></figure>
<p>å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼ï¼ŒPythonçš„å‡½æ•°è¿”å›å¤šå€¼å…¶å®å°±æ˜¯è¿”å›ä¸€ä¸ªtuple</p>
<h5 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h5><ul>
<li><p>é»˜è®¤å‚æ•°å¿…é¡»æŒ‡å‘ä¸å˜å¯¹è±¡</p>
</li>
<li><p>å¯å˜å‚æ•°`def calc(*numbers)</p>
<p>å¯å˜å‚æ•°æ—¢å¯ä»¥ç›´æ¥ä¼ å…¥ï¼š<code>func(1, 2, 3)</code>ï¼Œåˆå¯ä»¥å…ˆç»„è£…listæˆ–tupleï¼Œå†é€šè¿‡<code>*args</code>ä¼ å…¥ï¼š<code>func(*(1, 2, 3))</code>ï¼›</p>
</li>
<li><p>å…³é”®å­—å‚æ•°</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">person</span><span class="params">(name, age, **kw)</span>:</span></div><div class="line">    print(<span class="string">'name:'</span>, name, <span class="string">'age:'</span>, age, <span class="string">'other:'</span>, kw)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>person(<span class="string">'Adam'</span>, <span class="number">45</span>, gender=<span class="string">'M'</span>, job=<span class="string">'Engineer'</span>)</div><div class="line">name: Adam age: <span class="number">45</span> other: &#123;<span class="string">'gender'</span>: <span class="string">'M'</span>, <span class="string">'job'</span>: <span class="string">'Engineer'</span>&#125;</div></pre></td></tr></table></figure>
<p>å¯ä»¥å…ˆç»„è£…å‡ºä¸€ä¸ªdictï¼Œç„¶åæŠŠdictå½“åšå…³é”®å­—å‚æ•°ä¼ è¿›å»</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>extra = &#123;<span class="string">'city'</span>: <span class="string">'Beijing'</span>, <span class="string">'job'</span>: <span class="string">'Engineer'</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>person(<span class="string">'Jack'</span>, <span class="number">24</span>, **extra)</div><div class="line">name: Jack age: <span class="number">24</span> other: &#123;<span class="string">'city'</span>: <span class="string">'Beijing'</span>, <span class="string">'job'</span>: <span class="string">'Engineer'</span>&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="é«˜çº§ç‰¹æ€§"><a href="#é«˜çº§ç‰¹æ€§" class="headerlink" title="é«˜çº§ç‰¹æ€§"></a>é«˜çº§ç‰¹æ€§</h3><h5 id="åˆ‡ç‰‡"><a href="#åˆ‡ç‰‡" class="headerlink" title="åˆ‡ç‰‡"></a>åˆ‡ç‰‡</h5><p><code>L[0:3]</code>è¡¨ç¤ºä»ç´¢å¼•<code>0</code>å¼€å§‹å–ï¼Œç›´åˆ°ç´¢å¼•<code>3</code>ä¸ºæ­¢ï¼Œä½†ä¸åŒ…æ‹¬ç´¢å¼•<code>3</code>ã€‚å³ç´¢å¼•0,1,2ï¼Œæ­£å¥½æ˜¯3ä¸ªå…ƒç´ ã€‚</p>
<p>å€’æ•°ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•æ˜¯-1</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#åˆ›å»ºä¸€ä¸ª0-99çš„æ•°åˆ—</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>L = list(range(<span class="number">100</span>))</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>L</div><div class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, ..., <span class="number">99</span>]</div><div class="line"><span class="comment">#å‰10ä¸ªæ•°ï¼Œæ¯ä¸¤ä¸ªå–ä¸€ä¸ªï¼š</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>L[:<span class="number">10</span>:<span class="number">2</span>]</div><div class="line">[<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>]</div></pre></td></tr></table></figure>
<p>tupleä¹Ÿå¯ä»¥ç”¨åˆ‡ç‰‡æ“ä½œï¼Œåªæ˜¯æ“ä½œçš„ç»“æœä»æ˜¯tuple</p>
<p>å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥ç”¨åˆ‡ç‰‡æ“ä½œï¼Œåªæ˜¯æ“ä½œç»“æœä»æ˜¯å­—ç¬¦ä¸²</p>
<h5 id="è¿­ä»£"><a href="#è¿­ä»£" class="headerlink" title="è¿­ä»£"></a>è¿­ä»£</h5><p><code>for ... in</code></p>
<ul>
<li><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œdictè¿­ä»£çš„æ˜¯keyã€‚å¦‚æœè¦è¿­ä»£valueï¼Œå¯ä»¥ç”¨<code>for value in d.values()</code>ï¼Œå¦‚æœè¦åŒæ—¶è¿­ä»£keyå’Œvalueï¼Œå¯ä»¥ç”¨<code>for k, v in d.items()</code></p>
</li>
<li><p>å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¯è¿­ä»£å¯¹è±¡å‘¢ï¼Ÿæ–¹æ³•æ˜¯é€šè¿‡collectionsæ¨¡å—çš„Iterableç±»å‹åˆ¤æ–­</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> collections <span class="keyword">import</span> Iterable</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(<span class="string">'abc'</span>, Iterable) <span class="comment"># stræ˜¯å¦å¯è¿­ä»£</span></div><div class="line"><span class="keyword">True</span></div></pre></td></tr></table></figure>
</li>
<li><p>Pythonå†…ç½®çš„<code>enumerate</code>å‡½æ•°å¯ä»¥æŠŠä¸€ä¸ªlistå˜æˆç´¢å¼•-å…ƒç´ å¯¹ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨<code>for</code>å¾ªç¯ä¸­åŒæ—¶è¿­ä»£ç´¢å¼•å’Œå…ƒç´ æœ¬èº«</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i, value <span class="keyword">in</span> enumerate([<span class="string">'A'</span>, <span class="string">'B'</span>]):</div><div class="line"><span class="meta">... </span>    print(i, value)</div><div class="line">...</div><div class="line"><span class="number">0</span> A</div><div class="line"><span class="number">1</span> B</div></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="åˆ—è¡¨ç”Ÿæˆå¼"><a href="#åˆ—è¡¨ç”Ÿæˆå¼" class="headerlink" title="åˆ—è¡¨ç”Ÿæˆå¼"></a>åˆ—è¡¨ç”Ÿæˆå¼</h5><ul>
<li><p>å†™åˆ—è¡¨ç”Ÿæˆå¼æ—¶ï¼ŒæŠŠè¦ç”Ÿæˆçš„å…ƒç´ <code>x * x</code>æ”¾åˆ°å‰é¢ï¼Œåé¢è·Ÿ<code>for</code>å¾ªç¯ï¼Œå°±å¯ä»¥æŠŠliståˆ›å»ºå‡ºæ¥ï¼Œå³è¦ç”Ÿæˆ<code>[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</code>ï¼Œç”¨ <code>[x * x for x in range(1, 11)]</code></p>
</li>
<li><p>forå¾ªç¯åé¢è¿˜å¯ä»¥åŠ ä¸Šifåˆ¤æ–­ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç­›é€‰å‡ºä»…å¶æ•°çš„å¹³æ–¹ï¼š</p>
<p><code>&gt;&gt;&gt; [x * x for x in range(1, 11) if x % 2 == 0]  å¾—åˆ°ï¼š[4, 16, 36, 64, 100]</code></p>
</li>
<li><p>ä½¿ç”¨ä¸¤å±‚å¾ªç¯ï¼Œå¯ä»¥ç”Ÿæˆå…¨æ’åˆ—ï¼š</p>
<p><code>&gt;&gt;&gt; [m + n for m in &#39;ABC&#39; for n in &#39;XYZ&#39;]  å¾—åˆ° ï¼š[&#39;AX&#39;, &#39;AY&#39;, &#39;AZ&#39;, &#39;BX&#39;, &#39;BY&#39;, &#39;BZ&#39;, &#39;CX&#39;, &#39;CY&#39;, &#39;CZ&#39;]</code></p>
</li>
</ul>
<h5 id="ç”Ÿæˆå™¨"><a href="#ç”Ÿæˆå™¨" class="headerlink" title="ç”Ÿæˆå™¨"></a>ç”Ÿæˆå™¨</h5><p>è¦åˆ›å»ºä¸€ä¸ªgeneratorï¼Œæœ‰å¾ˆå¤šç§æ–¹æ³•ã€‚ç¬¬ä¸€ç§æ–¹æ³•å¾ˆç®€å•ï¼Œåªè¦æŠŠä¸€ä¸ªåˆ—è¡¨ç”Ÿæˆå¼çš„<code>[]</code>æ”¹æˆ<code>()</code>ï¼Œå°±åˆ›å»ºäº†ä¸€ä¸ªgenerator</p>
<p><code>g = (x * x for x in range(10))</code></p>
<ul>
<li>å¯ä»¥é€šè¿‡<code>next()</code>å‡½æ•°è·å¾—generatorçš„ä¸‹ä¸€ä¸ªè¿”å›å€¼<code>next(g)</code></li>
<li>generatorä¿å­˜çš„æ˜¯ç®—æ³•ï¼Œæ¯æ¬¡è°ƒç”¨<code>next(g)</code>ï¼Œå°±è®¡ç®—å‡º<code>g</code>çš„ä¸‹ä¸€ä¸ªå…ƒç´ çš„å€¼ï¼Œç›´åˆ°è®¡ç®—åˆ°æœ€åä¸€ä¸ªå…ƒç´ ï¼Œæ²¡æœ‰æ›´å¤šçš„å…ƒç´ æ—¶ï¼ŒæŠ›å‡º<code>StopIteration</code>çš„é”™è¯¯ã€‚</li>
<li>generatorä¹Ÿæ˜¯å¯è¿­ä»£å¯¹è±¡,æ‰€ä»¥å¯ä»¥ä½¿ç”¨forå¾ªç¯</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#æ¨è¾‰ä¸‰è§’</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">triangles</span><span class="params">(n)</span>:</span></div><div class="line">	L = [<span class="number">1</span>]</div><div class="line">	<span class="keyword">while</span> n&gt;<span class="number">0</span>:</div><div class="line">		<span class="keyword">yield</span> L</div><div class="line">		L.append(<span class="number">0</span>)</div><div class="line">		L = [L[i<span class="number">-1</span>] + L[i] <span class="keyword">for</span> i <span class="keyword">in</span> range(len(L))]</div><div class="line">		n = n<span class="number">-1</span></div><div class="line">f = triangles(<span class="number">6</span>)</div><div class="line"><span class="keyword">for</span> v <span class="keyword">in</span> f:</div><div class="line">	print(v)</div></pre></td></tr></table></figure>
<h5 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h5><p>å¯ç›´æ¥ä½œç”¨äºforå¾ªç¯çš„æ•°æ®ç±»å‹æœ‰ï¼š</p>
<ul>
<li>é›†åˆæ•°æ®ç±»å‹ï¼šå¦‚listã€tupleã€dictã€setã€strç­‰</li>
<li>ä¸€ç±»æ˜¯generatorï¼ŒåŒ…æ‹¬ç”Ÿæˆå™¨å’Œå¸¦yieldçš„generator function</li>
</ul>
<p>å‡¡æ˜¯å¯ä½œç”¨äº<code>for</code>å¾ªç¯çš„å¯¹è±¡éƒ½æ˜¯<code>Iterable</code>ç±»å‹ï¼›</p>
<p>å‡¡æ˜¯å¯ä½œç”¨äº<code>next()</code>å‡½æ•°çš„å¯¹è±¡éƒ½æ˜¯<code>Iterator</code>ç±»å‹ï¼Œå®ƒä»¬è¡¨ç¤ºä¸€ä¸ªæƒ°æ€§è®¡ç®—çš„åºåˆ—ï¼›</p>
<h3 id="map-reduce"><a href="#map-reduce" class="headerlink" title="map/reduce"></a>map/reduce</h3><p><code>map()</code>å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯<code>Iterable</code>ï¼Œ<code>map</code>å°†ä¼ å…¥çš„å‡½æ•°ä¾æ¬¡ä½œç”¨åˆ°åºåˆ—çš„æ¯ä¸ªå…ƒç´ ï¼Œå¹¶æŠŠç»“æœä½œä¸ºæ–°çš„<code>Iterator</code>è¿”å›ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x)</span>:</span></div><div class="line"><span class="meta">... </span>    <span class="keyword">return</span> x * x</div><div class="line">...</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>r = map(f, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>list(r)</div><div class="line">[<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>, <span class="number">36</span>, <span class="number">49</span>, <span class="number">64</span>, <span class="number">81</span>]</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;è¾“å‡º&quot;&gt;&lt;a href=&quot;#è¾“å‡º&quot; class=&quot;headerlink&quot; title=&quot;è¾“å‡º&quot;&gt;&lt;/a&gt;è¾“å‡º&lt;/h3&gt;&lt;p&gt;ç”¨&lt;code&gt;r&amp;#39;&amp;#39;&lt;/code&gt;è¡¨ç¤º&lt;code&gt;&amp;#39;&amp;#39;&lt;/code&gt;å†…éƒ¨çš„å­—ç¬¦ä¸²é»˜è®¤ä¸è½¬ä¹‰&lt;/p&gt;
&lt;fig
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>å‰ç«¯çŠ¶æ€ç®¡ç†ä¹‹Fluxã€Reduxã€Vuex</title>
    <link href="http://yoursite.com/2017/03/23/2017-03-23-%20%E5%89%8D%E7%AB%AF%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E4%B9%8BFlux%E3%80%81Redux%E3%80%81Vuex/"/>
    <id>http://yoursite.com/2017/03/23/2017-03-23- å‰ç«¯çŠ¶æ€ç®¡ç†ä¹‹Fluxã€Reduxã€Vuex/</id>
    <published>2017-03-23T03:00:00.000Z</published>
    <updated>2017-04-08T12:27:53.683Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>Fluxæ˜¯ä¸€ç§å‰ç«¯çŠ¶æ€ç®¡ç†æ¶æ„æ€æƒ³ã€‚åŸºäº Flux çš„è®¾è®¡æ€æƒ³ï¼Œå‡ºç°äº†ä¸€æ‰¹å‰ç«¯çŠ¶æ€ç®¡ç†æ¡†æ¶ã€‚æ¯”è¾ƒä¸»æµçš„å°±æ˜¯ Vuex å’Œ Redux äº†ã€‚</p>
</blockquote>
<p>ä¸¤ç¯‡ç‰¹åˆ«å¥½çš„æ–‡ç« </p>
<p><a href="https://zhuanlan.zhihu.com/p/25800767" target="_blank" rel="external">æµ…è°ˆå‰ç«¯çŠ¶æ€ç®¡ç†ï¼ˆä¸Šï¼‰</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/25908872" target="_blank" rel="external">æµ…è°ˆå‰ç«¯çŠ¶æ€ç®¡ç†ï¼ˆä¸‹ï¼‰</a></p>
<h3 id="Flux"><a href="#Flux" class="headerlink" title="Flux"></a>Flux</h3><p> Flux çš„æ€ç»´æ–¹å¼æ˜¯å•å‘çš„ï¼Œå°†ä¿®æ”¹æ•°æ®å±‚çš„ controller ä»£ç æ”¶å½’ä¸€å¤„ï¼Œç»Ÿä¸€ç®¡ç†ï¼Œç»„ä»¶éœ€è¦ä¿®æ”¹æ•°æ®å±‚çš„è¯éœ€è¦å»è§¦å‘ç‰¹å®šçš„é¢„å…ˆå®šä¹‰å¥½çš„ dispatcherï¼Œç„¶å dispatcher å°† action åº”ç”¨åˆ° model ä¸Šï¼Œå®ç°æ•°æ®å±‚çš„ä¿®æ”¹ã€‚ç„¶åæ•°æ®å±‚çš„ä¿®æ”¹ä¼šåº”ç”¨åˆ°è§†å›¾ä¸Šï¼Œå½¢æˆä¸€ä¸ªå•å‘çš„æ•°æ®æµã€‚</p>
<p><img src="1.jpg" alt=""></p>
<p>Flux çš„æ ¸å¿ƒæ˜¯ <strong>Dispatcher</strong>ï¼Œé€šè¿‡ Dispatcherï¼Œç”¨æˆ·å¯ä»¥æ³¨å†Œéœ€è¦ç›¸åº”çš„ action ç±»å‹ï¼Œå¯¹ä¸åŒçš„ action æ³¨å†Œå¯¹åº”çš„å›è°ƒï¼Œä»¥åŠè§¦å‘ action å¹¶ä¼ é€’ payload dataã€‚</p>
<p>ç®€å•æ¥è¯´ï¼ŒFluxçš„æ•°æ®æµç”Ÿå‘½å‘¨æœŸå°±æ˜¯ï¼š View å‘èµ· Action -&gt; Action ä¼ é€’åˆ° Dispatcher -&gt; Dispatcher å°†é€šçŸ¥ Store -&gt; Store çš„çŠ¶æ€æ”¹å˜é€šçŸ¥ View è¿›è¡Œæ”¹å˜</p>
<h3 id="Redux"><a href="#Redux" class="headerlink" title="Redux"></a>Redux</h3><p>ï¿¼<img src="2.jpg" alt=""></p>
<p>â€‹    Redux å’Œ Flux çš„ç¬¬ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œåœ¨ Redux ä¸­ï¼Œå»æ‰äº† Dispatcherï¼Œè½¬è€Œä½¿ç”¨ä¸€ä¸ªçº¯å‡½æ•°æ¥ä»£æ›¿ï¼Œè¿™ä¸ªçº¯å‡½æ•°æ¥æ”¶åŸ state tree å’Œ action ä½œä¸ºå‚æ•°ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæ–°çš„ state tree ä»£æ›¿åŸæ¥çš„ã€‚è€Œè¿™ä¸ªæ‰€è°“çš„çº¯å‡½æ•°ï¼Œå°±æ˜¯ Redux ä¸­çš„é‡è¦æ¦‚å¿µ â€”â€” <strong>Reducer</strong>ã€‚</p>
<p>â€‹    Redux å’Œ Flux çš„ç¬¬äºŒä¸ªåŒºåˆ«åˆ™æ˜¯ Redux <strong>ä¸ä¼šä¿®æ”¹ä»»ä½•ä¸€ä¸ª state</strong>ï¼Œè€Œæ˜¯ç”¨æ–°ç”Ÿæˆçš„ state å»ä»£æ›¿æ—§çš„ã€‚è¿™å®é™…ä¸Šæ˜¯åº”ç”¨äº†ä¸å¯å˜æ•°æ®ï¼ˆImmutable Dataï¼‰ï¼Œåœ¨ reducer ä¸­ç›´æ¥ä¿®æ”¹åŸ state æ˜¯è¢«ç¦æ­¢çš„</p>
<p>Redux çš„å·¥ä½œæ–¹å¼éµå¾ªäº†ä¸¥æ ¼çš„å•å‘æ•°æ®æµåŸåˆ™ï¼Œæ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸ºï¼š</p>
<ul>
<li>View è°ƒç”¨ store.dispatchï¼Œå¹¶ä¼ å…¥ action å¯¹è±¡ã€‚action å¯¹è±¡æ˜¯ä¸€ä¸ªæè¿°å˜åŒ–çš„æ™®é€šå¯¹è±¡</li>
<li>æ¥ä¸‹æ¥ï¼Œstore ä¼šè°ƒç”¨æ³¨å†Œ store æ—¶ä¼ å…¥çš„ reducer å‡½æ•°ï¼Œå¹¶å°†å½“å‰çš„ state å’Œ action ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œåœ¨ reducer ä¸­ï¼Œé€šè¿‡è®¡ç®—å¾—åˆ°æ–°çš„ state å¹¶è¿”å›ã€‚</li>
<li>store å°† reducer ç”Ÿæˆçš„æ–° state æ ‘ä¿å­˜ä¸‹æ¥ï¼Œç„¶åå°±å¯ä»¥ç”¨æ–°çš„ state å»ç”Ÿæˆæ–°çš„è§†å›¾</li>
</ul>
<h3 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h3><p>ï¿¼<img src="3.jpg" alt=""></p>
<p>â€‹     å’Œ Redux ä¸­ä½¿ç”¨ä¸å¯å˜æ•°æ®æ¥è¡¨ç¤º state ä¸åŒï¼ŒVuex ä¸­æ²¡æœ‰ reducer æ¥ç”Ÿæˆå…¨æ–°çš„ state æ¥æ›¿æ¢æ—§çš„ stateï¼ŒVuex ä¸­çš„ state æ˜¯<strong>å¯ä»¥è¢«ä¿®æ”¹çš„</strong>ã€‚å³ï¼Œä»¥ <code>mutations</code> å˜åŒ–å‡½æ•°å–ä»£ <code>Reducer</code>ï¼Œæ— éœ€ switch ï¼Œåªéœ€åœ¨å¯¹åº”çš„ mutation å‡½æ•°é‡Œæ”¹å˜ state å€¼å³å¯ã€‚ä¸€ä¸ª mutation æ˜¯ç”±ä¸€ä¸ª type å’Œä¸å…¶å¯¹åº”çš„ handler æ„æˆçš„ï¼Œtype æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹ç”¨ä»¥ä½œä¸º key å»è¯†åˆ«å…·ä½“çš„æŸä¸ª mutationï¼Œhandler åˆ™æ˜¯å¯¹ state å®é™…è¿›è¡Œå˜æ›´çš„å‡½æ•°ã€‚</p>
<p>â€‹    è¿™ä¹ˆåšçš„åŸå› å’Œ Vue çš„è¿è¡Œæœºåˆ¶æœ‰å…³ç³»ï¼ŒVue åŸºäº ES5 ä¸­çš„ <code>getter/setter</code> æ¥å®ç°è§†å›¾å’Œæ•°æ®çš„åŒå‘ç»‘å®šï¼Œå› æ­¤ Vuex ä¸­ state çš„å˜æ›´å¯ä»¥é€šè¿‡ setter é€šçŸ¥åˆ°è§†å›¾ä¸­å¯¹åº”çš„æŒ‡ä»¤æ¥å®ç°è§†å›¾æ›´æ–°ã€‚</p>
<p>â€‹    åœ¨ Vuex ä¸­å¯ä»¥è®°å½•æ¯æ¬¡ state æ”¹å˜çš„å…·ä½“å†…å®¹ï¼Œstate çš„å˜æ›´å¯è¢«è®°å½•ä¸è¿½è¸ªã€‚Vuex ä¸­çš„ action ä¹Ÿæ˜¯ store çš„ç»„æˆéƒ¨åˆ†ï¼Œå®ƒå¯ä»¥è¢«çœ‹æˆæ˜¯è¿æ¥è§†å›¾ä¸ state çš„æ¡¥æ¢ï¼Œå®ƒä¼šè¢«è§†å›¾è°ƒç”¨ï¼Œå¹¶ç”±å®ƒæ¥è°ƒç”¨ mutation handlerï¼Œå‘ mutation ä¼ å…¥ payloadã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Fluxæ˜¯ä¸€ç§å‰ç«¯çŠ¶æ€ç®¡ç†æ¶æ„æ€æƒ³ã€‚åŸºäº Flux çš„è®¾è®¡æ€æƒ³ï¼Œå‡ºç°äº†ä¸€æ‰¹å‰ç«¯çŠ¶æ€ç®¡ç†æ¡†æ¶ã€‚æ¯”è¾ƒä¸»æµçš„å°±æ˜¯ Vuex å’Œ Redux äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸¤ç¯‡ç‰¹åˆ«å¥½çš„æ–‡ç« &lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>è§£å†³Canvaså›¾ç‰‡è·¨åŸŸé—®é¢˜</title>
    <link href="http://yoursite.com/2017/03/14/2017-03-14-%20%E8%A7%A3%E5%86%B3Canvas%E5%9B%BE%E7%89%87%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98/"/>
    <id>http://yoursite.com/2017/03/14/2017-03-14- è§£å†³Canvaså›¾ç‰‡è·¨åŸŸé—®é¢˜/</id>
    <published>2017-03-14T12:00:00.000Z</published>
    <updated>2017-03-15T13:27:22.062Z</updated>
    
    <content type="html"><![CDATA[<p>Uncaught DOMException: Failed to execute â€˜getImageDataâ€™ on â€˜CanvasRenderingContext2Dâ€™: The canvas has been tainted by cross-origin data.`</p>
<p>åœ¨å†™canvasçš„æ—¶å€™è¦è·å–å›¾åƒæ•°æ®ï¼Œé‡åˆ°äº†ä¸Šé¢è¿™ä¸ªé”™è¯¯ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> img = <span class="keyword">new</span> Image()</div><div class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>)</div><div class="line"><span class="keyword">var</span> ctx = canvas.getContext(<span class="string">'2d'</span>)</div><div class="line">img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  ctx.drawImage(img, <span class="number">0</span>, <span class="number">0</span>)</div><div class="line">  img.style.display = <span class="string">'none'</span></div><div class="line">&#125;;</div><div class="line">img.src = <span class="string">'1.png'</span></div><div class="line"><span class="comment">//....çœç•¥ä¸é‡è¦çš„ä»£ç </span></div><div class="line"><span class="keyword">var</span> pix = ctx.getImageData(x, y, <span class="number">1</span>, <span class="number">1</span>)<span class="comment">//é”™è¯¯çš„åœ°æ–¹</span></div></pre></td></tr></table></figure>
<h3 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h3><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä¸é€šè¿‡CORSå°±åœ¨ç”»å¸ƒä¸­ä½¿ç”¨è·¨åŸŸå›¾ç‰‡ï¼Œç”¨<code>new Image()</code>åŠ è½½ï¼Œç„¶åå°†è¿™ä¸ªå›¾ç‰‡ç”»åœ¨canvasä¸Šã€‚ä½†æ˜¯è¿™ä¹ˆåšä¼šæ±¡æŸ“ç”»å¸ƒï¼Œä¹Ÿå°±æ˜¯è®©canvaså˜æˆäº†è„çŠ¶æ€ï¼Œä¸€æ—¦ç”»å¸ƒè¢«æ±¡æŸ“ï¼Œæˆ‘ä»¬å°±ä¸èƒ½è¯»å–å…¶æ•°æ®ã€‚è­¬å¦‚toDataUrlã€getImageData()ç­‰ã€‚</p>
<p>â€‹    ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œimageæ–°å¢äº†ä¸€ä¸ªå±æ€§crossOriginï¼Œä½¿å¾—imgä¹Ÿèµ°ç±»ä¼¼XHRçš„è·¨åŸŸæƒé™æœºåˆ¶ã€‚è®¾ç½®äº†crossOriginçš„imgï¼Œå³ä¾¿æ˜¯è·¨åŸŸå›¾ç‰‡è¢«ç”»åœ¨canvasä¸Šï¼Œä¹Ÿä¸ä¼šä½¿canvaså˜ä¸ºè„çŠ¶æ€ã€‚</p>
<h3 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h3><ul>
<li><p>ç»™imageè®¾ç½®crossOriginå±æ€§   <code>img.crossOrigin=&quot;anonymous&quot;</code></p>
<p>æä¾›èµ„æºçš„æœåŠ¡å™¨ä¹Ÿå¾—æ”¯æŒè·¨åŸŸè¯·æ±‚  headerè¦è®¾ç½®<code>Access-Control-Allow-Origin:*</code></p>
<p>crossOriginå±æ€§ä¸€å®šè¦åœ¨srcä¹‹å‰è®¾ç½®</p>
</li>
<li><p>å¦‚æœåœ¨æœ¬åœ°è¿è¡ŒæŠ¥é”™ï¼Œå¯èƒ½æ˜¯å› ä¸ºä½¿ç”¨äº†<code>file://</code></p>
<p>ä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªé¡µé¢éœ€è¦è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿è¡Œä¸€ä¸ªlocalhost </p>
<p>Set up localhostçš„å‡ ä¸ªæ–¹æ³•..</p>
<ul>
<li>ä¸¢åœ¨ WampServer é‡Œ</li>
<li><code>python -m http.server 8080</code>  ï¼ˆPython3ï¼‰</li>
</ul>
<p>â€‹</p>
</li>
</ul>
<p>stackoverfow çš„ç›¸å…³æé—® <a href="http://stackoverflow.com/questions/9972049/cross-origin-data-in-html5-canvas" target="_blank" rel="external">canvas CORS</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Uncaught DOMException: Failed to execute â€˜getImageDataâ€™ on â€˜CanvasRenderingContext2Dâ€™: The canvas has been tainted by cross-origin data.`
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Canvas å­¦ä¹ ç¬”è®°</title>
    <link href="http://yoursite.com/2017/03/02/2017-03-02-%20Canvas%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>http://yoursite.com/2017/03/02/2017-03-02- Canvaså­¦ä¹ ç¬”è®°/</id>
    <published>2017-03-02T13:04:13.000Z</published>
    <updated>2017-03-15T13:32:23.197Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è™šçº¿"><a href="#è™šçº¿" class="headerlink" title="è™šçº¿"></a>è™šçº¿</h2><p>ä½¿ç”¨<code>setLineDash</code>å’Œ<code>lineDashOffset</code>å±æ€§æ¥è®¾ç½®è™šçº¿æ ·å¼</p>
<ul>
<li><p>setLineDash : æ¥å—ä¸€ä¸ªæ•°ç»„æ¥åˆ¶å®šè™šçº¿é‡Œçš„çº¿æ®µå’Œé—´éš™çš„é•¿åº¦</p>
<p>å¦‚<code>ctx.serLineDash([4,2])</code></p>
</li>
<li><p>lineDashOffset : è®¾ç½®è™šçº¿èµ·å§‹åç§»é‡</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ä¸€ä¸ªè¡Œå†›èšçš„demo</span></div><div class="line"><span class="keyword">var</span> ctx = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>).getContext(<span class="string">'2d'</span>);</div><div class="line"><span class="keyword">var</span> offset = <span class="number">0</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  ctx.clearRect(<span class="number">0</span>,<span class="number">0</span>, canvas.width, canvas.height);</div><div class="line">  ctx.setLineDash([<span class="number">4</span>, <span class="number">2</span>]);</div><div class="line">  ctx.lineDashOffset = -offset;</div><div class="line">  ctx.strokeRect(<span class="number">10</span>,<span class="number">10</span>, <span class="number">100</span>, <span class="number">100</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">march</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  offset++;</div><div class="line">  <span class="keyword">if</span> (offset &gt; <span class="number">16</span>) &#123;</div><div class="line">    offset = <span class="number">0</span>;</div><div class="line">  &#125;</div><div class="line">  draw();</div><div class="line">  setTimeout(march, <span class="number">20</span>);</div><div class="line">&#125;</div><div class="line">march();</div></pre></td></tr></table></figure>
<p><img src="ants.gif" alt="ants"></p>
<h2 id="æ¸å˜-Gradients"><a href="#æ¸å˜-Gradients" class="headerlink" title="æ¸å˜ Gradients"></a>æ¸å˜ Gradients</h2><ul>
<li><code>createLinearGradient(x1, y1, x2, y2)</code>  æ¥å— 4 ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºæ¸å˜çš„èµ·ç‚¹ (x1,y1) ä¸ç»ˆç‚¹ (x2,y2)ã€‚</li>
<li><code>createRadialGradient(x1, y1, r1, x2, y2, r2)</code>æ¥å— 6 ä¸ªå‚æ•°ï¼Œå‰ä¸‰ä¸ªå®šä¹‰ä¸€ä¸ªä»¥ (x1,y1) ä¸ºåŸç‚¹ï¼ŒåŠå¾„ä¸º r1 çš„åœ†ï¼Œåä¸‰ä¸ªå‚æ•°åˆ™å®šä¹‰å¦ä¸€ä¸ªä»¥ (x2,y2) ä¸ºåŸç‚¹ï¼ŒåŠå¾„ä¸º r2 çš„åœ†ã€‚</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//è®©èµ·ç‚¹ç¨å¾®åç¦»ç»ˆç‚¹ï¼Œè¾¾åˆ°çƒçŠ¶3Dæ¸å˜æ•ˆæœ</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> ctx = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>).getContext(<span class="string">'2d'</span>);</div><div class="line">  <span class="keyword">var</span> radial = ctx.createRadialGradient(<span class="number">45</span>,<span class="number">45</span>,<span class="number">10</span>,<span class="number">52</span>,<span class="number">50</span>,<span class="number">30</span>);</div><div class="line">  radial.addColorStop(<span class="number">0</span>, <span class="string">'#A7D30C'</span>);</div><div class="line">  radial.addColorStop(<span class="number">0.9</span>, <span class="string">'#019F62'</span>);</div><div class="line">  radial.addColorStop(<span class="number">1</span>, <span class="string">'rgba(1,159,98,0)'</span>);</div><div class="line">  <span class="comment">//#019F62å’Œrgba(1,159,98,1)çš„è‰²å€¼æ˜¯ç›¸ç­‰çš„ï¼Œæœ€åä¸€ä¸ªè‰²æ˜¯é€æ˜çš„ã€‚ä¸¤ä¸ªå€¼ç›¸ç­‰å¯ä»¥ä½¿è¿‡æ¸¡æŸ”å’Œã€‚</span></div><div class="line">  ctx.fillStyle = radial;</div><div class="line">  ctx.fillRect(<span class="number">0</span>,<span class="number">0</span>,<span class="number">150</span>,<span class="number">150</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="radialGradient.png" alt="createRadialGradient"></p>
<h2 id="ç®€å•åŠ¨ç”»"><a href="#ç®€å•åŠ¨ç”»" class="headerlink" title="ç®€å•åŠ¨ç”»"></a>ç®€å•åŠ¨ç”»</h2><h3 id="window-requestAnimationFrame"><a href="#window-requestAnimationFrame" class="headerlink" title="window.requestAnimationFrame()"></a>window.requestAnimationFrame()</h3><p><code>window.requestAnimationFrame()</code> æ–¹æ³•å‘Šè¯‰æµè§ˆå™¨æ‚¨å¸Œæœ›æ‰§è¡ŒåŠ¨ç”»ï¼Œå¹¶è¯·æ±‚æµè§ˆå™¨è°ƒç”¨æŒ‡å®šçš„å‡½æ•°åœ¨ä¸‹ä¸€æ¬¡é‡ç»˜ä¹‹å‰æ›´æ–°åŠ¨ç”»ã€‚è¯¥æ–¹æ³•å°†åœ¨é‡ç»˜ä¹‹å‰è°ƒç”¨çš„å›è°ƒä½œä¸ºå‚æ•°ã€‚</p>
<p>å¦‚æœæƒ³åšé€å¸§åŠ¨ç”»çš„æ—¶å€™åº”è¯¥ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä½ çš„åŠ¨ç”»å‡½æ•°æ‰§è¡Œä¼šå…ˆäºæµè§ˆå™¨é‡ç»˜åŠ¨ä½œã€‚</p>
<p>ä¸‹é¢ä¸¾ä¸€ä¸ªå°çƒçš„ä¾‹å­</p>
<p><a href="http://codepen.io/lizimeow/pen/GWRaOx" target="_blank" rel="external">codepenåœ°å€</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//è¿åŠ¨çš„å°çƒ</span></div><div class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>)</div><div class="line"><span class="keyword">var</span> ctx = canvas.getContext(<span class="string">'2d'</span>)</div><div class="line"><span class="keyword">var</span> raf</div><div class="line"><span class="keyword">var</span> ball = &#123;</div><div class="line">  <span class="attr">x</span>: <span class="number">100</span>,</div><div class="line">  <span class="attr">y</span>: <span class="number">100</span>,</div><div class="line">  <span class="attr">vx</span>: <span class="number">5</span>,<span class="comment">//é€Ÿåº¦çŸ¢é‡</span></div><div class="line">  vy: <span class="number">2</span>,</div><div class="line">  <span class="attr">radius</span>: <span class="number">25</span>,</div><div class="line">  <span class="attr">color</span>: <span class="string">'blue'</span>,</div><div class="line">  <span class="attr">draw</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    ctx.beginPath()</div><div class="line">    ctx.arc(<span class="keyword">this</span>.x,<span class="keyword">this</span>.y,<span class="keyword">this</span>.radius,<span class="number">0</span>,<span class="built_in">Math</span>.PI*<span class="number">2</span>,<span class="literal">true</span>)</div><div class="line">    ctx.closePath()</div><div class="line">    ctx.fillStyle = <span class="keyword">this</span>.color</div><div class="line">    ctx.fill()</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">clear</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="comment">//ç”¨clear æ¸…ç†æ‰ä¹‹å‰å¸§é‡Œæ—§çš„åœ†å½¢ã€‚</span></div><div class="line">  <span class="comment">//ctx.clearRect(0,0,canvas.width,canvas.height) </span></div><div class="line">  </div><div class="line">  <span class="comment">//ç”¨ä¸€ä¸ªåŠé€æ˜çš„fillRectå‡½æ•°å–ä»£clearRectå‡½æ•°ï¼Œäº§ç”Ÿé•¿å°¾æ•ˆæœ</span></div><div class="line">  ctx.fillStyle = <span class="string">'rgba(255,255,255,0.3)'</span>;</div><div class="line">  ctx.fillRect(<span class="number">0</span>,<span class="number">0</span>,canvas.width,canvas.height);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  clear()</div><div class="line">  ball.draw()</div><div class="line">  ball.x+=ball.vx <span class="comment">//çƒä¾é æ·»åŠ é€Ÿç‡çŸ¢é‡è¿›è¡Œç§»åŠ¨</span></div><div class="line">  ball.y+=ball.vy</div><div class="line">  raf = <span class="built_in">window</span>.requestAnimationFrame(draw)</div><div class="line">&#125;</div><div class="line">canvas.addEventListener(<span class="string">"mouseover"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">  raf = <span class="built_in">window</span>.requestAnimationFrame(draw)</div><div class="line">&#125;)</div><div class="line">canvas.addEventListener(<span class="string">"mouseout"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">  <span class="built_in">window</span>.cancelAnimationFrame(raf)</div><div class="line">&#125;)</div><div class="line">ball.draw()</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//åœ¨draw()å‡½æ•°é‡ŒåŠ ä¸Šè¾¹ç•Œæ£€æµ‹</span></div><div class="line"><span class="keyword">if</span> (ball.y + ball.vy &gt; canvas.height || ball.y + ball.vy &lt; <span class="number">0</span>) &#123;</div><div class="line">  ball.vy = -ball.vy;</div><div class="line">&#125;</div><div class="line"><span class="keyword">if</span> (ball.x + ball.vx &gt; canvas.width || ball.x + ball.vx &lt; <span class="number">0</span>) &#123;</div><div class="line">  ball.vx = -ball.vx;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="ImageData"><a href="#ImageData" class="headerlink" title="ImageData"></a>ImageData</h2><h3 id="ctx-createImageData-width-height"><a href="#ctx-createImageData-width-height" class="headerlink" title="ctx.createImageData(width,height)"></a>ctx.createImageData(width,height)</h3><p>åˆ›å»ºä¸€ä¸ª æ–°çš„ã€ç©ºç™½çš„ã€æŒ‡å®šå¤§å°çš„ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/ImageData" target="_blank" rel="external"><code>ImageData</code></a> å¯¹è±¡</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">"canvas"</span>);</div><div class="line"><span class="keyword">var</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</div><div class="line">ctx.rect(<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">100</span>);</div><div class="line">ctx.fill();</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(ctx.createImageData(<span class="number">100</span>, <span class="number">100</span>)); </div><div class="line"><span class="comment">// ImageData &#123; width: 100, height: 100, data: Uint8ClampedArray[40000] &#125;</span></div></pre></td></tr></table></figure>
<h3 id="ctx-getImageData-left-top-width-height"><a href="#ctx-getImageData-left-top-width-height" class="headerlink" title="ctx.getImageData(left, top, width, height)"></a>ctx.getImageData(left, top, width, height)</h3><p>å¾—åˆ°ä¸Šä¸‹æ–‡çš„åƒç´ æ•°æ®</p>
<p>è¿™ä¸ªæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªImageDataå¯¹åƒï¼Œå®ƒä»£è¡¨äº†ç”»å¸ƒåŒºåŸŸçš„åƒç´ æ•°æ®ï¼Œæ­¤ç”»å¸ƒçš„å››ä¸ªè§’è½åˆ†åˆ«è¡¨ç¤ºä¸º(left, top), (left + width, top), (left, top + height), ä»¥åŠ(left + width, top + height)å››ä¸ªç‚¹ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> imgData = ctx.getImageData(x, y, <span class="number">1</span>, <span class="number">1</span>);</div><div class="line"><span class="keyword">var</span> data = imgData.data;<span class="comment">//å¯ä»¥é€šè¿‡imgData.data æ•°ç»„æ•°æ®å»è·å–æ¯ä¸ªåƒç´ ç‚¹èƒŒæ™¯é¢œè‰² </span></div><div class="line"><span class="keyword">var</span> rgba = <span class="string">'rgba('</span> + data[<span class="number">0</span>] + <span class="string">','</span> + data[<span class="number">1</span>] + <span class="string">','</span> + data[<span class="number">2</span>] + <span class="string">','</span> + data[<span class="number">3</span>] + <span class="string">')'</span></div></pre></td></tr></table></figure>
<h3 id="ctx-putImageData-myImageData-dx-dy"><a href="#ctx-putImageData-myImageData-dx-dy" class="headerlink" title="ctx.putImageData(myImageData, dx, dy)"></a>ctx.putImageData(myImageData, dx, dy)</h3><p>å¯¹åœºæ™¯è¿›è¡Œåƒç´ æ•°æ®çš„å†™å…¥</p>
<p>dxå’Œdyå‚æ•°è¡¨ç¤ºä½ å¸Œæœ›åœ¨åœºæ™¯å†…å·¦ä¸Šè§’ç»˜åˆ¶çš„åƒç´ æ•°æ®æ‰€å¾—åˆ°çš„è®¾å¤‡åæ ‡ã€‚</p>
<h3 id="ç¼©æ”¾"><a href="#ç¼©æ”¾" class="headerlink" title="ç¼©æ”¾"></a>ç¼©æ”¾</h3><p>drawImage</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">void</span> ctx.drawImage(image, dx, dy);</div><div class="line"><span class="keyword">void</span> ctx.drawImage(image, dx, dy, dWidth, dHeight);</div><div class="line"><span class="keyword">void</span> ctx.drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);</div><div class="line"><span class="comment">//iamge:ç»˜åˆ¶åˆ°ä¸Šä¸‹æ–‡çš„å…ƒç´ ã€‚å…è®¸ä»»ä½•çš„ canvas å›¾åƒæº</span></div><div class="line"><span class="comment">//dx,dy:ç›®æ ‡ç”»å¸ƒçš„å·¦ä¸Šè§’åœ¨ç›®æ ‡ canvas ä¸Š X è½´å’Œ Y è½´çš„ä½ç½®</span></div><div class="line"><span class="comment">//dWidth,dHeight:åœ¨ç›®æ ‡ç”»å¸ƒä¸Šç»˜åˆ¶å›¾åƒçš„å®½åº¦æˆ–é«˜åº¦ã€‚å…è®¸å¯¹ç»˜åˆ¶çš„å›¾åƒè¿›è¡Œç¼©æ”¾ã€‚ å¦‚ä¸è¯´æ˜ï¼Œ åœ¨ç»˜åˆ¶æ—¶å›¾ç‰‡å®½åº¦ä¸ä¼šç¼©æ”¾ã€‚</span></div><div class="line"><span class="comment">//sx,sy:éœ€è¦ç»˜åˆ¶åˆ°ç›®æ ‡ä¸Šä¸‹æ–‡ä¸­çš„ï¼Œæºå›¾åƒçš„çŸ©å½¢é€‰æ‹©æ¡†çš„å·¦ä¸Šè§’ X , Y åæ ‡</span></div><div class="line"><span class="comment">//sWidth,sHeight:éœ€è¦ç»˜åˆ¶åˆ°ç›®æ ‡ä¸Šä¸‹æ–‡ä¸­çš„ï¼Œæºå›¾åƒçš„çŸ©å½¢é€‰æ‹©æ¡†çš„å®½åº¦ã€‚å¦‚ä¸è¯´æ˜ï¼Œæ•´ä¸ªçŸ©å½¢ä»åæ ‡çš„sxå’Œsyå¼€å§‹ï¼Œåˆ°å›¾åƒçš„å³ä¸‹è§’ç»“æŸã€‚</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//ç¼©æ”¾</span></div><div class="line"><span class="keyword">var</span> img = <span class="keyword">new</span> Image();</div><div class="line">img.src = <span class="string">'https://mdn.mozillademos.org/files/5397/rhino.jpg'</span>;</div><div class="line">img.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  draw(<span class="keyword">this</span>);</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params">img</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>);</div><div class="line">  <span class="keyword">var</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</div><div class="line">  ctx.drawImage(img, <span class="number">0</span>, <span class="number">0</span>);</div><div class="line">  img.style.display = <span class="string">'none'</span>;</div><div class="line">  <span class="keyword">var</span> zoom = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> x = event.layerX;</div><div class="line">    <span class="keyword">var</span> y = event.layerY;</div><div class="line">    zoomctx.drawImage(canvas,</div><div class="line">                      <span class="built_in">Math</span>.abs(x - <span class="number">5</span>),<span class="built_in">Math</span>.abs(y - <span class="number">5</span>),</div><div class="line">                      <span class="number">10</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">0</span>,</div><div class="line">                      <span class="number">200</span>, <span class="number">200</span>);</div><div class="line">    <span class="comment">//å¾—åˆ°é¼ æ ‡çš„ä½ç½®å¹¶è£å‰ªå‡ºè·å„è¾¹5åƒç´ çš„å›¾ç‰‡ã€‚å°†è£å‡ºçš„å›¾å¤åˆ¶åˆ°å¦ä¸€ä¸ªç”»å¸ƒå†æŠŠå›¾ç‰‡è°ƒæ•´åˆ°æˆ‘ä»¬æƒ³è¦çš„å¤§å°ã€‚åœ¨ç¼©æ”¾ç”»å¸ƒé‡Œï¼Œæˆ‘ä»¬å°†10Ã—10åƒç´ çš„å¯¹åŸç”»å¸ƒçš„è£å‰ªè°ƒæ•´ä¸º 200Ã—200 ã€‚</span></div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  canvas.addEventListener(<span class="string">'mousemove'</span>, zoom);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><a href="https://codepen.io/lizimeow/pen/evGNeK" target="_blank" rel="external">åœ¨codepenæŸ¥çœ‹ç¼©æ”¾æ•ˆæœ</a></p>
<h3 id="åé”¯é½¿"><a href="#åé”¯é½¿" class="headerlink" title="åé”¯é½¿"></a>åé”¯é½¿</h3><p>å› ä¸ºåé”¯é½¿é»˜è®¤æ˜¯å¯ç”¨çš„ï¼Œæˆ‘ä»¬å¯èƒ½æƒ³è¦å…³é—­å®ƒä»¥çœ‹åˆ°æ¸…æ¥šçš„åƒç´ </p>
<p>(ä¸åŒæµè§ˆå™¨éœ€è¦ä¸åŒå‰ç¼€)</p>
<p>ctx.imageSmoothingEnabled \ mozImageSmoothingEnabled \ webkitImageSmoothingEnabled \ msImageSmoothingEnabled </p>
<h2 id="canvasçš„ä¼˜åŒ–"><a href="#canvasçš„ä¼˜åŒ–" class="headerlink" title="canvasçš„ä¼˜åŒ–"></a>canvasçš„ä¼˜åŒ–</h2><ul>
<li>åœ¨ç¦»å±canvasä¸Šé¢„æ¸²æŸ“ç›¸ä¼¼çš„å›¾å½¢æˆ–é‡å¤çš„å¯¹è±¡</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">myEntity.offscreenCanvas = <span class="built_in">document</span>.createElement(<span class="string">"canvas"</span>);</div><div class="line">myEntity.offscreenCanvas.width = myEntity.width;</div><div class="line">myEntity.offscreenCanvas.height = myEntity.height;</div><div class="line">myEntity.offscreenContext = myEntity.offscreenCanvas.getContext(<span class="string">"2d"</span>);</div><div class="line"></div><div class="line">myEntity.render(myEntity.offscreenContext);</div></pre></td></tr></table></figure>
<ul>
<li><p>é¿å…æµ®ç‚¹æ•°çš„åæ ‡ç‚¹ï¼Œç”¨æ•´æ•°å–è€Œä»£ä¹‹</p>
<p>æµè§ˆå™¨ä¸ºäº†è¾¾åˆ°æŠ—é”¯é½¿çš„æ•ˆæœä¼šåšé¢å¤–çš„è¿ç®—ï¼Œæ‰€ä»¥åœ¨è°ƒç”¨<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/drawImage" target="_blank" rel="external"><code>drawImage()</code></a>å‡½æ•°æ—¶ï¼Œåº”è¯¥ç”¨<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math/floor" target="_blank" rel="external"><code>Math.floor()</code></a>å‡½æ•°å¯¹æ‰€æœ‰çš„åæ ‡ç‚¹å–æ•´ã€‚</p>
</li>
<li><p>åœ¨ç¦»å±canvasä¸­ç¼“å­˜å›¾ç‰‡çš„ä¸åŒå°ºå¯¸ï¼Œè€Œä¸è¦ç”¨<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/drawImage" target="_blank" rel="external"><code>drawImage()</code></a>å»ç¼©æ”¾å®ƒä»¬</p>
</li>
<li><p>ä½¿ç”¨å¤šå±‚ç”»å¸ƒå»ç”»ä¸€ä¸ªå¤æ‚çš„åœºæ™¯</p>
</li>
<li><p>ç”¨CSSè®¾ç½®å¤§çš„èƒŒæ™¯å›¾</p>
<p>å¦‚æœä½ æœ‰ä¸€å¼ é™æ€çš„èƒŒæ™¯å›¾ï¼Œé‚£å°±ç”¨ä¸€ä¸ªé™æ€çš„divå…ƒç´ ï¼Œç»“åˆbackgroundï¼Œå†å°†å®ƒç½®äºç”»å¸ƒå…ƒç´ ä¹‹åã€‚è¿™ä¹ˆåšå¯ä»¥é¿å…åœ¨æ¯ä¸€å¸§åœ¨ç”»å¸ƒä¸Šç»˜åˆ¶å¤§å›¾ã€‚</p>
</li>
<li><p>ç”¨CSS transformsç‰¹æ€§ç¼©æ”¾ç”»å¸ƒã€‚</p>
<p>CSSçš„transformsç‰¹æ€§ç”±äºè°ƒç”¨GPUï¼Œå› æ­¤æ›´å¿«æ·ã€‚æœ€å¥½çš„æƒ…å†µæ˜¯ï¼Œä¸è¦å°†å°ç”»å¸ƒæ”¾å¤§ï¼Œè€Œæ˜¯å»å°†å¤§ç”»å¸ƒç¼©å°</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> scaleX = canvas.width / <span class="built_in">window</span>.innerWidth;</div><div class="line"><span class="keyword">var</span> scaleY = canvas.height / <span class="built_in">window</span>.innerHeight;</div><div class="line"></div><div class="line"><span class="keyword">var</span> scaleToFit = <span class="built_in">Math</span>.min(scaleX, scaleY);</div><div class="line"><span class="keyword">var</span> scaleToCover = <span class="built_in">Math</span>.max(scaleX, scaleY);</div><div class="line"></div><div class="line">stage.style.transformOrigin = <span class="string">"0 0"</span>; <span class="comment">//scale from top left</span></div><div class="line">stage.style.transform = <span class="string">"scale("</span> + scaleToFit + <span class="string">")"</span>;</div></pre></td></tr></table></figure>
<p>æ›´å¤šå…³äºCanvasæ€§èƒ½ä¼˜åŒ–çš„æ–‡ç« </p>
<ul>
<li><a href="http://www.html5rocks.com/en/tutorials/canvas/performance/#toc-ref" target="_blank" rel="external">Improving HTML5 Canvas Performance â€“ HTML5 Rocks</a></li>
<li><a href="https://hacks.mozilla.org/2013/05/optimizing-your-javascript-game-for-firefox-os/" target="_blank" rel="external">Optimizing your JavaScript game for Firefox OS â€“ Mozilla Hacks</a></li>
</ul>
<p>æœ¬æ–‡æ˜¯å­¦ä¹  <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API" target="_blank" rel="external">MDN_Canvas_API</a> çš„ç¬”è®°</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;è™šçº¿&quot;&gt;&lt;a href=&quot;#è™šçº¿&quot; class=&quot;headerlink&quot; title=&quot;è™šçº¿&quot;&gt;&lt;/a&gt;è™šçº¿&lt;/h2&gt;&lt;p&gt;ä½¿ç”¨&lt;code&gt;setLineDash&lt;/code&gt;å’Œ&lt;code&gt;lineDashOffset&lt;/code&gt;å±æ€§æ¥è®¾ç½®è™šçº¿æ ·å¼&lt;/p&gt;
&lt;u
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ã€ç¿»è¯‘ã€‘ä¼˜åŒ–Webä¸­çš„GIFs</title>
    <link href="http://yoursite.com/2017/02/20/2017-02-20-%E3%80%90%E7%BF%BB%E8%AF%91%E3%80%91%E4%BC%98%E5%8C%96Web%E9%87%8C%E7%9A%84GIF/"/>
    <id>http://yoursite.com/2017/02/20/2017-02-20-ã€ç¿»è¯‘ã€‘ä¼˜åŒ–Webé‡Œçš„GIF/</id>
    <published>2017-02-20T06:00:00.000Z</published>
    <updated>2017-02-23T07:12:34.546Z</updated>
    
    <content type="html"><![CDATA[<p>åŸæ–‡åœ°å€ï¼š<a href="https://bitsofco.de/optimising-gifs/" target="_blank" rel="external">https://bitsofco.de/optimising-gifs/</a></p>
<p>è·Ÿå¾ˆå¤šäººä¸€æ ·ï¼Œæˆ‘ä¹Ÿå¾ˆå–œæ¬¢GIFã€‚æˆ‘å–œæ¬¢åœ¨æˆ‘çš„æ–‡ç« é‡Œä½¿ç”¨å®ƒä»¬æ¥è¯´æ˜åŠŸèƒ½ã€‚å°±åƒåœ¨æˆ‘ <a href="https://bitsofco.de/challenge-itunes-library/" target="_blank" rel="external">â€œRecreating the iTunes Libraryâ€</a> è¿™ç¯‡æ–‡ç« é‡Œçš„è¿™ä¸ªGIFä¸€æ ·ã€‚</p>
<p><img src="https://bitsofco.de/content/images/2017/01/lossy-compressed.gif" alt="Example GIF Original File"></p>
<p>ç„¶è€Œï¼Œåœ¨æ–‡ç« é‡Œä½¿ç”¨GIFå®åœ¨å¤ª<em>é‡</em>äº†ï¼Œä¸Šé¢çš„è¿™ä¸ªGIFå°±å äº†11.4MBï¼ˆæ³¨ï¼šä¸Šé¢è¿™å¼ å›¾ä¸æ˜¯åŸå›¾ï¼Œæˆ‘æ— æ³•å°†åŸå›¾åŠ è½½åˆ°é¡µé¢ä¸Šã€‚ï¼‰æœ€è¿‘ï¼Œæˆ‘å‘ç°æˆ‘çš„ä¸€äº›ä½¿ç”¨äº†å¾ˆå¤§çš„GIFçš„æ–‡ç« åŠ è½½é€Ÿåº¦å¾€å¾€å¾ˆæ…¢ã€‚åŸå› æ˜¯ä½¿ç”¨äº†æ— æŸå‹ç¼©ç®—æ³•ï¼Œè®©ä¸€ä¸ªGIFçš„æ¯å¸§éƒ½ä½œä¸ºä¸€å¼ GIFå›¾ç‰‡å­˜å‚¨ã€‚è¿™æ„å‘³ç€ï¼Œé€šè¿‡æ— æŸå‹ç¼©ï¼Œï¼Œå›¾ç‰‡çš„è´¨é‡æ²¡æœ‰ä»»ä½•æŸè€—ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆGIFè¿™ä¹ˆå¤§çš„åŸå› äº†ã€‚</p>
<p>ä¸ºäº†è§£å†³GIFåœ¨ç½‘é¡µä¸Šçš„æ€§èƒ½é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡å–ä¸‹åˆ—çš„ä¸€äº›æªæ–½ã€‚</p>
<h3 id="ä½¿ç”¨-HTML5-Video"><a href="#ä½¿ç”¨-HTML5-Video" class="headerlink" title="ä½¿ç”¨ HTML5  Video"></a>ä½¿ç”¨ HTML5  Video</h3><p>ä»¤äººæƒŠè®¶çš„æ˜¯ï¼Œä½¿ç”¨äº†æ— æŸå‹ç¼©ç®—æ³•çš„GIFç›¸å½“äºæœªç»ä¼˜åŒ–å¤„ç†ï¼Œä»¥è‡³äºä¾‹å¦‚MP4æˆ–è€…WebMçš„è§†é¢‘æ ¼å¼æä¾›äº†æ¯”GIFæ›´å°çš„æ–‡ä»¶å°ºå¯¸ã€‚å› æ­¤ï¼Œä¸€ä¸ªè§£å†³GIFæ€§èƒ½é—®é¢˜çš„æ–¹æ¡ˆå°±æ˜¯ä¸å»ä½¿ç”¨GIFï¼Œå¹¶ä¸”ç”¨è‡ªåŠ¨å¾ªç¯æ’­æ”¾çš„HTML5 Videoæ¥ä»£æ›¿å®ƒã€‚</p>
<p>é€šè¿‡ä½¿ç”¨<code>&lt;video&gt;</code>å…ƒç´ ä¸­çš„ç¡®å®šçš„å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æ¨¡ä»¿GIFçš„è¡Œä¸ºï¼Œè€Œä¸”æ–‡ä»¶å ç”¨çš„å­˜å‚¨ç©ºé—´æ›´å°ã€‚æˆ‘ä»¬éœ€è¦è¿™äº›å±æ€§ï¼š</p>
<ul>
<li><code>autoplay</code> ï¼šè§†é¢‘åœ¨å°±ç»ªåé©¬ä¸Šæ’­æ”¾ã€‚</li>
<li><code>loop</code>ï¼šæ— é™å¾ªç¯æ’­æ”¾è¯¥è§†é¢‘</li>
<li><code>muted</code>ï¼šå½“è®¾ç½®è¯¥å±æ€§åï¼Œå®ƒè§„å®šè§†é¢‘çš„éŸ³é¢‘è¾“å‡ºåº”è¯¥è¢«é™éŸ³</li>
<li><code>playsinline</code>ï¼šåœ¨iOS Safariæµè§ˆå™¨ä¸­ç¡®ä¿è§†é¢‘ä¸ä¼šè¢«è°ƒåˆ°å…¨å±æ¨¡å¼ã€‚</li>
<li><code>poster</code>ï¼šè§„å®šè§†é¢‘ä¸‹è½½æ—¶æ˜¾ç¤ºçš„å›¾åƒï¼Œæˆ–è€…åœ¨ç”¨æˆ·ç‚¹å‡»æ’­æ”¾æŒ‰é’®å‰æ˜¾ç¤ºçš„å›¾åƒã€‚</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è¿™ä¸ªvideoå…ƒç´ æ¥ä»£æ›¿ä¸Šæ–‡ä»‹ç»ä¸­çš„GIFï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">autoplay</span> <span class="attr">loop</span> <span class="attr">muted</span> <span class="attr">playsinline</span> <span class="attr">poster</span>=<span class="string">"original.jpg"</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">type</span>=<span class="string">"video/webm"</span> <span class="attr">src</span>=<span class="string">"original.webm"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"original.gif"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></div></pre></td></tr></table></figure>
<p>å®ƒç»™äº†æˆ‘ä»¬ä¸€ä¸ªéå¸¸å°çš„è§†é¢‘ï¼Œåªæœ‰1MBï¼</p>
<video autoplay loop muted playsinline="" poster="http://res.cloudinary.com/ireaderinokun/image/upload/v1485711823/lossy-compressed_s9cypz.jpg"><br><br><source type="video/webm" src="http://res.cloudinary.com/ireaderinokun/image/upload/v1485711823/lossy-compressed_s9cypz.webm"><br><img src="https://bitsofco.de/content/images/2017/01/lossy-compressed.gif"><br><br></video>

<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<a href="https://cloudconvert.com/gif-to-webm" target="_blank" rel="external">CloudConvert</a>æ¥å°†GIFè½¬æ¢æˆ WebM ã€‚æˆ–è€…ï¼Œå¦‚æœä½ ä½¿ç”¨<a href="https://cloudinary.com/" target="_blank" rel="external">Cloudinary</a>ï¼Œä½ åªéœ€è¦å°†<code>.gif</code>çš„æ–‡ä»¶åç¼€æ”¹æˆ<code>.webm</code>å°±å¯ä»¥å¾—åˆ°è¿™ä¸ªè§†é¢‘æ ¼å¼äº†ã€‚</p>
<h3 id="æœ‰æŸä¼˜åŒ–"><a href="#æœ‰æŸä¼˜åŒ–" class="headerlink" title="æœ‰æŸä¼˜åŒ–"></a>æœ‰æŸä¼˜åŒ–</h3><p>åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œå› ä¸º HTML5 Video ä¸èƒ½ä½œç”¨äºä»»ä½•åœ°æ–¹ï¼Œæˆ‘ä»¬ä¸å¾—ä¸åœ¨é‚£å„¿ä½¿ç”¨çœŸæ­£çš„GIFã€‚ä¾‹å¦‚ï¼Œå½“ä¸€ä¸ªåšå®¢ä½œä¸ºHTML é‚®ä»¶ä¼ é€’æ—¶ï¼Œå°±å¿…é¡»ä½¿ç”¨çœŸæ­£çš„GIFäº†ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸å¾—ä¸å¯¹GIFè‡ªèº«åšä¸€äº›ä¼˜åŒ–æ¥æé«˜æ€§èƒ½ã€‚</p>
<p>æ­£å¦‚æˆ‘æåˆ°çš„é‚£æ ·ï¼ŒGIFå‹ç¼©ç®—æ³•æ˜¯æ— æŸçš„ã€‚ç„¶è€Œï¼Œä¹Ÿæœ‰æœ‰æŸå‹ç¼©çš„é€‰é¡¹ã€‚è™½ç„¶å¬èµ·æ¥æˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ªä½è´¨é‡çš„GIFï¼Œä½†æ˜¯æœ‰æŸå‹ç¼©åšå¾—å¥½çš„è¯ä¹Ÿä¸ä¼šæ˜æ˜¾çš„é™ä½å›¾åƒçš„è´¨é‡ã€‚</p>
<p>æœ‰è®¸å¤šæˆ‘ä»¬å¯ä»¥ä½¿ç”¨çš„æœ‰æŸå‹ç¼©GIFçš„å·¥å…·ï¼Œè­¬å¦‚ <a href="https://github.com/kohler/gifsicle" target="_blank" rel="external">gifsicle</a> å’Œ <a href="https://github.com/pornel/giflossy" target="_blank" rel="external">giflossy</a> å°±æ˜¯å¾ˆæµè¡Œçš„ç”¨æ¥ä¼˜åŒ– GIF çš„å·¥å…· . Gifsicle æ˜¯ä¸€ä¸ªç”¨å‘½ä»¤è¡Œç•Œé¢æ¥æ“çºµGIFæ–‡ä»¶çš„å·¥å…·ï¼Œ giflossy æ˜¯ gifsicle çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œæä¾›æœ‰æŸå‹ç¼©çš„é€‰é¡¹ï¼ˆ<code>--lossy</code>ï¼‰</p>
<p><code>gifsicle -O3 --lossy=80 -o compressed.gif original.gif</code></p>
<p><code>-03</code>é€‰é¡¹çš„ä½œç”¨æ˜¯å‘Šè¯‰ gifsicle å°è¯•å»æ‰¾åˆ°æœ€åˆé€‚çš„ä¼˜åŒ–æ–¹æ³•ã€‚<code>--lossy=80</code>é€‰é¡¹æŒ‡å®šæ–‡ä»¶è¦æœ‰æŸå‹ç¼©å¤šå°‘ã€‚ä½ å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´è¿™ä¸ªæ•°å­—ã€‚<code>-o compressed.gif</code>é€‰é¡¹æŒ‡å®šå‹ç¼©åè¾“å‡ºçš„ GIF çš„å‘½åã€‚æœ€åï¼Œæˆ‘ä»¬è¦å†™ä¸Šæº GIF çš„åœ°å€ã€‚</p>
<p>ä½¿ç”¨ä¸Šé¢çš„è¿™ä¸ªå‘½ä»¤å‹ç¼©ä¸Šæ–‡æåˆ°çš„ GIF çš„ä¾‹å­ï¼Œæˆ‘ä»¬å°†11.4MB çš„GIF å‹ç¼©åˆ° 6MB ï¼Œå‡å°‘äº†47%çš„æ–‡ä»¶å¤§å°ï¼</p>
<p> <img src="https://bitsofco.de/content/images/2017/01/lossy-compressed.gif" alt="Compressed GIF"></p>
<p>ç»“åˆä¸Šè¿°çš„ä¸¤ç§æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æŸç§ç¨‹åº¦ä¸Šä½¿ç”¨GIFï¼Œå¹¶ä¸”ä¸ä¼šæ€¥å‰§çš„é™ä½æ€§èƒ½ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åŸæ–‡åœ°å€ï¼š&lt;a href=&quot;https://bitsofco.de/optimising-gifs/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://bitsofco.de/optimising-gifs/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è·Ÿå¾ˆå¤šäººä¸€æ ·
    
    </summary>
    
    
      <category term="Web" scheme="http://yoursite.com/tags/Web/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript&#39;s bitwise operators</title>
    <link href="http://yoursite.com/2016/12/30/2016-12-30-JavaScript%E2%80%98s%20bitwise%20operators/"/>
    <id>http://yoursite.com/2016/12/30/2016-12-30-JavaScriptâ€˜s bitwise operators/</id>
    <published>2016-12-30T06:00:00.000Z</published>
    <updated>2016-12-30T13:04:09.251Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨åšcodewarsçš„Morse encoding çš„é¢˜ç›®çš„æ—¶å€™ï¼Œå‘ç°jsçš„ä½è¿ç®—å¾ˆå¥‡æ€ª_(:Ğ·ã‚âˆ )â€¦</p>
<p>ç„¶åè¯•äº†ä¸€ä¸‹</p>
<p><code>console.log((5).toString(2));</code></p>
<p>ç»“æœæ˜¯ <code>101</code></p>
<p><code>console.log(~5)</code></p>
<p>æƒ³è±¡ä¸­åº”è¯¥æ˜¯2 æˆ–è€…010</p>
<p>ç„¶è€Œç»“æœæ˜¯<code>-6</code>â€¦ </p>
<p><strong>Reasonï¼š</strong></p>
<p>The binary representation of numbers in JS is handled in the â€œTwoâ€™s Complementâ€ system. which is just a fancy way of saying that for any given set of bits,the first bit represents the sign (0 for positive,1 for negative) of the number and the rest of the bits represent the â€œabsolute valueâ€ of the number according to the follow simple formula:</p>
<ul>
<li>For positive numbers and 0 ,the value tells how â€œfarâ€ from 0 the number isâ€¦ i.e. 10 in binary(2 in decimal) means â€œ2 above 0â€ ,so for a 3-bit number in Twoâ€™s Complement ,the number 2(decimal) would be represented as â€œ010â€</li>
<li>For negative numbers,how far above the smallest possible value that can be represented with the number of bits available ,e.g. with three bits ,the smallest possible number we can represent is -4 ,so â€œ101â€(binary) is like saying â€œ01 more than -4â€ or -3.</li>
</ul>
<p>so in the example above ,when we â€œflippedâ€ the bits of the number 5,there was the extra â€œsign bitâ€ on the front that got flipped as well.. so what we thought was â€œ101â€ was actually â€œ0101â€ and when we flipped the bits ,we got â€œ1010â€ i.e. â€œ-6â€</p>
<p>å³æ‰€æœ‰çš„æŒ‰ä½æ“ä½œç¬¦çš„æ“ä½œæ•°éƒ½ä¼šè¢«è½¬æˆè¡¥ç ï¼ˆtwoâ€™s complementï¼‰å½¢å¼çš„æœ‰ç¬¦å·32ä½æ•´æ•°ã€‚</p>
<p>æ‰€ä»¥è¦è€ƒè™‘åœ¨è¿›è¡Œä½è¿ç®—çš„æ—¶å€™ä¸€å®šè¦è€ƒè™‘ç¬¦å·ä½..</p>
<p><code>&lt;&lt;</code> æœ‰ç¬¦å·å·¦ç§»</p>
<p><code>&gt;&gt;</code> æœ‰ç¬¦å·å³ç§»</p>
<p><code>&lt;&lt;&lt;</code> æ— ç¬¦å·å·¦ç§»</p>
<p><code>&gt;&gt;&gt;</code>æ— ç¬¦å·å³ç§»</p>
<h4 id="å·§ç”¨"><a href="#å·§ç”¨" class="headerlink" title="å·§ç”¨"></a>å·§ç”¨</h4><ul>
<li><p>åˆ¤æ–­å¥‡å¶æ€§</p>
<p><code>n &amp; 1 === 0 //true ä¸º å¥‡æ•°</code></p>
</li>
<li><p>å‘ä¸‹å–æ•´</p>
<p><code>(3.14 | 0) === 3 //true</code></p>
<p><code>~~3.14 //3</code></p>
</li>
<li><p>å‘ä¸Šå–æ•´</p>
<p><code>-~3.14 //4</code></p>
</li>
<li><p>äº¤æ›¿å˜é‡</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var a = 1, b = 2;</div><div class="line">a ^= b; // a = a ^ b = 1 ^ 2 = 3</div><div class="line">b ^= a; // b = b ^ (a ^ b) = 2 ^ (1 ^ 2) = 1</div><div class="line">a ^= b; // a = a ^ b = 3 ^ 1 = 2</div></pre></td></tr></table></figure>
</li>
<li><p>æ±‚ 2 çš„ N æ¬¡æ–¹</p>
<p><code>1 &lt;&lt; n</code></p>
</li>
<li><p>åˆ¤æ–­æ•°å­—æ­£è´Ÿ</p>
<p><code>(n === (n &gt;&gt;&gt; 0)) ? true : false; //è´Ÿæ•°è¿”å›false</code></p>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨åšcodewarsçš„Morse encoding çš„é¢˜ç›®çš„æ—¶å€™ï¼Œå‘ç°jsçš„ä½è¿ç®—å¾ˆå¥‡æ€ª_(:Ğ·ã‚âˆ )â€¦&lt;/p&gt;
&lt;p&gt;ç„¶åè¯•äº†ä¸€ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;code&gt;console.log((5).toString(2));&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç»“æœæ˜¯ &lt;code&gt;101
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>CodeWars - 3kyu - Morse Encoding</title>
    <link href="http://yoursite.com/2016/12/29/2016-12-29-Codewars-3kyu-MorseEncoding/"/>
    <id>http://yoursite.com/2016/12/29/2016-12-29-Codewars-3kyu-MorseEncoding/</id>
    <published>2016-12-29T02:26:49.000Z</published>
    <updated>2016-12-30T03:49:29.461Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.codewars.com/kata/morse-encoding/train/javascript" target="_blank" rel="external">é¢˜ç›®</a></p>
<p>è¿™ä¸ªé¢˜ç›®çš„è¦æ±‚å°±æ˜¯è®©æˆ‘ä»¬å†™ä¸¤ä¸ªæ–¹æ³•</p>
<p>The first method <code>Morse.encode</code> will take a String representing the message and will return an array of <strong>signed 32-bit integers</strong> in <strong>big-endian order</strong> and in <strong>twoâ€™s complement format</strong>. </p>
<p>The second method <code>Morse.decode</code> will take an array of numbers and return the String representation of the message. </p>
<p>æˆ‘çš„ä»£ç ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Morse = &#123;&#125;;</div><div class="line">Morse.alpha = &#123;</div><div class="line">  <span class="string">'A'</span>: <span class="string">'10111'</span>,</div><div class="line">  <span class="string">'B'</span>: <span class="string">'111010101'</span>,</div><div class="line">  <span class="string">'C'</span>: <span class="string">'11101011101'</span>,</div><div class="line">  <span class="string">'D'</span>: <span class="string">'1110101'</span>,</div><div class="line">  <span class="string">'E'</span>: <span class="string">'1'</span>,</div><div class="line">  <span class="string">'F'</span>: <span class="string">'101011101'</span>,</div><div class="line">  <span class="string">'G'</span>: <span class="string">'111011101'</span>,</div><div class="line">  <span class="string">'H'</span>: <span class="string">'1010101'</span>,</div><div class="line">  <span class="string">'I'</span>: <span class="string">'101'</span>,</div><div class="line">  <span class="string">'J'</span>: <span class="string">'1011101110111'</span>,</div><div class="line">  <span class="string">'K'</span>: <span class="string">'111010111'</span>,</div><div class="line">  <span class="string">'L'</span>: <span class="string">'101110101'</span>,</div><div class="line">  <span class="string">'M'</span>: <span class="string">'1110111'</span>,</div><div class="line">  <span class="string">'N'</span>: <span class="string">'11101'</span>,</div><div class="line">  <span class="string">'O'</span>: <span class="string">'11101110111'</span>,</div><div class="line">  <span class="string">'P'</span>: <span class="string">'10111011101'</span>,</div><div class="line">  <span class="string">'Q'</span>: <span class="string">'1110111010111'</span>,</div><div class="line">  <span class="string">'R'</span>: <span class="string">'1011101'</span>,</div><div class="line">  <span class="string">'S'</span>: <span class="string">'10101'</span>,</div><div class="line">  <span class="string">'T'</span>: <span class="string">'111'</span>,</div><div class="line">  <span class="string">'U'</span>: <span class="string">'1010111'</span>,</div><div class="line">  <span class="string">'V'</span>: <span class="string">'101010111'</span>,</div><div class="line">  <span class="string">'W'</span>: <span class="string">'101110111'</span>,</div><div class="line">  <span class="string">'X'</span>: <span class="string">'11101010111'</span>,</div><div class="line">  <span class="string">'Y'</span>: <span class="string">'1110101110111'</span>,</div><div class="line">  <span class="string">'Z'</span>: <span class="string">'11101110101'</span>,</div><div class="line">  <span class="string">'0'</span>: <span class="string">'1110111011101110111'</span>,</div><div class="line">  <span class="string">'1'</span>: <span class="string">'10111011101110111'</span>,</div><div class="line">  <span class="string">'2'</span>: <span class="string">'101011101110111'</span>,</div><div class="line">  <span class="string">'3'</span>: <span class="string">'1010101110111'</span>,</div><div class="line">  <span class="string">'4'</span>: <span class="string">'10101010111'</span>,</div><div class="line">  <span class="string">'5'</span>: <span class="string">'101010101'</span>,</div><div class="line">  <span class="string">'6'</span>: <span class="string">'11101010101'</span>,</div><div class="line">  <span class="string">'7'</span>: <span class="string">'1110111010101'</span>,</div><div class="line">  <span class="string">'8'</span>: <span class="string">'111011101110101'</span>,</div><div class="line">  <span class="string">'9'</span>: <span class="string">'11101110111011101'</span>,</div><div class="line">  <span class="string">'.'</span>: <span class="string">'10111010111010111'</span>,</div><div class="line">  <span class="string">','</span>: <span class="string">'1110111010101110111'</span>,</div><div class="line">  <span class="string">'?'</span>: <span class="string">'101011101110101'</span>,</div><div class="line">  <span class="string">"'"</span>: <span class="string">'1011101110111011101'</span>,</div><div class="line">  <span class="string">'!'</span>: <span class="string">'1110101110101110111'</span>,</div><div class="line">  <span class="string">'/'</span>: <span class="string">'1110101011101'</span>,</div><div class="line">  <span class="string">'('</span>: <span class="string">'111010111011101'</span>,</div><div class="line">  <span class="string">')'</span>: <span class="string">'1110101110111010111'</span>,</div><div class="line">  <span class="string">'&amp;'</span>: <span class="string">'10111010101'</span>,</div><div class="line">  <span class="string">':'</span>: <span class="string">'11101110111010101'</span>,</div><div class="line">  <span class="string">';'</span>: <span class="string">'11101011101011101'</span>,</div><div class="line">  <span class="string">'='</span>: <span class="string">'1110101010111'</span>,</div><div class="line">  <span class="string">'+'</span>: <span class="string">'1011101011101'</span>,</div><div class="line">  <span class="string">'-'</span>: <span class="string">'111010101010111'</span>,</div><div class="line">  <span class="string">'_'</span>: <span class="string">'10101110111010111'</span>,</div><div class="line">  <span class="string">'"'</span>: <span class="string">'101110101011101'</span>,</div><div class="line">  <span class="string">'$'</span>: <span class="string">'10101011101010111'</span>,</div><div class="line">  <span class="string">'@'</span>: <span class="string">'10111011101011101'</span>,</div><div class="line">  <span class="string">' '</span>: <span class="string">'0'</span> <span class="comment">// Technically is 7 0-bits, but we assume that a space will always be between two other characters</span></div><div class="line">&#125;;</div><div class="line">Morse.encode = <span class="function"><span class="keyword">function</span>(<span class="params">message</span>)</span>&#123;</div><div class="line">	<span class="keyword">let</span> k = message.split(<span class="string">''</span>).map(<span class="function"><span class="params">v</span> =&gt;</span> Morse.alpha[v]).join(<span class="string">'000'</span>)</div><div class="line">	k+=<span class="string">"0"</span>.repeat((<span class="number">32</span>-k.length%<span class="number">32</span>)%<span class="number">32</span>)</div><div class="line">	<span class="keyword">return</span> arr = k.match(<span class="regexp">/\d&#123;32&#125;/g</span>).map(<span class="function"><span class="params">v</span> =&gt;</span> -(~<span class="built_in">parseInt</span>(v,<span class="number">2</span>)+<span class="number">1</span>))</div><div class="line">&#125;;</div><div class="line"></div><div class="line">Morse.decode = <span class="function"><span class="keyword">function</span>(<span class="params">integerArray</span>)</span>&#123;</div><div class="line">  	<span class="keyword">return</span> integerArray.map(<span class="function"><span class="params">v</span>=&gt;</span>&#123;</div><div class="line">  		<span class="keyword">if</span>(v&gt;<span class="number">0</span>)&#123;</div><div class="line">  			<span class="keyword">return</span> <span class="string">"0"</span>.repeat((<span class="number">32</span>-v.toString(<span class="number">2</span>).length%<span class="number">32</span>)%<span class="number">32</span>)+v.toString(<span class="number">2</span>)</div><div class="line">  		&#125;<span class="keyword">else</span>&#123;</div><div class="line">  			<span class="keyword">let</span> tem = (~v).toString(<span class="number">2</span>)</div><div class="line">  			tem=<span class="string">"0"</span>.repeat((<span class="number">32</span>-tem.length%<span class="number">32</span>)%<span class="number">32</span>)+tem</div><div class="line">  			<span class="keyword">return</span> tem.split(<span class="string">''</span>).map(<span class="function"><span class="params">v</span>=&gt;</span>&#123;<span class="keyword">return</span> v^<span class="number">1</span>&#125;).join(<span class="string">''</span>)</div><div class="line">  		&#125;</div><div class="line">  	&#125;).join(<span class="string">''</span>).replace(<span class="regexp">/0+$/</span>,<span class="string">''</span>).split(<span class="string">'000'</span>).map(<span class="function"><span class="params">v</span>=&gt;</span> v[<span class="number">0</span>]==<span class="number">0</span>?<span class="string">" "</span>+check(v.substring(<span class="number">1</span>)):check(v)).join(<span class="string">''</span>)</div><div class="line">&#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">check</span>(<span class="params">s</span>)</span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">let</span> v <span class="keyword">in</span> Morse.alpha)&#123;</div><div class="line">		<span class="keyword">if</span>(Morse.alpha[v] == s)</div><div class="line">			<span class="keyword">return</span> v</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>codewarsé‡Œçš„ç¥¨æ•°æœ€é«˜çš„ç­”æ¡ˆçš„decodeå¦‚ä¸‹</p>
<p>æœç„¶è¿˜æ˜¯è¦å­¦ä¹ ä¸€ä¸ª_(:Ğ·ã‚âˆ ).. æˆ‘å†™çš„checkå‡½æ•°å°±æ˜¾å¾—æ¯”è¾ƒå†—ä½™è€Œä¸”é€Ÿåº¦å¾ˆæ…¢â€¦</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">Morse.decode = <span class="function"><span class="keyword">function</span>(<span class="params">ints</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> bits = ints.map(<span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (<span class="string">'00000000000000000000000000000000'</span> + (i &gt;&gt;&gt; <span class="number">0</span>).toString(<span class="number">2</span>)).slice(<span class="number">-32</span>)</div><div class="line">  &#125;).join(<span class="string">''</span>)</div><div class="line"></div><div class="line">  <span class="keyword">return</span> bits.replace(<span class="regexp">/0+$/</span>, <span class="string">''</span>).split(<span class="string">'0000000'</span>).map(<span class="function"><span class="keyword">function</span>(<span class="params">word</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> word.split(<span class="string">'000'</span>).map(<span class="function"><span class="keyword">function</span>(<span class="params">c</span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> Morse.bits[c]</div><div class="line">    &#125;).join(<span class="string">''</span>)</div><div class="line">  &#125;).join(<span class="string">' '</span>)</div><div class="line">&#125;</div><div class="line">Morse.bits = &#123;&#125;</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> x <span class="keyword">in</span> Morse.alpha) &#123;</div><div class="line">  Morse.bits[Morse.alpha[x]] = x</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æœ‹ç¥è¯´è‡ªåŠ¨æœºæœ€å¿«_(:Ğ·ã‚âˆ )â€¦ï¼ˆç„¶è€Œæˆ‘ä¸ä¼šâ€¦ æœ‰ç©ºå†ç ”ç©¶ä¸€ä¸‹â€¦.ï¼‰</p>
<p>ä¸Šé¢çš„bitsè¿˜å¯ä»¥è¿™æ ·å®ç°â†“</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Morse.bits = <span class="built_in">Object</span>.keys(Morse.alpha).reduce(<span class="function">(<span class="params">p, n</span>) =&gt;</span> (p[Morse.alpha[n]] = n,p), &#123;&#125;)</div></pre></td></tr></table></figure>
<p>ä¸€å¹´åˆè¦è¿‡å»å•¦~~</p>
<p>æ–°å¹´å¿«ä¹~~</p>
<p>QAQåŠ æ²¹å‘€åŠ æ²¹~~</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.codewars.com/kata/morse-encoding/train/javascript&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;é¢˜ç›®&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªé¢˜ç›®çš„è¦æ±‚å°±æ˜¯è®©æˆ‘ä»¬å†™ä¸¤ä¸ªæ–¹æ³•&lt;/p
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>CodeWars - 4kyu - Strip Url Params</title>
    <link href="http://yoursite.com/2016/12/23/2016-12-23-Codewars-4kyu-StripUrlParams/"/>
    <id>http://yoursite.com/2016/12/23/2016-12-23-Codewars-4kyu-StripUrlParams/</id>
    <published>2016-12-23T09:20:20.000Z</published>
    <updated>2016-12-30T03:51:22.226Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.codewars.com/kata/strip-url-params/train/javascript" target="_blank" rel="external">é¢˜ç›®</a></p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description:"></a>Description:</h3><h5 id="Complete-the-method-so-that-it-does-the-following"><a href="#Complete-the-method-so-that-it-does-the-following" class="headerlink" title="Complete the method so that it does the following:"></a>Complete the method so that it does the following:</h5><ul>
<li>Removes any duplicate query string parameters from the url</li>
<li>Removes any query string parameters specified within the 2nd argument (optional array)</li>
</ul>
<h5 id="Examples"><a href="#Examples" class="headerlink" title="Examples:"></a>Examples:</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">stripUrlParams(<span class="string">'www.codewars.com?a=1&amp;b=2&amp;a=2'</span>) <span class="comment">// returns 'www.codewars.com?a=1&amp;b=2'</span></div><div class="line">stripUrlParams(<span class="string">'www.codewars.com?a=1&amp;b=2&amp;a=2'</span>, [<span class="string">'b'</span>]) <span class="comment">// returns 'www.codewars.com?a=1'</span></div><div class="line">stripUrlParams(<span class="string">'www.codewars.com'</span>, [<span class="string">'b'</span>]) <span class="comment">// returns 'www.codewars.com'</span></div></pre></td></tr></table></figure>
<p>I coded 10+ lines but the best practices of all solutions is 2 linesâ€¦ sad â€¦.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//my solution</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">stripUrlParams</span>(<span class="params">url, paramsToStrip</span>)</span>&#123;</div><div class="line">	<span class="keyword">let</span> params = url.substring(url.indexOf(<span class="string">"?"</span>)+<span class="number">1</span>)</div><div class="line">	<span class="keyword">let</span> k = []</div><div class="line">	<span class="keyword">let</span> j = params.split(<span class="string">"&amp;"</span>).filter(<span class="function">(<span class="params">v,i</span>)=&gt;</span>&#123;</div><div class="line">		<span class="keyword">let</span> tem = v.split(<span class="string">"="</span>)[<span class="number">0</span>]</div><div class="line">		<span class="keyword">if</span> (k.indexOf(tem)==<span class="number">-1</span> &amp;&amp; test(paramsToStrip,tem))&#123;</div><div class="line">			k.push(tem)</div><div class="line">			<span class="keyword">return</span> v</div><div class="line">		&#125;</div><div class="line">	&#125;)</div><div class="line">	<span class="keyword">return</span> url.substring(<span class="number">0</span>,url.indexOf(<span class="string">"?"</span>)+<span class="number">1</span>)+j.join(<span class="string">"&amp;"</span>)</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> test = <span class="function">(<span class="params">arr,p</span>)=&gt;</span>&#123;</div><div class="line">	<span class="keyword">if</span>(arr==<span class="literal">undefined</span> || arr.length==<span class="number">0</span>)</div><div class="line">		<span class="keyword">return</span> <span class="literal">true</span></div><div class="line">	<span class="keyword">return</span> arr.indexOf(p)==<span class="number">-1</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//best practices </span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">stripUrlParams</span>(<span class="params">url, paramsToStrip</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> url.replace(<span class="regexp">/&amp;?([^?=]+)=.+?/g</span>, <span class="function"><span class="keyword">function</span>(<span class="params">m, p1, qPos</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> url.indexOf(p1 + <span class="string">'='</span>) &lt; qPos || (paramsToStrip||[]).indexOf(p1) &gt; <span class="number">-1</span> ? <span class="string">""</span>: m;</div><div class="line">   &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>getäº†ä¸€ä¸‹replaceçš„å°trick..</p>
<p>è¯¥å¥½å¥½å­¦å­¦æ­£åˆ™äº†<em>(:Ğ·ã‚âˆ )</em>â€¦</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://www.codewars.com/kata/strip-url-params/train/javascript&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;é¢˜ç›®&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;Description&quot;&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>Hexoï¼‹GitHub pagesï¼‹å¤šè¯´æ­å»ºåšå®¢</title>
    <link href="http://yoursite.com/2016/11/26/2016-11-26-hexo+GitHub%20pages+%E5%A4%9A%E8%AF%B4%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"/>
    <id>http://yoursite.com/2016/11/26/2016-11-26-hexo+GitHub pages+å¤šè¯´æ­å»ºåšå®¢/</id>
    <published>2016-11-26T04:46:25.000Z</published>
    <updated>2016-11-26T07:56:33.434Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æˆ‘çš„æ­å»ºç¯å¢ƒ"><a href="#æˆ‘çš„æ­å»ºç¯å¢ƒ" class="headerlink" title="æˆ‘çš„æ­å»ºç¯å¢ƒ"></a>æˆ‘çš„æ­å»ºç¯å¢ƒ</h3><blockquote>
<p>OS: Windows_NT 6.3.9600 win32 x64</p>
<p>hexo-cli: 1.0.2</p>
<p>hexoï¼š3.2.2</p>
<p>hexo themeï¼šmaterial</p>
<p>gitï¼š2.9.0.windows.1</p>
</blockquote>
<h2 id="Step-1-å®‰è£…-Node-js"><a href="#Step-1-å®‰è£…-Node-js" class="headerlink" title="Step 1 å®‰è£… Node.js"></a>Step 1 å®‰è£… Node.js</h2><p><a href="https://nodejs.org/en/" target="_blank" rel="external">nodejså®˜ç½‘</a></p>
<h2 id="Step-2-å®‰è£…Hexo"><a href="#Step-2-å®‰è£…Hexo" class="headerlink" title="Step 2 å®‰è£…Hexo"></a>Step 2 å®‰è£…Hexo</h2><p><code>npm install -g hexo</code></p>
<h2 id="Step-3-æ­å»ºæœ¬åœ°åšå®¢"><a href="#Step-3-æ­å»ºæœ¬åœ°åšå®¢" class="headerlink" title="Step 3 æ­å»ºæœ¬åœ°åšå®¢"></a>Step 3 æ­å»ºæœ¬åœ°åšå®¢</h2><ul>
<li><p><strong>æ–°å»ºä¸€ä¸ªç›®å½•,å¦‚blog</strong></p>
</li>
<li><p><strong>åœ¨è¯¥ç›®å½•ä¸‹æ‰§è¡Œ</strong><br><code>hexo init</code><br><code>npm install</code><br>æ­¤æ—¶é»˜è®¤ä¸»é¢˜é»˜è®¤é…ç½®çš„åšå®¢å°±æ­å»ºå®Œæˆäº†</p>
</li>
<li><p><strong>å®‰è£…å…³äºå¯åŠ¨æœåŠ¡å™¨çš„æ’ä»¶</strong><br><code>npm install hexo-server --save</code></p>
</li>
<li><p><strong>å¯åŠ¨æœåŠ¡å™¨ é»˜è®¤4000ç«¯å£</strong><br><code>hexo s</code></p>
</li>
<li><p>5.æ‰“å¼€<a href="localhost:4000" target="_blank" rel="external">localhost:4000</a></p>
</li>
</ul>
<h2 id="Step-4-ä¸»é¢˜å’Œé…ç½®"><a href="#Step-4-ä¸»é¢˜å’Œé…ç½®" class="headerlink" title="Step 4 ä¸»é¢˜å’Œé…ç½®"></a>Step 4 ä¸»é¢˜å’Œé…ç½®</h2><p>åœ¨ <a href="https://hexo.io/themes/" target="_blank" rel="external">https://hexo.io/themes/</a>é€‰æ‹©æŸä¸ªå–œæ¬¢çš„ä¸»é¢˜ï¼Œä»¥<a href="https://github.com/viosey/hexo-theme-material" target="_blank" rel="external">Material</a>ä¸ºä¾‹ï¼Œå‡è®¾å½“å‰ç›®å½•ä¸º â€œblogâ€ã€‚</p>
<p>å‰å¾€materialä¸»é¢˜å‘å¸ƒé¡µé¢ä¸‹è½½ä¸»é¢˜çš„å‹ç¼©åŒ…</p>
<p>è§£å‹å¹¶å°†ç›®å½•æ›´åä¸º<strong>material</strong></p>
<p> å°†<strong>material</strong>ç›®å½• ç§»åŠ¨è‡³ <strong>blog/themes/</strong> ç›®å½•ä¸‹</p>
<p>å°† blog ç›®å½•ä¸‹çš„ <strong>_config.yml</strong> æ–‡ä»¶ä¸­çš„ <strong>theme</strong> å±æ€§å€¼æ”¹ä¸º <strong>material</strong></p>
<p>æ­¤æ—¶ä¸»é¢˜æ›´æ¢æˆåŠŸï¼Œå¯å¯åŠ¨ server éªŒè¯æ•ˆæœ</p>
<p>å¯¹äº<strong>_config.yml</strong> ä¸­çš„å…¶ä»–å±æ€§å¯æ ¹æ®æƒ…å†µè‡ªè¡Œä¿®æ”¹</p>
<h2 id="Step-5-å°†åšå®¢éƒ¨ç½²åˆ°Github"><a href="#Step-5-å°†åšå®¢éƒ¨ç½²åˆ°Github" class="headerlink" title="Step 5 å°†åšå®¢éƒ¨ç½²åˆ°Github"></a>Step 5 å°†åšå®¢éƒ¨ç½²åˆ°Github</h2><ul>
<li><p><strong>æ–°å»ºä»“åº“åä¸º <code>githubç”¨æˆ·å.github.io</code></strong><br>æ¯”å¦‚æˆ‘çš„å°±æ˜¯ <a href="lizimeowww.github.io">lizimeowww.github.io</a><br>ç„¶åå°±å¯ä»¥è®¿é—®äº†</p>
</li>
<li><p><strong>å®‰è£… hexo å…³äºgit çš„ç»„ä»¶</strong><br><code>npm install hexo-deployer-git --save</code></p>
</li>
<li><p><strong>åœ¨_config.yml ä¸­ä¸º git æ·»åŠ é…ç½®</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">deploy:</div><div class="line">    type: git</div><div class="line">    repository: ä½ çš„ä»“åº“åœ°å€(git@github.com/ç”¨æˆ·å/ç”¨æˆ·å.github.io.git)</div><div class="line">    branch: master</div></pre></td></tr></table></figure>
</li>
<li><p><strong>æ‰§è¡Œ</strong><br>  &lt;æ¯æ¬¡ä¿®æ”¹éƒ½è¦æ‰§è¡Œè¿™äº›å‘½ä»¤æ‰èƒ½åœ¨github pagesçœ‹åˆ°æ•ˆæœ&gt;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hexo generate</div><div class="line">hexo deploy</div></pre></td></tr></table></figure>
</li>
</ul>
<p>éƒ¨ç½²å®Œæˆä¹‹åè®¿é—®ä½ çš„å¦‚ <code>lizimeowww.github.io</code> çš„ç½‘å€,å³å¯çœ‹åˆ°å’Œæœ¬åœ°ä¸€æ ·çš„æ•ˆæœã€‚</p>
<h2 id="Step-6-åˆ å†™åšå®¢"><a href="#Step-6-åˆ å†™åšå®¢" class="headerlink" title="Step 6 åˆ å†™åšå®¢"></a>Step 6 åˆ å†™åšå®¢</h2><ul>
<li><p><strong>æ–°å»ºåšå®¢</strong><br><code>hexo new &quot;æ–‡ç« å&quot;</code><br>æˆ–è€…ç›´æ¥å†™ä¸€ä¸ª.mdæ–‡ä»¶ä¸¢è¿›<code>source/_post</code>è¿™ä¸ªç›®å½•ä¸‹å°±å¯ä»¥<br>è®°å¾—è¦åŠ ä¸ŠFront-matter </p>
<img src="/2016/11/26/2016-11-26-hexo+GitHub%20pages+å¤šè¯´æ­å»ºåšå®¢/1.png" alt="image" title="image">
</li>
<li><p><strong>åˆ é™¤æ–‡ç« </strong><br>ç›´æ¥åˆ æ‰ source/_post ä¸‹å¯¹åº”æ–‡ç« çš„æ–‡ä»¶ï¼Œç„¶åé‡æ–°ç”Ÿæˆ+éƒ¨ç½²å³å¯ã€‚æœ‰æ—¶å¯èƒ½è¦å¤šåˆ·æ–°å‡ æ¬¡æ‰èƒ½çœ‹åˆ°æ•ˆæœã€‚</p>
</li>
</ul>
<h2 id="Step-7-è¯„è®ºç³»ç»Ÿ"><a href="#Step-7-è¯„è®ºç³»ç»Ÿ" class="headerlink" title="Step 7 è¯„è®ºç³»ç»Ÿ"></a>Step 7 è¯„è®ºç³»ç»Ÿ</h2><ul>
<li><p>ç™»å½• <a href="http://duoshuo.com/" target="_blank" rel="external">http://duoshuo.com/</a>ç‚¹å‡»<strong>æˆ‘è¦å®‰è£…</strong>ï¼Œè®¾ç½®è‡ªå·±çš„ç½‘ç«™ä¿¡æ¯ï¼Œè·å¾—ä»¥ä¸‹é€šç”¨ä»£ç </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- å¤šè¯´è¯„è®ºæ¡† start --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ds-thread"</span> <span class="attr">data-thread-key</span>=<span class="string">"è¯·å°†æ­¤å¤„æ›¿æ¢æˆæ–‡ç« åœ¨ä½ çš„ç«™ç‚¹ä¸­çš„ID"</span> <span class="attr">data-title</span>=<span class="string">"è¯·æ›¿æ¢æˆæ–‡ç« çš„æ ‡é¢˜"</span> <span class="attr">data-url</span>=<span class="string">"è¯·æ›¿æ¢æˆæ–‡ç« çš„ç½‘å€"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- å¤šè¯´è¯„è®ºæ¡† end --&gt;</span></div><div class="line"><span class="comment">&lt;!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">var</span> duoshuoQuery = &#123;<span class="attr">short_name</span>:<span class="string">"lizimeowww"</span>&#125;;</div><div class="line">	(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="keyword">var</span> ds = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</div><div class="line">		ds.type = <span class="string">'text/javascript'</span>;ds.async = <span class="literal">true</span>;</div><div class="line">		ds.src = (<span class="built_in">document</span>.location.protocol == <span class="string">'https:'</span> ? <span class="string">'https:'</span> : <span class="string">'http:'</span>) + <span class="string">'//static.duoshuo.com/embed.js'</span>;</div><div class="line">		ds.charset = <span class="string">'UTF-8'</span>;</div><div class="line">		(<span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>] </div><div class="line">		 || <span class="built_in">document</span>.getElementsByTagName(<span class="string">'body'</span>)[<span class="number">0</span>]).appendChild(ds);</div><div class="line">	&#125;)();</div><div class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- å¤šè¯´å…¬å…±JSä»£ç  end --&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>åœ¨<code>_config.yml</code>ä¸­æ·»åŠ å¤šè¯´çš„é…ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">duoshuo: </div><div class="line">  #on: true</div><div class="line">  domain: http://lizimeowww.duoshuo.com</div><div class="line">  # æ˜¯å¦å¼€å¯å¤šè¯´è¯„è®ºï¼Œhttp://duoshuo.com/create-site/</div><div class="line">  # ä½¿ç”¨ä¸Šé¢ç½‘å€ç™»é™†ä½ çš„å¤šè¯´ï¼Œç„¶ååˆ›å»ºç«™ç‚¹ï¼Œåœ¨ domain ä¸­å¡«å…¥ä½ è®¾å®šçš„åŸŸå</div><div class="line">  # http://ä½ çš„å¤šè¯´åŸŸå.duoshuo.com</div></pre></td></tr></table></figure>
</li>
<li><p>æ‰“å¼€<code>themes\landscape\layout\_partial\comment.ejs</code>ï¼Œå…¨é€‰ï¼Œæ›¿æ¢ä¸º</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;% if (page.comments)&#123; %&gt;  </div><div class="line">&lt;section id=&quot;comment&quot;&gt;  </div><div class="line">  è¿™é‡Œè¦æ”¾ç½®å¤šè¯´æä¾›çš„é€šç”¨ä»£ç   </div><div class="line">&lt;/section&gt;  </div><div class="line">&lt;% &#125; %&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹æ¨¡æ¿</p>
<p>å°†data-thread-key=â€è¯·å°†æ­¤å¤„æ›¿æ¢æˆæ–‡ç« åœ¨ä½ çš„ç«™ç‚¹ä¸­çš„IDâ€ æ›¿æ¢æˆdata-thread-key=â€&lt;%= page.path %&gt;â€<br>å°†data-title=â€è¯·æ›¿æ¢æˆæ–‡ç« çš„æ ‡é¢˜â€ æ›¿æ¢æˆ data-title=â€&lt;%= page.title %&gt;â€<br>å°†data-url=â€è¯·æ›¿æ¢æˆæ–‡ç« çš„ç½‘å€â€ æ›¿æ¢æˆ data-url=â€&lt;%= page.permalink %&gt;â€</p>
<p>â€‹</p>
</li>
</ul>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>çœ‹æ•™ç¨‹ä¸å¦‚çœ‹å®˜æ–¹æ–‡æ¡£ï¼</p>
<p><a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="external">Hexoçš„å®˜æ–¹æ–‡æ¡£</a></p>
<p><a href="https://material.vss.im/start/" target="_blank" rel="external">materialä¸»é¢˜çš„å®˜æ–¹æ–‡æ¡£</a></p>
<p><del>å¤šè¯´å¥½ä¸‘</del></p>
<p>åŸæœ¬æ¥äº†Travis CI è‡ªåŠ¨éƒ¨ç½² ä¸çŸ¥é“å“ªé‡Œæé”™â€¦åšå®¢å°±è¢«æˆ‘ç©åäº†ğŸ˜‚</p>
<p> ç­‰æˆ‘è€ƒå®Œè¯•å†æŠŠå¤šè¯´æ”¹æˆDisqus..&amp;é‡æ–°å¼„ä¸€ä¸‹è‡ªåŠ¨éƒ¨ç½²å¥½äº†â€¦..</p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;æˆ‘çš„æ­å»ºç¯å¢ƒ&quot;&gt;&lt;a href=&quot;#æˆ‘çš„æ­å»ºç¯å¢ƒ&quot; class=&quot;headerlink&quot; title=&quot;æˆ‘çš„æ­å»ºç¯å¢ƒ&quot;&gt;&lt;/a&gt;æˆ‘çš„æ­å»ºç¯å¢ƒ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;OS: Windows_NT 6.3.9600 win32 x64&lt;/p&gt;
&lt;p&gt;
    
    </summary>
    
    
      <category term="æ•™ç¨‹" scheme="http://yoursite.com/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>è§£å†³Ruby gemè¢«å¢™çš„é—®é¢˜</title>
    <link href="http://yoursite.com/2016/11/24/2016-11-24-%E8%A7%A3%E5%86%B3Ruby%20gem%E8%A2%AB%E5%A2%99%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <id>http://yoursite.com/2016/11/24/2016-11-24-è§£å†³Ruby gemè¢«å¢™çš„é—®é¢˜/</id>
    <published>2016-11-24T02:26:49.000Z</published>
    <updated>2016-11-26T07:39:06.154Z</updated>
    
    <content type="html"><![CDATA[<p>gem  install çš„æ—¶å€™â€¦..</p>
<p><code>C:\Windows\System32&gt;gem install jekyll ERROR:  Could not find a valid gem &#39;jekyll&#39; (&gt;= 0), here is why:           Unable to download data from https://rubygems.org/ - SSL_connect retur ned=1 errno=0 state=SSLv3 read server certificate B: certificate verif</code></p>
<p>è¢«å¢™äº†â€¦</p>
<p>æ‰€ä»¥åªèƒ½ç¿»å¢™æˆ–è€…æ¢æºâ€¦</p>
<p>ä¹‹å‰ç”¨SocksCapç¿»å¾—å¥½å¥½çš„â€¦ä»Šå¤©çªç„¶ä¸è¡Œäº†<em>(:Ğ·ã‚âˆ )</em>â€¦</p>
<p>æ‰€ä»¥è¿˜æ˜¯æ¢ä¸ªæºâ€¦</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ gem sources --remove https://rubygems.org/</div><div class="line">$ gem sources -a https://ruby.taobao.org/</div><div class="line">$ gem sources -l</div><div class="line">*** CURRENT SOURCES ***</div><div class="line"></div><div class="line">https://ruby.taobao.org</div></pre></td></tr></table></figure>
<p>æ¢taobaoæºçš„æ—¶å€™æŠ¥äº†è¿™ä¸ªé”™..- - </p>
<p><code>Error fetching https://ruby.taobao.org/: SSL_connect returned=1 errno=0 stat</code></p>
<p>å¤§æ¦‚æœ‰ä¸¤ç§è§£å†³æ–¹æ³•</p>
<h3 id="ç¬¬ä¸€ç§æ–¹æ³•"><a href="#ç¬¬ä¸€ç§æ–¹æ³•" class="headerlink" title="ç¬¬ä¸€ç§æ–¹æ³•"></a>ç¬¬ä¸€ç§æ–¹æ³•</h3><ul>
<li><p>1ã€ä¸‹è½½<a href="http://pan.baidu.com/s/1sl8fk1f" target="_blank" rel="external">http://pan.baidu.com/s/1sl8fk1f</a> å¤åˆ¶åˆ°rubyå®‰è£…çš„æ ¹ç›®å½•</p>
</li>
<li><p>2ã€æ·»åŠ ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼š</p>
<p>SSL_CERT_FILE=rubyçš„æ ¹ç›®å½•åŠ \cacert.pemï¼ˆç±»ä¼¼c:\Ruby22-x64\cacert.pemï¼‰</p>
</li>
<li><p>3ã€å…³é—­å‘½ä»¤è¡Œï¼Œé‡æ–°æ‰“å¼€ï¼Œé‡æ–°é”®å…¥</p>
<p><code>gem sources -a https://ruby.taobao.org/</code></p>
</li>
</ul>
<h3 id="ç¬¬äºŒç§æ–¹æ³•"><a href="#ç¬¬äºŒç§æ–¹æ³•" class="headerlink" title="ç¬¬äºŒç§æ–¹æ³•"></a>ç¬¬äºŒç§æ–¹æ³•</h3><ul>
<li>ä½¿ç”¨ <a href="http://gems.ruby-china.org/" target="_blank" rel="external">http://gems.ruby-china.org/</a> åšä¸ºæº</li>
</ul>
<p>ï¼ˆç¬¬äºŒç§æ²¡è¯•..ç¬¬ä¸€ç§äº²æµ‹å¯è¡Œâ€¦</p>
<p><del>fu*k gfw</del>  </p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;gem  install çš„æ—¶å€™â€¦..&lt;/p&gt;
&lt;p&gt;&lt;code&gt;C:\Windows\System32&amp;gt;gem install jekyll ERROR:  Could not find a valid gem &amp;#39;jekyll&amp;#39; (&amp;gt;= 0),
    
    </summary>
    
    
      <category term="æ‚" scheme="http://yoursite.com/tags/%E6%9D%82/"/>
    
  </entry>
  
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºçš„å°ç»ƒæ‰‹</title>
    <link href="http://yoursite.com/2016/11/23/2016-11-23-wechat-demo/"/>
    <id>http://yoursite.com/2016/11/23/2016-11-23-wechat-demo/</id>
    <published>2016-11-23T11:22:31.000Z</published>
    <updated>2016-11-26T07:38:32.815Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>å–µ~</p>
</blockquote>
<p>å¾®ä¿¡å°ç¨‹åºæ˜¯ä¸€ç§ä¸éœ€è¦ä¸‹è½½å®‰è£…å³å¯ä½¿ç”¨çš„åº”ç”¨ï¼Œå®ƒå®ç°äº†åº”ç”¨â€œè§¦æ‰‹å¯åŠâ€çš„æ¢¦æƒ³ï¼Œç”¨æˆ·æ‰«ä¸€æ‰«æˆ–æœä¸€ä¸‹å³å¯æ‰“å¼€åº”ç”¨ã€‚ç”¨å®Œå³èµ°ï¼Œé€‚åˆåœºæ™¯åŒ–çš„é—®é¢˜ã€‚</p>
<p>å¾®ä¿¡æ¨äº†å°ç¨‹åºä¹‹åå¤§å®¶å¯¹å®ƒçš„å…³æ³¨åº¦ä¸€ç›´å¾ˆé«˜ã€‚æ‰€ä»¥å°±å’Œæœ‹ç¥é»˜é»˜çš„å†™äº†ä¸ªdemoâ€¦</p>
<p style="color:#aaa;font-size:14px;">10æœˆåº•å†™çš„å°ç¨‹åºâ€¦ç°åœ¨11æœˆéƒ½å¿«è¿‡å®Œäº†æ‰å†™åšå®¢2333<em>(:Ğ·ã‚âˆ )</em>â€¦â€¦..</p>

<p><img src="2.gif" alt="2"></p>
<p>è€ƒè™‘äº†ä¸€ä¸‹å°ç¨‹åºç”¨å®Œå³èµ°çš„å®šä½ï¼Œæˆ‘ä»¬åšçš„è¿™ä¸ªä¸œè¥¿åŠŸèƒ½ååˆ†çš„ç®€å•æ˜ç¡®ï¼Œå°±æ˜¯ç”¨æ¥è¿›è¡Œæ´»åŠ¨çš„æŸ¥çœ‹å’Œç­¾åˆ°ï¼Œé€šè¿‡å¾®ä¿¡æä¾›çš„ä½ç½®çš„apiè·å–åæ ‡è¿›è¡Œä½ç½®çš„åˆ¤æ–­ã€‚</p>
<p>å› ä¸ºåŠŸèƒ½æ¯”è¾ƒç®€å•æ‰€ä»¥å°±æ²¡æœ‰ç”¨è„šæ‰‹æ¶â€¦.</p>
<h2 id="ç»“æ„"><a href="#ç»“æ„" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h2><p> <img src="1.png" alt="1"></p>
<p>æ•´ä¸ªé¡¹ç›®çš„ç»“æ„å¤§æ¦‚å¦‚å›¾ï¼Œå°ç¨‹åºç»“æ„è¿˜æ˜¯æ¯”è¾ƒæ¸…æ™°&amp;å¥½ç†è§£çš„ï¼Œ<code>.js</code>è„šæœ¬æ–‡ä»¶ï¼Œ<code>.json</code>é…ç½®æ–‡ä»¶ï¼Œ<code>.wxss</code>æ ·å¼è¡¨æ–‡ä»¶ </p>
<p>app.json æ˜¯å¯¹æ•´ä¸ªå°ç¨‹åºçš„å…¨å±€é…ç½®,å¯ä»¥é…ç½®æœ‰ä½ çš„é¡¹ç›®å“ªäº›é¡µé¢ï¼ŒtabBarï¼Œå¯¼èˆªæ¡ï¼Œç½‘ç»œè¶…æ—¶æ—¶é—´ç­‰ã€‚</p>
<p>app.jsæ˜¯å°ç¨‹åºé€»è¾‘ã€‚åœ¨app.jsé‡Œç”¨<code>App()</code> å‡½æ•°ç”¨æ¥æ³¨å†Œä¸€ä¸ªå°ç¨‹åºã€‚æŒ‡å®šå°ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ç­‰ã€‚</p>
<p><strong>tipsï¼š</strong></p>
<p><strong>pagesé‡Œçš„å››ä¸ªæ–‡ä»¶å¿…é¡»å…·æœ‰ç›¸åŒçš„è·¯å¾„ä¸æ–‡ä»¶åã€‚åªèƒ½é…ç½®æœ€å°‘2ä¸ªã€æœ€å¤š5ä¸ª tab</strong> ã€‚</p>
<h3 id="WXML"><a href="#WXML" class="headerlink" title="WXML"></a>WXML</h3><p>æœ‰ä»¥ä¸‹å‡ ä¸ªåŠŸèƒ½ï¼Œæ„Ÿè§‰è·Ÿvueå·®ä¸å¤š-  -â€¦.æ–‡æ¡£å†™çš„æŒºæ¸…æ¥šçš„â€¦.æ²¡ä»€ä¹ˆå¥½è®²çš„åœ°æ–¹â€¦</p>
<p><a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/data.html?t=20161122" target="_blank" rel="external">æ•°æ®ç»‘å®š</a>ã€<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/list.html?t=20161122" target="_blank" rel="external">åˆ—è¡¨æ¸²æŸ“</a>ã€<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/conditional.html?t=20161122" target="_blank" rel="external">æ¡ä»¶æ¸²æŸ“</a>ã€<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/template.html?t=20161122" target="_blank" rel="external">æ¨¡æ¿</a>ã€<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/event.html?t=20161122" target="_blank" rel="external">äº‹ä»¶</a>ã€<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/framework/view/wxml/import.html?t=20161122" target="_blank" rel="external">å¼•ç”¨</a></p>
<h3 id="WXSS"><a href="#WXSS" class="headerlink" title="WXSS"></a>WXSS</h3><p>è·ŸCSSå‡ ä¹æ˜¯ä¸€æ ·ï¼Œå¤šæ‰©å±•äº†ä¸¤ä¸ªç‰¹æ€§ï¼Œ</p>
<ul>
<li><p>rpxï¼ˆresponsive pixelï¼‰: å¯ä»¥æ ¹æ®å±å¹•å®½åº¦è¿›è¡Œè‡ªé€‚åº”ã€‚</p>
<p>remï¼ˆroot emï¼‰: è§„å®šå±å¹•å®½åº¦ä¸º20remï¼›1rem = (750/20)rpx ã€‚</p>
</li>
<li><p>ä½¿ç”¨<code>@import</code>è¯­å¥å¯ä»¥å¯¼å…¥å¤–è”æ ·å¼è¡¨ï¼Œ<code>@import</code>åè·Ÿéœ€è¦å¯¼å…¥çš„å¤–è”æ ·å¼è¡¨çš„ç›¸å¯¹è·¯å¾„ã€‚</p>
</li>
</ul>
<h2 id="æ´»åŠ¨çš„æ’åº"><a href="#æ´»åŠ¨çš„æ’åº" class="headerlink" title="æ´»åŠ¨çš„æ’åº"></a>æ´»åŠ¨çš„æ’åº</h2><p>è·å–æ´»åŠ¨çš„æ•°æ®ï¼Œæ´»åŠ¨æœ‰ä¸‰ç§çŠ¶æ€ï¼Œæ­£åœ¨è¿›è¡Œï¼Œå³å°†å¼€å§‹ï¼Œå·²ç»“æŸã€‚è¦ä»¤æ­£åœ¨è¿›è¡Œçš„æ´»åŠ¨æ’åœ¨æ´»åŠ¨åˆ—è¡¨çš„æœ€å‰é¢ï¼Œç„¶åæŒ‰ç…§æ´»åŠ¨çš„å¼€å§‹æ—¶é—´è¿›è¡Œæ’åºã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">wx.request(&#123;</div><div class="line">        url,</div><div class="line">        <span class="attr">success</span>: <span class="function"><span class="params">resp</span> =&gt;</span> &#123;</div><div class="line">          <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>()</div><div class="line">          <span class="keyword">const</span> a = resp.data.data.map(<span class="function"><span class="params">i</span> =&gt;</span> &#123;</div><div class="line">            i.start = <span class="keyword">new</span> <span class="built_in">Date</span>(i.start)</div><div class="line">            i.end = <span class="keyword">new</span> <span class="built_in">Date</span>(i.end)</div><div class="line">            <span class="keyword">return</span> i</div><div class="line">          &#125;)</div><div class="line">          <span class="built_in">console</span>.log(<span class="string">"resp"</span>,resp)</div><div class="line">          <span class="keyword">const</span> cmp = <span class="function">(<span class="params">a, b</span>) =&gt;</span> b.start - a.start</div><div class="line">          <span class="keyword">const</span> coming = a.filter(<span class="function"><span class="params">i</span> =&gt;</span> i.start &gt; now).sort(cmp).map(<span class="function"><span class="params">i</span> =&gt;</span> (i.statu = <span class="number">0</span>,i))</div><div class="line">          <span class="keyword">const</span> ing = a.filter(<span class="function"><span class="params">i</span> =&gt;</span> i.start &lt; now &amp;&amp; i.end &gt; now).sort(cmp).map(<span class="function"><span class="params">i</span> =&gt;</span> (i.statu = <span class="number">1</span>,i))</div><div class="line">          <span class="keyword">const</span> end = a.filter(<span class="function"><span class="params">i</span> =&gt;</span> i.end &lt; now).sort(cmp).map(<span class="function"><span class="params">i</span> =&gt;</span> (i.statu = <span class="number">2</span>,i))</div><div class="line">          <span class="keyword">const</span> items = [...ing, ...coming, ...end].map(<span class="function"><span class="params">i</span> =&gt;</span> &#123;</div><div class="line">                                                    i.img = u + i.img</div><div class="line">                                                    i.time = util.formatTime(i.start)</div><div class="line">                                                    <span class="keyword">return</span> i</div><div class="line">                                                  &#125;)</div><div class="line">        </div><div class="line">          <span class="keyword">if</span> (items.length) &#123;</div><div class="line">            <span class="keyword">this</span>.setData(&#123;  <span class="attr">items</span>:that.data.items.concat(items), <span class="attr">loading</span>: <span class="literal">true</span> &#125;);</div><div class="line">          &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">this</span>.setData(&#123; <span class="attr">hasMore</span>: <span class="literal">false</span>, <span class="attr">loading</span>: <span class="literal">false</span> &#125;);</div><div class="line">          &#125;</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">fail</span>: <span class="function"><span class="params">e</span> =&gt;</span> <span class="built_in">console</span>.log(e)</div><div class="line">      &#125;)</div></pre></td></tr></table></figure>
<p>æ´»åŠ¨åˆ—è¡¨çš„ä¸‹æ‹‰åŠ è½½é‡åˆ°äº†ä¸€ç‚¹å‘ã€‚ã€‚</p>
<p>åœ¨wxmlçš„ä»£ç é‡Œï¼Œéœ€è¦å¯¹<code>scroll-view</code>ç»™å®šä¸€ä¸ªå›ºå®šçš„heightï¼Œä¸ç„¶ä»–ä¸ä¼šæœ‰åŠ è½½çš„æ•ˆæœï¼Œä¸ºäº†é€‚é…ä¸åŒçš„åˆ†è¾¨ç‡ï¼Œé€šè¿‡<code>wx.getSystemInfo</code>è·å–ç”¨æˆ·çš„çª—å£é«˜åº¦è¿›è¡Œæ•°æ®ç»‘å®šã€‚ï¼ˆWXML ä¸­çš„åŠ¨æ€æ•°æ®å‡æ¥è‡ªå¯¹åº” Page çš„ dataï¼‰</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">scroll-view</span> <span class="attr">scroll-y</span>=<span class="string">"true"</span> <span class="attr">style</span>=<span class="string">"height:&#123;&#123;windowH&#125;&#125;px"</span> <span class="attr">class</span>=<span class="string">"list"</span> <span class="attr">bindscrolltolower</span>=<span class="string">"handleLoadMore"</span> &gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"activity-box"</span>  <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;items&#125;&#125;"</span> <span class="attr">wx:key</span>=<span class="string">"_id"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">"&#123;&#123; item.img &#125;&#125;"</span> <span class="attr">class</span>=<span class="string">"img &#123;&#123; item.statu !== 1 ? 'mask' : '' &#125;&#125; &#123;&#123; item.statu === 0 ? 'coming' : '' &#125;&#125; &#123;&#123; item.statu === 2 ? 'end' : '' &#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">"block"</span>&gt;</span>&#123;&#123; item.title &#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">"block time"</span>&gt;</span>&#123;&#123; item.time &#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"tips"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">"&#123;&#123; hasMore &#125;&#125;"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">"../../image/loading.gif"</span> <span class="attr">mode</span>=<span class="string">"aspectFill"</span>/&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">text</span>&gt;</span>åŠªåŠ›åŠ è½½ä¸­_(:Ğ·ã‚âˆ )_<span class="tag">&lt;/<span class="name">text</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:else</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">text</span>&gt;</span>æ²¡æœ‰æ›´å¤šå†…å®¹äº†<span class="tag">&lt;/<span class="name">text</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">scroll-view</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></div></pre></td></tr></table></figure>
<p>æ€»è€Œè¨€ä¹‹ï¼Œè·Ÿvueæœ‰ä¸€ç‚¹ç‚¹åƒã€‚ã€‚&amp;<del>æœ‹ç¥ä¸€ç›´åœ¨åæ§½å°ç¨‹åºçš„apiå¾ˆè ¢</del>ã€‚ã€‚ã€‚<em>(:Ğ·ã‚âˆ )</em>â€¦.</p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;å–µ~&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¾®ä¿¡å°ç¨‹åºæ˜¯ä¸€ç§ä¸éœ€è¦ä¸‹è½½å®‰è£…å³å¯ä½¿ç”¨çš„åº”ç”¨ï¼Œå®ƒå®ç°äº†åº”ç”¨â€œè§¦æ‰‹å¯åŠâ€çš„æ¢¦æƒ³ï¼Œç”¨æˆ·æ‰«ä¸€æ‰«æˆ–æœä¸€ä¸‹å³å¯æ‰“å¼€åº”ç”¨ã€‚ç”¨å®Œå³èµ°ï¼Œé€‚åˆåœºæ™¯åŒ–çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å¾®ä¿¡æ¨äº†å°ç¨‹åºä¹‹åå¤§å®¶å¯¹å®ƒçš„å…³æ³¨åº¦ä¸€ç›´å¾ˆé«˜ã€‚æ‰€
    
    </summary>
    
    
      <category term="Web" scheme="http://yoursite.com/tags/Web/"/>
    
  </entry>
  
  <entry>
    <title>react-native android åœ¨windowsä¸‹çš„åˆä½“éªŒ</title>
    <link href="http://yoursite.com/2015/11/16/2015-11-16-react-native%20android%20%E5%9C%A8windows%E4%B8%8B%E7%9A%84%E5%88%9D%E4%BD%93%E9%AA%8C/"/>
    <id>http://yoursite.com/2015/11/16/2015-11-16-react-native android åœ¨windowsä¸‹çš„åˆä½“éªŒ/</id>
    <published>2015-11-16T03:30:00.000Z</published>
    <updated>2016-11-24T14:26:33.379Z</updated>
    
    <content type="html"><![CDATA[<p>#react-native android åœ¨windowsä¸‹çš„åˆä½“éªŒ#</p>
<h2 id="éœ€è¦çš„ç¯å¢ƒï¼š"><a href="#éœ€è¦çš„ç¯å¢ƒï¼š" class="headerlink" title="éœ€è¦çš„ç¯å¢ƒï¼š"></a>éœ€è¦çš„ç¯å¢ƒï¼š</h2><ul>
<li>node 4.0ä»¥ä¸Š ï¼ˆæˆ‘ç”¨çš„æ˜¯node5.0ï¼‰</li>
<li>JDK</li>
<li>android SDK</li>
</ul>
<h3 id="å®‰è£…node"><a href="#å®‰è£…node" class="headerlink" title="å®‰è£…node"></a>å®‰è£…node</h3><p><a href="https://nodejs.org/en/" target="_blank" rel="external">https://nodejs.org/en/</a></p>
<h3 id="å®‰è£…JDK"><a href="#å®‰è£…JDK" class="headerlink" title="å®‰è£…JDK"></a>å®‰è£…JDK</h3><p>ä»<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="external">Javaå®˜ç½‘</a>é€‰ä¸‹è½½æœ€æ–°çš„JDKå¹¶å®‰è£…</p>
<p>é…å¥½ç¯å¢ƒå˜é‡ï¼ˆè¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼‰</p>
<p>é…ç½®å®Œæ¯•åï¼Œé€šè¿‡cmdè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<code>java -version</code>ï¼Œ<code>javac</code> å¦‚æœå‡ºç°è¿”å›ä¿¡æ¯ï¼Œåˆ™è®¾ç½®æˆåŠŸã€‚</p>
<h3 id="ä¸‹è½½android-SDK"><a href="#ä¸‹è½½android-SDK" class="headerlink" title="ä¸‹è½½android SDK"></a>ä¸‹è½½android SDK</h3><p>ä¸‹è½½åœ°å€ï¼š<a href="http://developer.android.com/sdk/index.html" target="_blank" rel="external">http://developer.android.com/sdk/index.html</a></p>
<p>Andorid SDKä¸ºAndroidç®¡ç†å¼€å‘åŒ…å·¥å…·ï¼Œæä¾›äº†Androidå„çº§å¹³å°çš„å¼€å‘åŒ…å’Œå·¥å…·ã€‚æ³¨æ„ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯ç‹¬ç«‹å®‰è£…ï¼Œä¸æ˜¯ä¸€ä½“åŒ–(é›†æˆç³»åˆ—å·¥å…·)æ‰€ä»¥éœ€è¦å•ç‹¬ä¸‹è½½SDKã€‚</p>
<p>è¿è¡Œå®‰è£…æ–‡ä»¶ï¼Œå¹¶æŠŠå®‰è£…ç›®å½•ä¸‹toolsæ–‡ä»¶å¤¹è·¯å¾„è®¾ç½®è¿›PATHç¯å¢ƒå˜é‡ã€‚</p>
<p>åˆ°å®‰è£…ç›®å½•è¿è¡ŒSDK Manager.exe ã€‚<br>æŠŠandroid 4.0ä»¥ä¸Šçš„åŒ…å’Œextraéƒ½è£…äº†ã€‚<br>ï¼ˆå¯èƒ½éœ€è¦ç¿»ä¸€ä¸‹å¢™ï¼‰</p>
<h3 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h3><p><code>npm install -g react-native-cli</code></p>
<p><code>react-native init AwesomeProject</code></p>
<p><code>cd AwesomeProject/</code></p>
<h3 id="è¿è¡Œé¡¹ç›®"><a href="#è¿è¡Œé¡¹ç›®" class="headerlink" title="è¿è¡Œé¡¹ç›®"></a>è¿è¡Œé¡¹ç›®</h3><p><code>react-native start</code> </p>
<p>è¿è¡ŒæˆåŠŸåï¼Œæ‰“å¼€å¦ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£ï¼Œ</p>
<p><code>cd AwesomeProject</code></p>
<p>è¿æ¥å¥½å®‰å“æ¨¡æ‹Ÿå™¨æˆ–è€…çœŸæœºï¼ˆè¦android5.0ä»¥ä¸Šï¼Œä¸ç„¶è¿è¡Œä¹‹åä¼šå‡ºç°Error Type 3ï¼‰</p>
<p>å› ä¸ºæˆ‘çš„å®‰å“æ¨¡æ‹Ÿå™¨ï¼ˆAVDï¼‰è¶…çº§å¡ï¼ŒåŸå…ˆæ˜¯å‹¾é€‰äº†Use Host GPUï¼Œæ¨¡æ‹Ÿå™¨å¯åŠ¨ä¼šåŠ å¿«ï¼Œä½†æ˜¯åæ¥ä¸çŸ¥é“ä¸ºä»€ä¹ˆæ¨¡æ‹Ÿå™¨å¯åŠ¨åä¼šè‡ªåŠ¨é»‘å±ã€‚å–æ¶ˆå‹¾é€‰Use Host GPUä¹‹åæ¨¡æ‹Ÿå™¨åˆå¯åŠ¨ä¸äº†ï¼Œäºæ˜¯æˆ‘å°±æŠŠè‡ªå·±çš„å°ç±³2såˆ·æˆäº†android 5.0 <em>(:Ğ·ã‚âˆ )</em>ã€‚</p>
<p>ç„¶å</p>
<p><code>adb devices</code></p>
<p>æŸ¥çœ‹è‡ªå·±æ˜¯å¦è¿æ¥ä¸Šå®‰å“è®¾å¤‡ï¼Œç¡®å®šè¿æ¥ä¸Šå</p>
<p><code>react-native run-android</code></p>
<p>è¿™ä¸ªæ—¶å€™è®°å¾—æ‰“å¼€ä½ çš„VPNã€‚ã€‚</p>
<p>å¦‚æœå‡ºç°äº†unable to download js bundleï¼Œä¹Ÿå°±æ˜¯ä¸èƒ½reload jsï¼Œå¯ä»¥å°è¯•<br><code>adb reverse tcp:8081 tcp:8081</code></p>
<p>å¦‚æœè¿˜æ˜¯ä¸è¡Œçš„è¯ï¼Œä½ å¯ä»¥å°è¯•è¿™ç¯‡æ–‡ç« çš„æ–¹æ³•<br><a href="http://www.cnblogs.com/unofficial/p/4843734.html" target="_blank" rel="external">http://www.cnblogs.com/unofficial/p/4843734.html</a></p>
<p>æœ€åçš„æœ€åï¼Œç»ˆä¸å¯ä»¥åœ¨æ‰‹æœºä¸Šçœ‹åˆ°è¿™ä¸ªåº”ç”¨å•¦ã€‚</p>
<p>ç„¶åä½ å°±å¯ä»¥åœ¨é€‰å®šçš„æ–‡æœ¬ç¼–è¾‘å™¨ä¸­æ‰“å¼€ index.android.js å¹¶ä¸”ç¼–è¾‘ä»£ç ã€‚</p>
<p>æ‘‡æ™ƒæ‰‹æœºæˆ–è€…æŒ‰èœå•é”®ï¼Œå¯ä»¥çœ‹åˆ°reload JSã€‚ç‚¹å‡»ï¼Œå³å¯çœ‹åˆ°ä¿®æ”¹ä¹‹åçš„æ ·å­ã€‚</p>
<h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p>QAQè‡ªå¸¦bugä½“è´¨ï¼Œå‡ ä¹æ¯ä¸€ä¸ªå‘éƒ½è¸©åˆ°äº†ã€‚GFWçœŸæ˜¯å¤ªçƒ¦äº†ï¼Œä¸‹è½½ä¸œè¥¿è¶…æ…¢ã€‚QAQã€‚ç„¶ååœ¨sdk managerä¸‹è½½ä¸œè¥¿çš„æ—¶å€™å‡ºç°äº†ä¸‹è½½äº†å¥½ä¹…æœ€åæ²¡æœ‰ä¸‹è½½ä¸‹æ¥çš„æƒ…å†µï¼Œ<br>å¥½åœ¨èˆå‹åœ¨ç©å®‰å“ï¼Œä»ä»–é‚£å„¿å¤åˆ¶äº†extraçš„æ•´ä¸ªåŒ…æ‰å¾—ä»¥ç»§ç»­ã€‚è¿˜æœ‰ä¸€ä¸ªå‘å°±æ˜¯åœ¨æ‰‹æœºä¸Šå®‰è£…å®Œä¹‹åå‡ºç°äº†çº¢è‰²çš„é¡µé¢ï¼Œå°±æ˜¯ä¸èƒ½reload jsï¼Œè°·æ­Œç™¾åº¦ä¹‹åå°è¯•äº†å„ç§æ–¹æ³•ï¼Œæœ€åæ‰è·‘äº†èµ·æ¥ã€‚<br>QAQç—›å¿ƒç–¾é¦–ï¼Œæ„Ÿè§‰ä¸‹ä¸€å°ç”µè„‘å¿…é¡»æ˜¯macäº†ã€‚<br>_(:Ğ·ã‚âˆ )</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;#react-native android åœ¨windowsä¸‹çš„åˆä½“éªŒ#&lt;/p&gt;
&lt;h2 id=&quot;éœ€è¦çš„ç¯å¢ƒï¼š&quot;&gt;&lt;a href=&quot;#éœ€è¦çš„ç¯å¢ƒï¼š&quot; class=&quot;headerlink&quot; title=&quot;éœ€è¦çš„ç¯å¢ƒï¼š&quot;&gt;&lt;/a&gt;éœ€è¦çš„ç¯å¢ƒï¼š&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;node
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>å…³äºimpress.jsçš„å­¦ä¹ å°ç»“</title>
    <link href="http://yoursite.com/2015/09/22/2015-09-22-%E5%85%B3%E4%BA%8Eimpress.js%E7%9A%84%E5%AD%A6%E4%B9%A0%E5%B0%8F%E7%BB%93/"/>
    <id>http://yoursite.com/2015/09/22/2015-09-22-å…³äºimpress.jsçš„å­¦ä¹ å°ç»“/</id>
    <published>2015-09-21T16:40:03.000Z</published>
    <updated>2016-11-26T07:37:48.822Z</updated>
    
    <content type="html"><![CDATA[<p>å› ä¸ºå·¥ä½œå®¤è¦åŠå®£è®²ä¼š æ‰“ç®—ç”¨impress.jsåšå‡ ä¸ªppt</p>
<p>æ‰€ä»¥æˆ‘å°±ä¸´æ—¶çš„å­¦äº†ä¸€ä¸‹ è¾¹åšè¾¹å­¦</p>
<p>æ„Ÿè§‰è¿™ä¸ªä¸œè¥¿çš„éš¾ç‚¹å¤§æ¦‚å°±æ˜¯å¯¹ä¸‰ç»´ç©ºé—´çš„åˆ©ç”¨å§ </p>
<p>æ ‡å‡†æ ¼å¼å¦‚ä¸‹</p>
<p><code>&lt;div class=&quot;step&quot; data-å±æ€§=&quot;500&quot; data-y=&quot;-400&quot;&gt;</code></p>
<h3 id="å¸¸ç”¨å±æ€§"><a href="#å¸¸ç”¨å±æ€§" class="headerlink" title="å¸¸ç”¨å±æ€§"></a>å¸¸ç”¨å±æ€§</h3><p><code>data-x data-y data-z</code> å®šä¹‰å…ƒç´ ä¸­å¿ƒåœ¨ç”»å¸ƒçš„åæ ‡ï¼Œé»˜è®¤ä¸º0 ã€‚</p>
<p><code>data-scale = &quot;5&quot;</code> è¿™ä¸ªå…ƒç´ å°±ä¼šè¢«æ”¾å¤§æˆåŸæ¥çš„5å€ã€‚å¦‚æœä»è¿™ä¸ªåœºæ™¯é€€å‡ºï¼Œå®ƒä¼šè¢«è¿˜åŸåŸæ¥çš„å¤§å°ï¼ˆç¼©å°5å€ï¼‰ã€‚</p>
<p><code>data-rotate = &quot;360&quot;</code>é¡ºæ—¶é’ˆæ—‹è½¬360åº¦</p>
<p><code>data-rotate-x = &quot;100&quot;</code> ç»•xè½´æ—‹è½¬100åº¦ã€‚</p>
<p><code>data-rotate-y = &quot;100&quot;</code> ç»•yè½´æ—‹è½¬100åº¦ã€‚</p>
<p><code>data-rotate-z = &quot;100&quot;</code> ç»•zè½´æ—‹è½¬100åº¦ã€‚</p>
<p><code>data-transition-duration=&quot;2000&quot;</code> æ”¹å˜åˆ‡æ¢åœºæ™¯çš„é€Ÿåº¦ï¼Œé»˜è®¤çš„è¯æ˜¯1000ï¼ˆä¹Ÿå°±æ˜¯1ç§’ï¼‰ã€‚</p>
<p><code>data-perspective=&quot;500&quot;</code>æ¥æ”¹å˜é€è§†çš„æ·±åº¦ï¼Œé»˜è®¤æ˜¯1000ã€‚</p>
<h4 id="è¿˜éœ€è¦ä½¿ç”¨-impress-init-å‡½æ•°æ¥åˆå§‹åŒ–impress-js"><a href="#è¿˜éœ€è¦ä½¿ç”¨-impress-init-å‡½æ•°æ¥åˆå§‹åŒ–impress-js" class="headerlink" title="è¿˜éœ€è¦ä½¿ç”¨ impress().init() å‡½æ•°æ¥åˆå§‹åŒ–impress.js"></a>è¿˜éœ€è¦ä½¿ç”¨ <code>impress().init()</code> å‡½æ•°æ¥åˆå§‹åŒ–impress.js</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;script src=&quot;js/impress.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script&gt;impress().init()&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>å¦‚æœç©ºé—´å¸ƒå±€åˆç†çš„è¯ æœ€åç”¨</p>
<p><code>&lt;div id=&quot;overview&quot; class=&quot;step&quot; data-x=&quot;3000&quot; data-y=&quot;1500&quot; data-scale=&quot;10&quot;&gt;</code></p>
<p>ä¼šæœ‰å¾ˆé…·ç‚«çš„æ•ˆæœ</p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨GUIå·¥å…·<a href="https://github.com/tantaman/Strut" target="_blank" rel="external">Strut</a>è¿›è¡Œå¯è§†åŒ–çš„åˆ¶ä½œâ€¦</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å› ä¸ºå·¥ä½œå®¤è¦åŠå®£è®²ä¼š æ‰“ç®—ç”¨impress.jsåšå‡ ä¸ªppt&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘å°±ä¸´æ—¶çš„å­¦äº†ä¸€ä¸‹ è¾¹åšè¾¹å­¦&lt;/p&gt;
&lt;p&gt;æ„Ÿè§‰è¿™ä¸ªä¸œè¥¿çš„éš¾ç‚¹å¤§æ¦‚å°±æ˜¯å¯¹ä¸‰ç»´ç©ºé—´çš„åˆ©ç”¨å§ &lt;/p&gt;
&lt;p&gt;æ ‡å‡†æ ¼å¼å¦‚ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;div class=&amp;quot;step
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>sublimeçš„ä¸€äº›å¸¸ç”¨å¿«æ·é”®</title>
    <link href="http://yoursite.com/2015/08/09/2015-08-09-%E5%85%B3%E4%BA%8Esublime%E7%9A%84%E4%B8%80%E4%BA%9B%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
    <id>http://yoursite.com/2015/08/09/2015-08-09-å…³äºsublimeçš„ä¸€äº›å¿«æ·é”®/</id>
    <published>2015-08-08T17:07:03.000Z</published>
    <updated>2016-11-24T14:27:52.574Z</updated>
    
    <content type="html"><![CDATA[<ul>
<li><code>Alt</code>ï¼šè°ƒå‡ºèœå•</li>
<li><code>Ctrl + Shift + P</code>ï¼šè°ƒå‡ºå‘½ä»¤æ¿ï¼ˆCommand Paletteï¼‰</li>
<li><code>Ctrl + ` </code>ï¼šè°ƒå‡ºæ§åˆ¶å°<br><br></li>
<li><code>Shift+å³é”®æ‹–åŠ¨</code>ï¼šå¤šå…‰æ ‡ï¼Œç”¨æ¥æ›´æ”¹æˆ–æ’å…¥åˆ—å†…å®¹</li>
<li><code>Ctrl + Enter</code>ï¼šåœ¨å½“å‰è¡Œä¸‹é¢æ–°å¢ä¸€è¡Œç„¶åè·³è‡³è¯¥è¡Œ</li>
<li><code>Ctrl + Shift + Enter</code>ï¼šåœ¨å½“å‰è¡Œä¸Šé¢å¢åŠ ä¸€è¡Œå¹¶è·³è‡³è¯¥è¡Œ</li>
<li><code>Ctrl + â†/â†’</code>ï¼šè¿›è¡Œé€è¯ç§»åŠ¨</li>
<li><code>Ctrl + Shift + â†/â†’</code>:è¿›è¡Œé€è¯é€‰æ‹©</li>
<li><code>Ctrl + â†‘/â†“</code>:ç§»åŠ¨å½“å‰æ˜¾ç¤ºåŒºåŸŸ</li>
<li><code>Ctrl + L</code>ï¼šé€‰æ‹©å½“å‰è¡Œ</li>
<li><code>Ctrl + Shift + â†‘/â†“</code>ï¼šç§»åŠ¨å½“å‰è¡Œ<br><br></li>
<li><code>Ctrl + D</code>ï¼šé€‰æ‹©å½“å‰å…‰æ ‡æ‰€åœ¨çš„è¯å¹¶é«˜äº®è¯¥è¯æ‰€æœ‰å‡ºç°çš„ä½ç½®ï¼Œå†æ¬¡Ctrl + Dé€‰æ‹©è¯¥è¯å‡ºç°çš„ä¸‹ä¸€ä¸ªä½ç½®</li>
<li><code>F3</code>ï¼šè·³è‡³å½“å‰å…³é”®å­—ä¸‹ä¸€ä¸ªä½ç½®</li>
<li><code>Shift + F3</code>ï¼šè·³åˆ°å½“å‰å…³é”®å­—ä¸Šä¸€ä¸ªä½ç½®</li>
<li><code>Alt+F3</code>ï¼šé€‰æ‹©æ‰€æœ‰ç›¸åŒçš„è¯<br><br></li>
<li><code>Ctrl + Shift + L</code>ï¼šå°†å½“å‰é€‰ä¸­åŒºåŸŸæ‰“æ•£</li>
<li><code>Ctrl + J</code>ï¼šæŠŠå½“å‰é€‰ä¸­åŒºåŸŸåˆå¹¶ä¸ºä¸€è¡Œ</li>
<li><code>Ctrl + M</code>ï¼šåœ¨èµ·å§‹æ‹¬å·å’Œç»“å°¾æ‹¬å·é—´åˆ‡æ¢</li>
<li><code>Ctrl + Shift + Space</code>ï¼šå¿«é€Ÿé€‰æ‹©å½“å‰ä½œç”¨åŸŸçš„å†…å®¹<br><br></li>
<li><code>Ctrl + F/H</code>ï¼šè¿›è¡Œæ ‡å‡†æŸ¥æ‰¾/æ›¿æ¢ï¼Œä¹‹åï¼š<ul>
<li><code>Alt + C</code>ï¼šåˆ‡æ¢å¤§å°å†™æ•æ„Ÿï¼ˆCase-sensitiveï¼‰æ¨¡å¼</li>
<li><code>Alt + W</code>ï¼šåˆ‡æ¢æ•´å­—åŒ¹é…ï¼ˆWhole matchingï¼‰æ¨¡å¼</li>
<li><code>Alt + R</code>ï¼šåˆ‡æ¢æ­£åˆ™åŒ¹é…ï¼ˆRegex matchingï¼‰æ¨¡å¼</li>
<li><code>Ctrl + Shift + H</code>ï¼šæ›¿æ¢å½“å‰å…³é”®å­—</li>
<li><code>Ctrl + Alt + Enter</code>ï¼šæ›¿æ¢æ‰€æœ‰å…³é”®å­—åŒ¹é…</li>
<li><code>Ctrl + Shift + F</code>ï¼šå¤šæ–‡ä»¶æœç´¢&amp;æ›¿æ¢<br><br></li>
</ul>
</li>
<li><code>Ctrl + P</code>ï¼šè·³è½¬åˆ°æŒ‡å®šæ–‡ä»¶ï¼Œè¾“å…¥æ–‡ä»¶ååå¯ä»¥ï¼š<ul>
<li><code>@</code> :ç¬¦å·è·³è½¬ï¼šè¾“å…¥@symbolè·³è½¬åˆ°symbolç¬¦å·æ‰€åœ¨çš„ä½ç½®<ul>
<li><code>#</code> :å…³é”®å­—è·³è½¬ï¼šè¾“å…¥#keywordè·³è½¬åˆ°keywordæ‰€åœ¨çš„ä½ç½®</li>
<li><code>:</code> :è¡Œå·è·³è½¬ï¼šè¾“å…¥:12è·³è½¬åˆ°æ–‡ä»¶çš„ç¬¬12è¡Œã€‚</li>
</ul>
</li>
</ul>
</li>
<li><code>Ctrl + R</code>ï¼šè·³è½¬åˆ°æŒ‡å®šç¬¦å·</li>
<li><code>Ctrl + G</code>ï¼šè·³è½¬åˆ°æŒ‡å®šè¡Œå·<br><br></li>
<li><code>Ctrl+Tab</code> æŒ‰æ–‡ä»¶æµè§ˆè¿‡çš„é¡ºåºï¼Œåˆ‡æ¢å½“å‰çª—å£çš„æ ‡ç­¾é¡µã€‚</li>
<li><code>Ctrl+PageDown</code> å‘å·¦åˆ‡æ¢å½“å‰çª—å£çš„æ ‡ç­¾é¡µã€‚</li>
<li><code>Ctrl+PageUp</code> å‘å³åˆ‡æ¢å½“å‰çª—å£çš„æ ‡ç­¾é¡µã€‚</li>
<li><code>Alt+Shift+1</code> çª—å£åˆ†å±ï¼Œæ¢å¤é»˜è®¤1å±ï¼ˆéå°é”®ç›˜çš„æ•°å­—ï¼‰</li>
<li><code>Alt+Shift+2</code> å·¦å³åˆ†å±-2åˆ—</li>
<li><code>Alt+Shift+3</code> å·¦å³åˆ†å±-3åˆ—</li>
<li><code>Alt+Shift+4</code> å·¦å³åˆ†å±-4åˆ—</li>
<li><code>Alt+Shift+5</code> ç­‰åˆ†4å±</li>
<li><code>Alt+Shift+8</code> å‚ç›´åˆ†å±-2å±</li>
<li><code>Alt+Shift+9</code> å‚ç›´åˆ†å±-3å±<br>åˆ†å±ä¹‹åï¼Œä½¿ç”¨Ctrl + æ•°å­—é”®è·³è½¬åˆ°æŒ‡å®šå±ï¼Œä½¿ç”¨Ctrl + Shift + æ•°å­—é”®å°†å½“å‰å±ç§»åŠ¨åˆ°æŒ‡å®šå±</li>
<li><code>Ctrl+K+B</code> å¼€å¯/å…³é—­ä¾§è¾¹æ ã€‚</li>
<li><code>F11</code> å…¨å±æ¨¡å¼</li>
<li><code>Shift+F11</code> å…æ‰“æ‰°æ¨¡å¼ </li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;&lt;code&gt;Alt&lt;/code&gt;ï¼šè°ƒå‡ºèœå•&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl + Shift + P&lt;/code&gt;ï¼šè°ƒå‡ºå‘½ä»¤æ¿ï¼ˆCommand Paletteï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl + ` &lt;/code&gt;ï¼šè°ƒå‡ºæ§åˆ¶å°&lt;br&gt;&lt;br&gt;&lt;/
    
    </summary>
    
    
  </entry>
  
</feed>
