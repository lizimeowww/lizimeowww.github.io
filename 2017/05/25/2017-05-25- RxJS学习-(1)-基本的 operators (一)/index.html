<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="baidu-site-verification" content="p6PZXbjGuI"><meta name="google-site-verification" content="9-qBxV8jT3lREj_kflQuOGHMnGpFHuQkC2ZrSwsomfk"><title> RxJS学习-(1)-基本的 operators (一) · lizimeow's blog</title><meta name="description" content="RxJS学习-(1)-基本的 operators (一) - lizimeow"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="lizimeow's blog"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/friends/" target="_self" class="nav-list-link">FRIENDS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">RxJS学习-(1)-基本的 operators (一)</h1><div class="post-info">2017年5月25日</div><div class="post-content"><h2 id="Operators-一"><a href="#Operators-一" class="headerlink" title="Operators (一)"></a>Operators (一)</h2><p><strong>take(n)</strong></p>
<p>取前n个元素</p>
<p><strong>first()</strong></p>
<p>first 会取 observable 送出的第一个元素之后就结束，相当于take(1)</p>
<p><strong>takeUntil( observable )</strong></p>
<p>在某件事情发生时，让一个 observable 直接发出完成信息，例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.interval(<span class="number">1000</span>)</div><div class="line"><span class="keyword">var</span> click = Rx.Observable.fromEvent(<span class="built_in">document</span>.body, <span class="string">'click'</span>)</div><div class="line"><span class="keyword">var</span> example = source.takeUntil(click) <span class="comment">//当点击时，结束sourse事件</span></div><div class="line">example.subscrible(&#123;</div><div class="line">  <span class="attr">next</span>: <span class="function">(<span class="params">value</span>) =&gt;</span> <span class="built_in">console</span>.log(value),</div><div class="line">  <span class="attr">error</span>: <span class="function">(<span class="params">err</span>) =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'err'</span>,err),</div><div class="line">  <span class="attr">complete</span>: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'done'</span>)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="拖拽实例"><a href="#拖拽实例" class="headerlink" title="拖拽实例"></a>拖拽实例</h3><ol>
<li><p>在页面上画一个box (#box)</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*&lt;div id="box"&gt;&lt;/div&gt;*/</span></div><div class="line"><span class="selector-tag">body</span>&#123;</div><div class="line">  <span class="attribute">position</span>: relative;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#box</span>&#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">80px</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">80px</span>;</div><div class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(1,1,1,0.2);</div><div class="line">  <span class="attribute">position</span>: absolute;</div><div class="line">  <span class="attribute">cursor</span>: all-scroll;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>获取要监听的 DOM 元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> box = <span class="built_in">document</span>.querySelector(<span class="string">'#box'</span>)</div><div class="line"><span class="keyword">const</span> body = <span class="built_in">document</span>.body</div></pre></td></tr></table></figure>
<p>监听 box 上的 mousedown ，监听 body 上的 mousemove 和 mouseup </p>
</li>
<li><p>用 <code>fromEvent</code> 来取得各个的 observable</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> mouseDown = Rx.Observable.fromEvent(box, <span class="string">'mousedown'</span>)</div><div class="line"><span class="keyword">const</span> mouseMove = Rx.Observable.fromEvent(body, <span class="string">'mousemove'</span>)</div><div class="line"><span class="keyword">const</span> mouseUp = Rx.Observable.fromEvent(body, <span class="string">'mouseup'</span>)</div></pre></td></tr></table></figure>
</li>
</ol>
<blockquote>
<p>还没 subscribe 之前都不会开始监听，直到 subscribe 之后 observable 才会开始送值</p>
</blockquote>
<ol>
<li><p>当鼠标在元素 (#box) 上按下左键 (mousedown) 时，开始监听鼠标移动 (mousemove) 的位置；当鼠标左键放掉(mouseup)時，结束监听鼠标移动；当鼠标移动(mousemove)被监听时，修改元素的样式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">mouseDown</div><div class="line">  .map(<span class="function"><span class="params">e</span> =&gt;</span> mouseMove.takeUntil(mouseUp)) <span class="comment">//当 mouseDown 时，转成 mouseMove 事件</span></div><div class="line">  .concatAll()</div><div class="line">  .map(<span class="function"><span class="params">e</span> =&gt;</span> (&#123;<span class="attr">x</span>:e.clientX, <span class="attr">y</span>:e.clientY&#125;)) <span class="comment">//用 map 把 mousemove event 转成 x,y 的位置</span></div><div class="line">  .subscribe(<span class="function"><span class="params">pos</span> =&gt;</span> &#123;</div><div class="line">    box.style.left = pos.x - <span class="number">40</span> + <span class="string">'px'</span></div><div class="line">    box.style.top = pos.y - <span class="number">40</span> + <span class="string">'px'</span></div><div class="line">  &#125;)</div></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="Operators-二"><a href="#Operators-二" class="headerlink" title="Operators (二)"></a>Operators (二)</h2><p> <strong>skip(n)</strong></p>
<p>略过前n个元素</p>
<p> <strong>takeLast(n)</strong></p>
<p>take 取前几个，takeLast 取最后几个。 takeLast 必须等到整个 observable 完成(complete)，才能知道最后的元素有哪些，並且<strong>同步送出</strong>，如果用 Marble Diagram 表示如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">source : ----0----1----2----3----4----5|</div><div class="line">                takeLast(2)</div><div class="line">example: ------------------------------(45)|</div></pre></td></tr></table></figure>
<p> <strong>last()</strong></p>
<p>跟 <code>take(1)</code> 相同，我們有一个 <code>takeLast(1)</code> 的简化写法，就是 <code>last()</code> 用來取最后一个元素</p>
<p><strong>concat</strong></p>
<p><code>concat</code> 可以把多個 observable 实例合并成一个</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.interval(<span class="number">1000</span>).take(<span class="number">3</span>);</div><div class="line"><span class="keyword">var</span> source2 = Rx.Observable.of(<span class="number">3</span>)</div><div class="line"><span class="keyword">var</span> source3 = Rx.Observable.of(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</div><div class="line"><span class="keyword">var</span> example = source.concat(source2, source3);</div><div class="line"><span class="comment">//concat 也可以当做静态方法</span></div><div class="line"><span class="comment">//var example = Rx.Observable.concat(source, source2, source3);</span></div></pre></td></tr></table></figure>
<p>跟 concatAll 一样，必须等前一个 observable <strong>完成 ( complete ) </strong>，才会继续下一个</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">source : ---<span class="number">-0</span>---<span class="number">-1</span>---<span class="number">-2</span>|</div><div class="line">source2: (<span class="number">3</span>)|</div><div class="line">source3: (<span class="number">456</span>)|</div><div class="line">            concat()</div><div class="line">example: ---<span class="number">-0</span>---<span class="number">-1</span>---<span class="number">-2</span>(<span class="number">3456</span>)|</div></pre></td></tr></table></figure>
<p><strong>startWith</strong></p>
<p>startWith 可以在 observable 的最开始加入要发送的元素，有点像 concat ，但参数不是 observable ，而是要发送的元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">source : ---<span class="number">-0</span>---<span class="number">-1</span>---<span class="number">-2</span>---<span class="number">-3</span>--...</div><div class="line">                startWith(<span class="number">0</span>)</div><div class="line">example: (<span class="number">0</span>)---<span class="number">-0</span>---<span class="number">-1</span>---<span class="number">-2</span>---<span class="number">-3</span>--...</div></pre></td></tr></table></figure>
<p><code>startWith</code> 的值时一开始就同步发出，这个 operator 经常用来<strong>保存程序的起始状态</strong></p>
<p><strong>merge</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.interval(<span class="number">500</span>).take(<span class="number">3</span>);</div><div class="line"><span class="keyword">var</span> source2 = Rx.Observable.interval(<span class="number">300</span>).take(<span class="number">6</span>);</div><div class="line"><span class="keyword">var</span> example = source.merge(source2);</div><div class="line"><span class="comment">//也可以 var example = Rx.Observable.merge(source, source2)</span></div><div class="line">example.subscribe(&#123;</div><div class="line">    <span class="attr">next</span>: <span class="function">(<span class="params">value</span>) =&gt;</span> &#123; <span class="built_in">console</span>.log(value); &#125;,</div><div class="line">    <span class="attr">error</span>: <span class="function">(<span class="params">err</span>) =&gt;</span> &#123; <span class="built_in">console</span>.log(<span class="string">'Error: '</span> + err); &#125;,</div><div class="line">    <span class="attr">complete</span>: <span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="built_in">console</span>.log(<span class="string">'complete'</span>); &#125;</div><div class="line">&#125;);</div><div class="line"><span class="comment">// 0</span></div><div class="line"><span class="comment">// 0</span></div><div class="line"><span class="comment">// 1</span></div><div class="line"><span class="comment">// 2</span></div><div class="line"><span class="comment">// 1</span></div><div class="line"><span class="comment">// 3</span></div><div class="line"><span class="comment">// 2</span></div><div class="line"><span class="comment">// 4</span></div><div class="line"><span class="comment">// 5</span></div><div class="line"><span class="comment">// complete</span></div></pre></td></tr></table></figure>
<p>由上面的例子可以看出来，<code>merge</code> 把多个 observable 同时处理，也就是按照<strong>时间顺序</strong>处理，这跟 <code>concat</code> 一次处理一个 observable 是完全不一样的，merge 的 Marble Diagram 如下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">source : ---<span class="number">-0</span>---<span class="number">-1</span>---<span class="number">-2</span>|</div><div class="line">source2: -<span class="number">-0</span>-<span class="number">-1</span>-<span class="number">-2</span>-<span class="number">-3</span>-<span class="number">-4</span>-<span class="number">-5</span>|</div><div class="line">            merge()</div><div class="line">example: -<span class="number">-0</span><span class="number">-01</span>-<span class="number">-21</span><span class="number">-3</span>--(<span class="number">24</span>)-<span class="number">-5</span>|</div></pre></td></tr></table></figure>
<p>merge 的 逻辑有点像 or(||) ，就是当两个 observable 其中一个被触发时都可以被处理，这很常用在一个以上的按钮具有部分相同的行为。例如，一个视频播放器有两个按钮，一个是暂停，一个是结束。这两个按钮的相同行为就是视频会被暂停，只是结束会让视频回到 00 秒。这时我们就可以把这两个按钮的事件 merge 起来处理视频暂停这件事。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> stopVideo = Rx.Observable.merge(stopButton, endButton)</div><div class="line">stopVidep.subScribe(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">  <span class="comment">//暂停</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="operators-三-—合并"><a href="#operators-三-—合并" class="headerlink" title="operators(三) —合并"></a>operators(三) —合并</h2><p><strong>combineLatest</strong></p>
<p><code>combineLatest</code> 会取得各个 observable <strong>最后</strong> 送出的值，再输出成一个值，栗子如下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.interval(<span class="number">500</span>).take(<span class="number">3</span>);</div><div class="line"><span class="keyword">var</span> newest = Rx.Observable.interval(<span class="number">300</span>).take(<span class="number">6</span>);</div><div class="line"><span class="keyword">var</span> example = source.combineLatest(newest, (x, y) =&gt; x + y);</div></pre></td></tr></table></figure>
<p>Marble Diagram 如下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">source : ---<span class="number">-0</span>---<span class="number">-1</span>---<span class="number">-2</span>|</div><div class="line">newest : -<span class="number">-0</span>-<span class="number">-1</span>-<span class="number">-2</span>-<span class="number">-3</span>-<span class="number">-4</span>-<span class="number">-5</span>|</div><div class="line"></div><div class="line">    combineLatest(newest, (x, y) =&gt; x + y);</div><div class="line"></div><div class="line">example: ---<span class="number">-01</span>-<span class="number">-23</span><span class="number">-4</span>--(<span class="number">56</span>)-<span class="number">-7</span>|</div></pre></td></tr></table></figure>
<p><code>comblineLatest</code>可以接收多个 observable ，最后一个参数是 callback function ，这个callback function 接收的参数数量跟合并的 observable 数量相同，依照范例来说，因为我们这里合并了两个 observable ，所有后面的 callback function 就接收 x,y 两个参数，x 会接收从 source 发出来的值，y 会接收从 newest 发送出来的值。 </p>
<p><strong>最后一个重点是，一定会等两个 observable <u>都有送值</u>出来才会调用 callback！！</strong> ，所以这段程序是这样运行的：</p>
<ul>
<li>newest 送出了 0 ，此时source 没有送出任何值，所以不执行callback</li>
<li>source 送出了 0 ，此时 newest 最后一次送出的值为 0 ， 把这两个数传入 callback 得到 0</li>
<li>newest 送出了 1 ，此时 source 最后一次的送出值为 0 ，得到 1</li>
<li>newest 送出了 2 ，此时 source 最后一次的送出值为 0 ，得到 2</li>
<li>source 送出了 1 ，此时 newest 最后一次送出的值为 2 ，得到 3</li>
<li>newest 送出了 3 ，此时 source 最后一次的送出值为 1 ，得到 4</li>
<li>source 送出了 2 ，此时 newest 最后一次的送出值为 3 ，得到 5</li>
<li>newest 送出了 4 ，此时 source 最后一次的送出值为 2 ，得到 6</li>
<li>newest 送出了 5 ，此时 source 最后一次的送出值为 2 ，得到 7</li>
<li>newest 結束，因为 source 也结束了，所以 全部结束。</li>
</ul>
<p>不管是 source 还是 newest 产生了值，只要另一方曾有值(最后的值)，就会执行 callback 并送出新的值。这就是<code>combineLatest</code></p>
<p><code>combineLatest</code> 常用在运算多个因子的结果，如最常见的 BMI 计算，我们身高变动时就拿上一次的体重计算新的 BMI ，当体重变动时则拿上一次的身高计算 BMI , 这就很适合用 combineLatest 来处理</p>
<p><strong>zip</strong></p>
<p>zip会取每个<strong>相同位置</strong>的元素并传入 callback ，也就是说每个 observable 的第n个元素会一起被传入 callback 。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> source = Rx.Observable.interval(<span class="number">500</span>).take(<span class="number">3</span>);</div><div class="line"><span class="keyword">var</span> newest = Rx.Observable.interval(<span class="number">300</span>).take(<span class="number">6</span>);</div><div class="line"><span class="keyword">var</span> example = source.zip(newest, (x, y) =&gt; x + y);</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">source : ---<span class="number">-0</span>---<span class="number">-1</span>---<span class="number">-2</span>|</div><div class="line">newest : -<span class="number">-0</span>-<span class="number">-1</span>-<span class="number">-2</span>-<span class="number">-3</span>-<span class="number">-4</span>-<span class="number">-5</span>|</div><div class="line">    zip(newest, (x, y) =&gt; x + y)</div><div class="line">example: ---<span class="number">-0</span>---<span class="number">-2</span>---<span class="number">-4</span>|</div></pre></td></tr></table></figure>
<p>过程如下：</p>
<ul>
<li>newest 送出第一个值为0，此时 source 没有送出第一个值，所以不会执行 callback </li>
<li>source 送出第一个值为0，newest 之前的第一个值是 0，所以执行 callback，得到0</li>
<li>newest 送出第二个值为1，此时 source 没有送出第二个值，所以不会执行 callback </li>
<li>newest 送出第三个值为2，此时 source 没有送出第二个值，所以不会执行 callback </li>
<li>source 送出第二个值为1， newest 之前的第二个值是 1，所以执行 callback ，得到2</li>
<li>newest 送出第四个值为3，此时 source 没有送出第四个值，所以不会执行 callback </li>
<li>source 送出第三个值为2， newest 之前的第三个值是 2，所以执行 callback ，得到4</li>
<li>source 结束 example 就直接结束，因为 source 跟 newest 不会再有对应位置的值</li>
</ul>
<blockquote>
<p>建议平时不要乱用 zip ，除非真的需要。因为 zip 必须 cache 没处理的元素，当两个 observable 一个快一个慢时会 cache 非常多元素。有可能造成内存相关的问题</p>
</blockquote>
<p><strong>withLatestFrom</strong></p>
<p>withLatestFrom 的运作方式跟 combineLatest 有点像，只是他有主从关系，只有在<strong>主要的 observable 送出新值时</strong>， 才会执行callback， 另一个 observable 只是在背景下运行。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> main = Rx.Observable.from(<span class="string">'hello'</span>).zip(Rx.Observable.interval(<span class="number">500</span>), (x, y) =&gt; x);</div><div class="line"><span class="keyword">var</span> some = Rx.Observable.from([<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>]).zip(Rx.Observable.interval(<span class="number">300</span>), (x, y) =&gt; x);</div><div class="line"><span class="keyword">var</span> example = main.withLatestFrom(some, (x, y) =&gt; &#123;</div><div class="line">    <span class="keyword">return</span> y === <span class="number">1</span> ? x.toUpperCase() : x;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>Marble Diagram</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">main   : ----h----e----l----l----o|</div><div class="line">some   : -<span class="number">-0</span>-<span class="number">-1</span>-<span class="number">-0</span>-<span class="number">-0</span>-<span class="number">-0</span>-<span class="number">-1</span>|</div><div class="line"></div><div class="line">withLatestFrom(some, (x, y) =&gt;  y === <span class="number">1</span> ? x.toUpperCase() : x);</div><div class="line"></div><div class="line">example: ----h----e----l----L----O|</div></pre></td></tr></table></figure></div></article></div></section><footer><div class="paginator"><a href="/2017/10/01/2017-10-01- RxJS学习-(2)-基本的 operators (二)/" class="prev">上一篇</a><a href="/2017/05/17/2017-05-17- RxJS学习-(0)-从入门到入门/" class="next">下一篇</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'lizimeow';
var disqus_identifier = '2017/05/25/2017-05-25- RxJS学习-(1)-基本的 operators (一)/';
var disqus_title = 'RxJS学习-(1)-基本的 operators (一)';
var disqus_url = 'http://yoursite.com/2017/05/25/2017-05-25- RxJS学习-(1)-基本的 operators (一)/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//lizimeow.disqus.com/count.js" async></script><div class="copyright"><p>© 2015 - 2017 <a href="http://yoursite.com">lizimeow</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>